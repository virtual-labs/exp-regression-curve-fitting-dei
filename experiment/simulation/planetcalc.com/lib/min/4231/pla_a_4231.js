/*

 Copyright 2016 Google Inc.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

 Copyright 2018 Google Inc.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

 Copyright 2017 Google Inc.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
*****************************************************************************/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){if(b==Array.prototype||b==Object.prototype)return b;b[c]=d.value;return b};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,c){var d=$jscomp.propertyToPolyfillSymbol[c];if(null==d)return b[c];d=b[d];return void 0!==d?d:b[c]};
$jscomp.polyfill=function(b,c,d,e){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,c,d,e):$jscomp.polyfillUnisolated(b,c,d,e))};$jscomp.polyfillUnisolated=function(b,c,d,e){d=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var f=b[e];if(!(f in d))return;d=d[f]}b=b[b.length-1];e=d[b];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(b,c,d,e){var f=b.split(".");b=1===f.length;e=f[0];e=!b&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var m=0;m<f.length-1;m++){var l=f[m];if(!(l in e))return;e=e[l]}f=f[f.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?e[f]:null;c=c(d);null!=c&&(b?$jscomp.defineProperty($jscomp.polyfills,f,{configurable:!0,writable:!0,value:c}):c!==d&&($jscomp.propertyToPolyfillSymbol[f]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(f):$jscomp.POLYFILL_PREFIX+f,f=
$jscomp.propertyToPolyfillSymbol[f],$jscomp.defineProperty(e,f,{configurable:!0,writable:!0,value:c})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(b){if(b)return b;var c=function(f,m){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:m})};c.prototype.toString=function(){return this.$jscomp$symbol$id_};var d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(f||"")+"_"+d++,f)};return e},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<c.length;d++){var e=$jscomp.global[c[d]];"function"===typeof e&&"function"!=typeof e.prototype[b]&&$jscomp.defineProperty(e.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return b},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};$jscomp.findInternal=function(b,c,d){b instanceof String&&(b=String(b));for(var e=b.length,f=0;f<e;f++){var m=b[f];if(c.call(d,m,f,b))return{i:f,v:m}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(c,d){return $jscomp.findInternal(this,c,d).v}},"es6","es3");
$jscomp.iteratorFromArray=function(b,c){b instanceof String&&(b+="");var d=0,e={next:function(){if(d<b.length){var f=d++;return{value:c(f,b[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");
$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},c={};try{return c.__proto__=b,c.a}catch(d){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,c){b.__proto__=c;if(b.__proto__!==c)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.polyfill("Object.setPrototypeOf",function(b){return b||$jscomp.setPrototypeOf},"es6","es5");
$jscomp.owns=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)$jscomp.owns(e,f)&&(b[f]=e[f])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var b={},c=Object.create(new $jscomp.global.Proxy(b,{get:function(d,e,f){return d==b&&"q"==e&&f==c}}));return!0===c.q}catch(d){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.makeIterator=function(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill("WeakMap",function(b){function c(){if(!b||!Object.seal)return!1;try{var r=Object.seal({}),t=Object.seal({}),u=new b([[r,2],[t,3]]);if(2!=u.get(r)||3!=u.get(t))return!1;u.delete(r);u.set(t,4);return!u.has(r)&&4==u.get(t)}catch(F){return!1}}function d(){}function e(r){var t=typeof r;return"object"===t&&null!==r||"function"===t}function f(r){if(!$jscomp.owns(r,l)){var t=new d;$jscomp.defineProperty(r,l,{value:t})}}function m(r){if(!$jscomp.ISOLATE_POLYFILLS){var t=Object[r];t&&(Object[r]=
function(u){if(u instanceof d)return u;Object.isExtensible(u)&&f(u);return t(u)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(c())return b;var l="$jscomp_hidden_"+Math.random();m("freeze");m("preventExtensions");m("seal");var w=0,q=function(r){this.id_=(w+=Math.random()+1).toString();if(r){r=$jscomp.makeIterator(r);for(var t;!(t=r.next()).done;)t=t.value,this.set(t[0],t[1])}};q.prototype.set=function(r,t){if(!e(r))throw Error("Invalid WeakMap key");
f(r);if(!$jscomp.owns(r,l))throw Error("WeakMap key fail: "+r);r[l][this.id_]=t;return this};q.prototype.get=function(r){return e(r)&&$jscomp.owns(r,l)?r[l][this.id_]:void 0};q.prototype.has=function(r){return e(r)&&$jscomp.owns(r,l)&&$jscomp.owns(r[l],this.id_)};q.prototype.delete=function(r){return e(r)&&$jscomp.owns(r,l)&&$jscomp.owns(r[l],this.id_)?delete r[l][this.id_]:!1};return q},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(b){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var q=Object.seal({x:4}),r=new b($jscomp.makeIterator([[q,"s"]]));if("s"!=r.get(q)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var t=r.entries(),u=t.next();if(u.done||u.value[0]!=q||"s"!=u.value[1])return!1;u=t.next();return u.done||4!=u.value[0].x||"t"!=u.value[1]||!t.next().done?!1:!0}catch(F){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(c())return b;var d=new WeakMap,e=function(q){this.data_={};this.head_=l();this.size=0;if(q){q=$jscomp.makeIterator(q);for(var r;!(r=q.next()).done;)r=r.value,this.set(r[0],r[1])}};e.prototype.set=function(q,r){q=0===q?0:q;var t=f(this,q);t.list||(t.list=this.data_[t.id]=[]);t.entry?t.entry.value=r:(t.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:q,value:r},t.list.push(t.entry),
this.head_.previous.next=t.entry,this.head_.previous=t.entry,this.size++);return this};e.prototype.delete=function(q){q=f(this,q);return q.entry&&q.list?(q.list.splice(q.index,1),q.list.length||delete this.data_[q.id],q.entry.previous.next=q.entry.next,q.entry.next.previous=q.entry.previous,q.entry.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=l();this.size=0};e.prototype.has=function(q){return!!f(this,q).entry};e.prototype.get=function(q){return(q=
f(this,q).entry)&&q.value};e.prototype.entries=function(){return m(this,function(q){return[q.key,q.value]})};e.prototype.keys=function(){return m(this,function(q){return q.key})};e.prototype.values=function(){return m(this,function(q){return q.value})};e.prototype.forEach=function(q,r){for(var t=this.entries(),u;!(u=t.next()).done;)u=u.value,q.call(r,u[1],u[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var f=function(q,r){var t=r&&typeof r;"object"==t||"function"==t?d.has(r)?t=d.get(r):
(t=""+ ++w,d.set(r,t)):t="p_"+r;var u=q.data_[t];if(u&&$jscomp.owns(q.data_,t))for(q=0;q<u.length;q++){var F=u[q];if(r!==r&&F.key!==F.key||r===F.key)return{id:t,list:u,index:q,entry:F}}return{id:t,list:u,index:-1,entry:void 0}},m=function(q,r){var t=q.head_;return $jscomp.iteratorPrototype(function(){if(t){for(;t.head!=q.head_;)t=t.previous;for(;t.next!=t.head;)return t=t.next,{done:!1,value:r(t)};t=null}return{done:!0,value:void 0}})},l=function(){var q={};return q.previous=q.next=q.head=q},w=0;
return e},"es6","es3");
$jscomp.polyfill("Set",function(b){function c(){if($jscomp.ASSUME_NO_NATIVE_SET||!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),f=new b($jscomp.makeIterator([e]));if(!f.has(e)||1!=f.size||f.add(e)!=f||1!=f.size||f.add({x:4})!=f||2!=f.size)return!1;var m=f.entries(),l=m.next();if(l.done||l.value[0]!=e||l.value[1]!=e)return!1;l=m.next();return l.done||l.value[0]==e||4!=l.value[0].x||l.value[1]!=l.value[0]?!1:m.next().done}catch(w){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(c())return b;var d=function(e){this.map_=new Map;if(e){e=$jscomp.makeIterator(e);for(var f;!(f=e.next()).done;)this.add(f.value)}this.size=this.map_.size};d.prototype.add=function(e){e=0===e?0:e;this.map_.set(e,e);this.size=this.map_.size;return this};d.prototype.delete=function(e){e=this.map_.delete(e);this.size=this.map_.size;return e};d.prototype.clear=function(){this.map_.clear();this.size=0};d.prototype.has=
function(e){return this.map_.has(e)};d.prototype.entries=function(){return this.map_.entries()};d.prototype.values=function(){return this.map_.values()};d.prototype.keys=d.prototype.values;d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(e,f){var m=this;this.map_.forEach(function(l){return e.call(f,l,l,m)})};return d},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(c,d){return d})}},"es8","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function c(){this.batch_=null}function d(l){return l instanceof f?l:new f(function(w,q){w(l)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;c.prototype.asyncExecute=function(l){if(null==this.batch_){this.batch_=[];var w=this;this.asyncExecuteFunction(function(){w.executeBatch_()})}this.batch_.push(l)};var e=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(l){e(l,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var l=
this.batch_;this.batch_=[];for(var w=0;w<l.length;++w){var q=l[w];l[w]=null;try{q()}catch(r){this.asyncThrow_(r)}}}this.batch_=null};c.prototype.asyncThrow_=function(l){this.asyncExecuteFunction(function(){throw l;})};var f=function(l){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var w=this.createResolveAndReject_();try{l(w.resolve,w.reject)}catch(q){w.reject(q)}};f.prototype.createResolveAndReject_=function(){function l(r){return function(t){q||(q=!0,r.call(w,t))}}var w=this,q=!1;
return{resolve:l(this.resolveTo_),reject:l(this.reject_)}};f.prototype.resolveTo_=function(l){if(l===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof f)this.settleSameAsPromise_(l);else{a:switch(typeof l){case "object":var w=null!=l;break a;case "function":w=!0;break a;default:w=!1}w?this.resolveToNonPromiseObj_(l):this.fulfill_(l)}};f.prototype.resolveToNonPromiseObj_=function(l){var w=void 0;try{w=l.then}catch(q){this.reject_(q);return}"function"==typeof w?
this.settleSameAsThenable_(w,l):this.fulfill_(l)};f.prototype.reject_=function(l){this.settle_(2,l)};f.prototype.fulfill_=function(l){this.settle_(1,l)};f.prototype.settle_=function(l,w){if(0!=this.state_)throw Error("Cannot settle("+l+", "+w+"): Promise already settled in state"+this.state_);this.state_=l;this.result_=w;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var l=0;l<this.onSettledCallbacks_.length;++l)m.asyncExecute(this.onSettledCallbacks_[l]);
this.onSettledCallbacks_=null}};var m=new c;f.prototype.settleSameAsPromise_=function(l){var w=this.createResolveAndReject_();l.callWhenSettled_(w.resolve,w.reject)};f.prototype.settleSameAsThenable_=function(l,w){var q=this.createResolveAndReject_();try{l.call(w,q.resolve,q.reject)}catch(r){q.reject(r)}};f.prototype.then=function(l,w){function q(F,Q){return"function"==typeof F?function(p){try{r(F(p))}catch(h){t(h)}}:Q}var r,t,u=new f(function(F,Q){r=F;t=Q});this.callWhenSettled_(q(l,r),q(w,t));return u};
f.prototype.catch=function(l){return this.then(void 0,l)};f.prototype.callWhenSettled_=function(l,w){function q(){switch(r.state_){case 1:l(r.result_);break;case 2:w(r.result_);break;default:throw Error("Unexpected state: "+r.state_);}}var r=this;null==this.onSettledCallbacks_?m.asyncExecute(q):this.onSettledCallbacks_.push(q)};f.resolve=d;f.reject=function(l){return new f(function(w,q){q(l)})};f.race=function(l){return new f(function(w,q){for(var r=$jscomp.makeIterator(l),t=r.next();!t.done;t=r.next())d(t.value).callWhenSettled_(w,
q)})};f.all=function(l){var w=$jscomp.makeIterator(l),q=w.next();return q.done?d([]):new f(function(r,t){function u(p){return function(h){F[p]=h;Q--;0==Q&&r(F)}}var F=[],Q=0;do F.push(void 0),Q++,d(q.value).callWhenSettled_(u(F.length-1),t),q=w.next();while(!q.done)})};return f},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(c,d,e){d=null!=d?d:function(w){return w};var f=[],m="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];if("function"==typeof m){c=m.call(c);for(var l=0;!(m=c.next()).done;)f.push(d.call(e,m.value,l++))}else for(m=c.length,l=0;l<m;l++)f.push(d.call(e,c[l],l));return f}},"es6","es3");
$jscomp.polyfill("Promise.allSettled",function(b){function c(e){return{status:"fulfilled",value:e}}function d(e){return{status:"rejected",reason:e}}return b?b:function(e){var f=this;e=Array.from(e,function(m){return f.resolve(m).then(c,d)});return f.all(e)}},"es_2020","es3");$jscomp.polyfill("Reflect",function(b){return b?b:{}},"es6","es3");$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(b){var c=function(){};c.prototype=b;return new c};
$jscomp.getConstructImplementation=function(){function b(){function d(){}new d;Reflect.construct(d,[],function(){});return new d instanceof d}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(b())return Reflect.construct;var c=Reflect.construct;return function(d,e,f){d=c(d,e);f&&Reflect.setPrototypeOf(d,f.prototype);return d}}return function(d,e,f){void 0===f&&(f=d);f=$jscomp.objectCreate(f.prototype||Object.prototype);return Function.prototype.apply.call(d,f,e)||
f}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.polyfill("Reflect.construct",function(b){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(c,d,e){var f=this.length||0;0>d&&(d=Math.max(0,f+d));if(null==e||e>f)e=f;e=Number(e);0>e&&(e=Math.max(0,f+e));for(d=Number(d||0);d<e;d++)this[d]=c;return this}},"es6","es3");$jscomp.typedArrayFill=function(b){return b?b:Array.prototype.fill};
$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");function PageCalculators(){}PageCalculators.all=function(){return window.CurrentPageCalculators||[]};PageCalculators.getById=function(b){for(var c=PageCalculators.all(),d=0;d<c.length;++d)if(c[d].CalculatorID==b)return c[d];return null};
PageCalculators.forEachCalc=function(b){for(var c=PageCalculators.all(),d=0;d<c.length;++d)b(c[d])};
function AjaxTable(b,c,d,e,f){var m=this;m.Recordset=new Recordset(b,f);m.savedScroll=null;m.qc=m.Recordset.QueryContext;m.URL=c;var l=null;m.attachUpdateListener=function(w){l=w};m.Renderer=new RecordsetRenderer(d,m.qc.items);m.OnSort=function(w){m.qc.sortcolumn=w;m.qc.sortdirection="ASC"==m.qc.sortdirection?"DESC":"ASC";m.Reload()};m.OnNavigate=function(w,q){2==arguments.length?(m.qc.from=0>w?0:w,m.qc.items=q):m.qc.from=Number(w)*m.qc.items;m.Reload()};m.OnStartLoading=function(){m.savedScroll=
BSGetScroll()};m.ReloadEx=function(w,q){m.URL=q;for(var r in w)m.qc[r]=w[r];m.Reload()};m.Reload=function(){m.OnStartLoading();BSMakePOSTRequest(m.URL,m,m.qc)};m.ReloadFrom=function(w,q){var r=m.URL;m.ReloadEx(w,q);m.URL=r};m.Render=function(){m.Renderer.Render(m.Recordset,m.OnSort,m.OnNavigate)};m.Update=function(w){m.Recordset.LoadFromObject(w);null!=m.savedScroll&&window.scrollTo(m.savedScroll.x,m.savedScroll.y);m.Render();l&&l(m,w)};m.OnResponse=function(w){m.Update(w)}}
function AjaxTableNoEmptyRows(b,c,d,e){this.inheritFrom=AjaxTable;this.inheritFrom(b,c,d,e);this.Renderer=new AjaxTableNoEmptyRowsRenderer(d,this.Recordset.QueryContext.items);this.OnStartLoading=function(){}}function AjaxSetMessages(b,c,d,e){this.inheritFrom=AjaxTable;this.inheritFrom(b,c,d,e);this.OnSort=null;this.Renderer=new CommentsRenderer(d,10);this.OnStartLoading=function(){}}
function SaveObjectToURLParams(b){function c(d,e){var f="",m;for(m in d){var l=d[m];"object"==typeof l&&(l=Value2Json(l,!0));"undefined"!=typeof l&&(f+="&"+m+e+"="+encodeURIComponent(l))}return f}b=Array.isArray(b)?b.reduce(function(d,e){return d+c(e,"[]")},""):c(b,"");return b.length?b.substring(1):b}function BSAdviseEvent(b,c,d,e){b.addEventListener(c,function(f){d(e);return BSPreventDefaultAction(f)},!1)}
function BSGetDataSourceOrigin(){if(void 0!==self.dataSourceDomain)return"//"+self.dataSourceDomain;var b=self.location.hostname;return""==b?self.location.origin:"//"+b}function BSAlert(b){alert(b)}function BSJson2Object(b){return eval("("+b+")")}function ProcessResponseError(b,c){null!=b.OnError?b.OnError(c):BSAlert("Error occured:"+c)}function ProcessResponseData(b,c){c.error?ProcessResponseError(b,c.error):b.OnResponse(c)}
function BrowserResponse(b,c){this.OnResponse=function(){if(4==b.readyState)if(200==b.status){if(c)if(c.OnResponseText)c.OnResponseText(b.responseText);else{var d=BSJson2Object(b.responseText);ProcessResponseData(c,d)}}else if(b.responseText)try{d=BSJson2Object(b.responseText),d.error&&c&&ProcessResponseError(c,d.error)}catch(e){}else BSAlert("Oops! Data retrieving problem:\n"+b.statusText)}}
function BSMakePOSTRequest(b,c,d,e){var f=new XMLHttpRequest;f.onreadystatechange=(new BrowserResponse(f,c)).OnResponse;f.open("POST",b,!e);f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");f.send(d?SaveObjectToURLParams(d):null)}function BSPoint(b,c){this.x=b;this.y=c;this.xpx=b+"px";this.ypx=c+"px"}
function BSGetScroll(){var b=0,c=0;"number"==typeof window.pageYOffset?(c=window.pageYOffset,b=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(c=document.body.scrollTop,b=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(c=document.documentElement.scrollTop,b=document.documentElement.scrollLeft);return new BSPoint(b,c)}function BSSetScroll(b){window.scrollTo(b.x,b.y)}
function BSGetElementSize(b){return new BSPoint(b.clientWidth,b.clientHeight)}function BSGetEventTarget(b){!(b=b.target?b.target:b.srcElement)||3!=b.nodeType&&4!=b.nodeType||(b=b.parentNode);return b}function BSPreventDefaultAction(b){b.preventDefault&&b.preventDefault();return!1}
function BSGetTextSelection(b){var c={};if("undefined"!=typeof b.selectionStart)c.selectionStart=b.selectionStart,c.selectionEnd=b.selectionEnd;else{b.focus();var d=b.createTextRange();d.moveToBookmark(document.selection.createRange().getBookmark());for(var e=d.text.length,f=b.value,m=f.length,l=m-1;0<=l;--l){var w=f.charCodeAt(l);if(10==w||13==w)m--;else break}d.moveEnd("character",b.value.length);c.selectionStart=m-d.text.length;d.moveEnd("character",-d.text.length+e);c.selectionEnd=c.selectionStart+
e}return c}function BSGetPressedKeyCode(b){if(window.event)return b.keyCode;if(b.which)return b.which}
function BSGetPressedKey(b){var c="UNDEFINED RIGHT_ALT LEFT_ALT LEFT_CONTROL RIGHT_CONTROL LEFT_SHIFT RIGHT_SHIFT LEFT_META RIGHT_META CAPS_LOCK DELETE END ENTER ESCAPE HOME INSERT NUM_LOCK PAUSE PRINTSCREEN SCROLL_LOCK LEFT RIGHT UP DOWN PAGE_DOWN PAGE_UP F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 F20 F21 F22 F23 F24".split(" "),d={};if("undefined"!=typeof b.which)d.charCode=b.which;else if(window.event)d.charCode=b.keyCode;else for(var e=0;e<c.length;++e)b[c[e]]==b.keyCode&&
(d.vk="DOM_VK"+c[e]);return d}function BSGetTextContent(b){return b.textContent?b.textContent:b.innerText}function BSReplaceOptions(b,c){if(b.outerHTML){var d=b.outerHTML,e=d.search(/<option/i);b.outerHTML=-1==e?d.replace(/<\/select>/i,c+"</select>"):d.substr(0,e)+c+"</select>"}else b.innerHTML=c}function BSGetMaxWidthProperty(){return document.all?"width":"max-width"}
function BSAddSelectOption(b,c,d){var e=document.createElement("option");e.text=d;e.value=c;window.ActiveXObject?b.add(e):b.add(e,null)}function trim(b){b=b.replace(/^\s+/,"");for(var c=b.length-1;0<=c;c--)if(/\S/.test(b.charAt(c))){b=b.substring(0,c+1);break}return b}function leftpad(b,c,d){for(b=new String(b);b.length<d;)b=c+b;return b}function String2Date(b,c){var d=new Date;if("string"==typeof b){if(b=TryString2Date(b,c),b instanceof Date)return b}else d=new Date(b);return d}
function String2Array(b,c){if("number"==typeof b)return[c(b)];if(Array.isArray(b))return b.map(c);b=b.trim();if(!b.length)return[];b=b.replace(/,/g,".");b=b.split(/\s+/);for(var d=[],e,f=0;f<b.length;++f){try{e=c(b[f])}catch(m){e=b[f]}d.push(e)}return d}function Array2String(b){return"string"===typeof b?b:b.join(" ")}function String2Matrix(b,c){function d(e){return String2Array(e,c)}if(Array.isArray(b))return b.map(d);b=b.trim();return b.length?b.split("\n").map(d):[]}
function Matrix2String(b){return"string"===typeof b?b:b.map(function(c){return c.join(" ")}).join("\n")}function ldateCreator(b,c,d,e,f,m,l){e=new Date(b,c,d,e,f,m,l);e.setFullYear(b);e.setMonth(c);e.setDate(d);return e}
function TryString2Date(b,c){if(!b)return b;var d=trim(b);if(b=d.match(/^(\d{4})-(\d{2})-(\d{2})( [0-2]\d:[0-5]\d:[0-5]\d)?( BC)?/i)){d=b[5];var e=b[4]?trim(b[4]).split(":"):[0,0,0];return(c?c:ldateCreator)(" BC"==d?1-Number(b[1]):Number(b[1]),Number(b[2])-1,b[3],Number(e[0]),Number(e[1]),Number(e[2]),0)}return d}
function Date2String(b){var c=b.getFullYear(),d=0>=c?" BC":"";0>=c&&(c=1-c);return leftpad(c,"0",4)+"-"+leftpad(b.getMonth()+1,"0",2)+"-"+leftpad(b.getDate(),"0",2)+" "+leftpad(b.getHours(),"0",2)+":"+leftpad(b.getMinutes(),"0",2)+":"+leftpad(b.getSeconds(),"0",2)+d}function BSDateParse(b){return String2Date(b)}function BSIsSystemKey(b){return 120==b.charCode||99==b.charCode||118==b.charCode}
function BSScrollToElement(b,c){$("html,body").animate({scrollTop:b.offset().top-$(".q7").height()},"slow","swing",c)}function BSGetDataSourceDomain(){return void 0!==self.dataSourceDomain?self.dataSourceDomain:self.location.hostname}var BACK_SPACE_ASCII_CODE=8,ENTER_ASCII_CODE=13,TAB_ASCII_CODE=9;
function ElementWithMessage(){var b=this;b.GetElementToShow=function(){var c=b.GetElement(),d=c.parentNode;if("FOOTER"==d.tagName)return c;for(;d;){var e=d.classList;if(e&&e.contains("x_")&&!e.contains("pc-cell-inner"))return d;d=d.parentNode}return c.parentNode};b.Show=function(){return b.GetElementToShow().style.display="block"};b.Hide=function(){return b.GetElementToShow().style.display="none"};b.getMsgElement=function(){if(b.GetElement()){var c=b.GetElementToShow().getElementsByClassName("e4");
if(c.length)return c[0]}};b.ShowMessage=function(c){var d=b.getMsgElement();if(d)return d.hasAttribute("data-original")||d.setAttribute("data-original",d.innerHTML),d.innerHTML=c,!0;alert(c)}}
function ElementAccessorRadio(){var b=this,c=null;b.changeSources=function(){if(!c){c=[];for(var d=0,e;e=document.getElementById(b.id+d++);)c.push(e)}return c};b.GetElement=function(){return document.getElementById(b.id+"0")};b.GetValue=function(){for(var d=b.changeSources(),e=0;e<d.length;++e){var f=d[e];if(f.checked)return f.value}};b.ResetValue=function(){b.changeSources().forEach(function(d){d.checked=d.defaultChecked})};b.SetValue=function(d){b.changeSources().forEach(function(e){e.checked=e.value==
d})};b.GetRawValue=function(){return b.GetValue()}}
function ElementAccessorCheckbox(){var b=this;b.changeSources=function(){return[b.GetElement()]};b.GetElement=function(){return document.getElementById(b.id)};b.ResetValue=function(){var c=b.GetElement();c.checked=c.defaultChecked};b.GetValue=function(){return b.GetElement().checked?1:0};b.SetValue=function(c){var d=b.GetElement();d.checked=Number(c)?1:0;c=$(d).parents(".x6");d.checked?c.addClass("y6"):c.removeClass("y6")};b.GetParent=function(){return b.GetElement().parentNode.parentNode.parentNode.parentNode};b.GetRawValue=
function(){return b.GetValue()}}
function ElementAccessorDefault(){var b=this;b.GetElement=function(){return document.getElementById(b.id)};b.GetValue=function(){return b.GetRawValue()};b.GetRawValue=function(){var c=b.GetElement();if(c)return c.value};b.ResetValue=function(){var c=b.GetElement();c&&void 0!==c.defaultValue&&(c.value=c.defaultValue)};b.SetValue=function(c){var d=b.GetElement();d&&(void 0===d.type?d.innerHTML=c:(d.value=c,"text"==d.type&&(d=$(d).parent(),void 0!==c&&""!==c?(d.addClass("o1"),d.find("label").addClass("i3")):
d.find("label").removeClass("i3"))))}}function ElementAccessorInputImage(){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.GetParent=function(){return b.GetElement().parentNode.parentNode};b.GetRawValue=function(){return $(b.GetElement()).data("value")};b.SetValue=function(c){var d=$(b.GetElement());d.data("value",c);c&&""!=c?(d.attr("src",c+"_thumb.png"),d.parent().find("span").hide()):(d.hide(),d.parent().find("span").show())}}
function ElementAccessorOutput(){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.GetRawValue=function(){var c=b.GetElement();return"undefined"==typeof c.type?c.innerHTML:c.value}}
function NullableInputHandler(b){var c=$(b.GetElement()),d=this;d.nullable=c.hasClass("ve");d.showButton=function(){d.nullable&&c.parent().find(".we").toggleClass("x",""==c.val());return!0};d.nullable&&(c.parent().find(".we").find("button").on("click",function(){b.SetValue("");if("createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0);c[0].dispatchEvent(e)}else c[0].fireEvent("onchange")}),d.showButton(),c.on("change",function(){d.showButton()}))}
function ElementAccessorText(){var b=this,c;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.nullable=!1;b.changeSources=function(){return[b.GetElement()]};b.keypressSources=b.changeSources;b.GetValue=function(){var e=b.GetRawValue();""==e&&b.nullable&&(e=void 0);return e};var d=b.SetValue;b.SetValue=function(e){d.call(b,e);c&&c.showButton()};b.init=function(){c=new NullableInputHandler(b);b.nullable=c.nullable}}
function ElementAccessorNumber(){var b=this;b.inheritFrom=ElementAccessorText;b.inheritFrom();var c=b.GetValue;b.GetValue=function(){var d=c.call(b);return void 0===d?b.nullable?d:0:Number(d.replace(",","."))}}function ElementAccessorImage(){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.GetRawValue=function(){return b.GetElement().src};b.ResetValue=function(){};b.SetValue=function(c){b.GetElement().src=c}}
function ElementAccessorCalculator(b){var c=this;c.changeSources=function(){return[b]};c.inheritFrom=ElementAccessorDefault;c.inheritFrom();c.GetParent=function(){return c.GetElement()};c.GetRawValue=function(){return b.Dialog.GetValues()};c.ResetValue=function(){};c.SetValue=function(d){b.Dialog.SetValues(d)}}
function ElementAccessorSelect(b){var c=this;c.init=function(){b&&c.SetValue(b())};c.changeSources=function(){return[c.GetElement()]};c.GetElement=function(){return document.getElementById(c.id)};c.GetValue=function(){return c.GetElement().value};c.forEachOption=function(d){for(var e=c.GetElement(),f=0;f<e.options.length;++f){var m=d(e.options[f],f);if(void 0!==m)return m}};c.ResetValue=function(){var d;b&&(d=b());c.forEachOption(function(e){void 0===d&&(d=e.value);if(e.defaultSelected)return d=e.value,
!0});void 0!==d&&c.SetValue(d)};c.SetValue=function(d){var e;c.forEachOption(function(f){if(f.value==d)return e=f.value,!0;f.text==d&&(e=f.value)});void 0!==e&&(c.GetElement().value=e)};c.GetRawValue=function(){return c.GetValue()};c.showOptions=function(d){var e=c.GetValue(),f,m=!0;c.forEachOption(function(l){var w=!d[l.value];$(l).prop("disabled",w);m||(m=l.value==e);!w&&m&&(f=l.value,m=!1)});e!==f&&(c.GetElement().value=f)};c.replaceOptions=function(d){for(var e=c.GetElement(),f=c.GetValue(),m;e.options.length;)e.remove(0);
for(var l in d)BSAddSelectOption(e,l,d[l]),l==f&&(m=!0);m&&(e.value=f)};c.getOptions=function(){var d={};c.forEachOption(function(e){d[e.value]=e.innerHTML});return d}}
function ElementAccessorDate(b){function c(O,x){return O?Number(O.value):x}function d(O,x){O&&(O.value=x)}function e(O,x){O=O.toString();var H=3>O.length?"000".substr(O.length):"";return(x?"":H)+O+(x?H:"")}function f(O){for(;O.options.length;)O.remove(0)}function m(O,x,H,J,C){if(O){f(O);for(var E=0;E<x;++E){var B=C&&!E?C:E;BSAddSelectOption(O,E,(J&&10>B?"0":"")+B)}O.value=H}}var l=this,w={y:"FullYear",m:"Month",d:"Date",h:"Hours",n:"Minutes",s:"Seconds",w:"Day",i:"Milliseconds"},q=b&8?1:0,r=b&16?
1:0,t=0!=(b&4096)||0==(b&8192)&&PCF.is12hourClock(),u=q?function(O,x,H,J,C,E,B){return new Date(Date.UTC(O,x,H,J,C,E,B))}:ldateCreator,F={},Q={},p={},h;for(h in w){var y=(q?"UTC":"")+w[h];F[h]=Date.prototype["get"+y];"w"!=h&&(Q[h]=Date.prototype["set"+y]);q!=r&&(p[h]=Date.prototype["get"+(r?"UTC":"")+w[h]])}q==r&&(p=F);l.YearsGap=100;l.CenturyGap=25;l.changeSources=function(){var O=l.GetControls(),x=[],H;for(H in O)O[H]&&x.push(O[H]);return x};l.GetElement=function(){return document.getElementById(l.id)};
l.GetControls=function(){l.ctrls||(l.ctrls={d:document.getElementById(l.id+"_day"),m:document.getElementById(l.id+"_month"),y:document.getElementById(l.id+"_year"),c:document.getElementById(l.id+"_century"),h:document.getElementById(l.id+"_hour"),n:document.getElementById(l.id+"_minute"),s:document.getElementById(l.id+"_second"),i:document.getElementById(l.id+"_millisecond"),a:document.getElementById(l.id+"_ampm")});return l.ctrls};l.GetValue=function(){var O=l.GetControls(),x=Number(O.y?O.y.value:
O.c?O.c.value:0),H=u(x,c(O.m,0),c(O.d,1),c(O.h,0)+(t?12*c(O.a,0):0),c(O.n,0),c(O.s,0),Number(e(c(O.i,"0"),!0)));0<=x&&100>x&&(Q.y.call(H,x),O.m&&Q.m.call(H,O.m.value),O.d&&Q.d.call(H,O.d.value));return H};l.GetRawValue=function(){return l.GetValue()};var K=new Date;l.ResetValue=function(){l.SetValue(K)};l.SetValue=function(O){O=new Date(String2Date(O));var x=l.GetControls();d(x.m,F.m.call(O));d(x.d,F.d.call(O));var H=F.h.call(O);t?(d(x.h,H),d(x.a,11<H?1:0)):d(x.h,H);d(x.n,F.n.call(O));d(x.s,F.s.call(O));
d(x.i,e(F.i.call(O)));l.UpdateY(O);l.UpdateD(O)};l.UpdateY=function(O){var x=l.GetControls(),H=getFormattedMessage("b_c");H=H?" "+H:"";O=F.y.call(O);if(x.y){f(x.y);for(var J=-l.YearsGap;J<=l.YearsGap;++J){var C=O+J,E=b&1024?C.toString().slice(-2):C;0>=C&&(E=1-C+H);BSAddSelectOption(x.y,C,E)}x.c||(x.y.value=O)}if(x.c){f(x.c);for(J=-l.CenturyGap;J<=l.CenturyGap;++J){C=O+100*J;E=Math.floor((C-1)/100);if(0<=E){var B=PCL.getOrdinal(E+1);E=B.replace("%1",E+1)}else B=PCL.getOrdinal(-E),E=B.replace("%1",
-E)+H;BSAddSelectOption(x.c,C,E)}x.c.value=O;x.y&&(x.y.value=O)}};l.UpdateD=function(O){var x=l.GetControls();if(x.d){f(x.d);for(var H=1;31>=H;++H){var J=new Date(O);Q.d.call(J,H);if(F.m.call(O)!=F.m.call(J))break;var C="";0===(b&64)&&(C=getFormattedMessage((b&2048?"l":"")+"dow_"+F.w.call(J))+" ");BSAddSelectOption(x.d,H,C+H)}x.d.value=F.d.call(O)}};l.init=function(){var O=document.getElementById(l.id+"_ampm");O&&(t?$(O).parent().removeClass("x"):$(O).parent().addClass("x"));var x=document.getElementById(l.id).getAttribute("data-value");
""!=x?x=String2Date(x,u):(x=new Date,F!=p&&(x=u(p.y.call(x),p.m.call(x),p.d.call(x),p.h.call(x),p.n.call(x),p.s.call(x),p.i.call(x))));K=x;l.Initialize(x,t&&O);var H=l.GetControls(),J=function(C){var E=new Date(l.GetValue());C.currentTarget==H.c&&Q.y.call(E,H.c.value);C.currentTarget!=H.d&&l.UpdateY(E);l.UpdateD(E)};[H.c,H.y,H.m].forEach(function(C){C&&C.addEventListener("change",J)})};l.Initialize=function(O,x){var H=l.GetControls(),J=F.h.call(O);x?(m(H.h,12,J%12,0,12),H.a.value=11<J?1:0):m(H.h,
24,J,0);m(H.n,60,F.n.call(O),1);m(H.s,60,F.s.call(O),1);if(H.m){f(H.m);if(b&1024)for(x=0;12>x;++x)BSAddSelectOption(H.m,x,leftpad(x+1,"0",2));else for(x=!1,0===(b&2048)&&(x=l.GetElement().parentNode.offsetWidth,x=0!=(b&16384)||375>=x),J=x?"smon_":(H.d?"f":"")+"mon_",x=0;12>x;++x)BSAddSelectOption(H.m,x,getFormattedMessage(J+x));H.m.value=F.m.call(O)}H.i&&(H.i.value=e(F.i.call(O)),H.i.addEventListener("keypress",function(C){C=BSGetPressedKey(C);if("undefined"==typeof C||0==C.charCode||BSIsSystemKey(C))return!0;
C=C.charCode;if(48>C||57<C)return!1;C=this.selectionStart;this.value=this.value.substr(0,C)+this.value.substr(C+1);this.selectionEnd=C},!1));l.UpdateY(O);l.UpdateD(O)}}
function ElementAccessorSlider(b){function c(m){var l=e.root_.getAttribute("aria-controls");l&&(l=document.getElementById(l))&&(l.innerHTML=l.innerHTML.replace(/\d+/,m))}var d=this,e=null;b=50;var f=null;d.addEventListener=function(m,l){"change"==m&&(f=l)};d.init=function(){e=PLANETCALC.slider(d.GetElement());b=e.value;e.root_.addEventListener("MDCSlider:change",function(m){e.value=m.detail.value;c(e.value);f&&f()})};d.layout=function(){e.layout()};d.changeSources=function(){return[d]};d.GetElement=
function(){return document.getElementById(d.id)};d.ResetValue=function(){e.value=b;setTimeout(function(){e.layout();c(b)},500)};d.GetValue=function(){return e.value};d.SetValue=function(m){e.value=m;setTimeout(function(){e.layout();c(e.value)},500)};d.GetParent=function(){return d.GetElement()};d.GetRawValue=function(){return d.GetValue()}}
function ElementAccessorPrecision(b){var c=this,d=null;c.init=function(){d=PLANETCALC.slider(c.GetElement());d.root_.addEventListener("MDCSlider:change",function(e){PCF.changeCalcPrecision2(e.detail.value)});void 0!==b&&PCF.setDefaultPrecision(b);PCF.addPrecisionControl(d)};c.layout=function(){d.layout()};c.changeSources=function(){return[window.PCF]};c.GetElement=function(){return document.getElementById(c.id)};c.ResetValue=function(){};c.GetValue=function(){return d.value};c.SetValue=function(e){d.value=
e};c.GetParent=function(){return c.GetElement()};c.GetRawValue=function(){return c.GetValue()}}function ElementAccessorResource(){var b=this;b.GetElement=function(){return document.getElementById(b.id)};b.ResetValue=function(){};b.GetValue=function(){return eval("("+b.id+"_data)")};b.SetValue=function(c){};b.GetRawValue=function(){return null}}
function ElementAccessorDegrees(){function b(w,q){var r=Number(w.value);if(!(60>r))for(var t=0;t<q.length;++t){var u=Math.floor(r),F=u%60;w.value=r-u+F;r=(u-F)/60;w=q[t];w.value=r}}function c(w,q){var r=.5;q&&(r/=Math.pow(60,q));(q=PCF.getCalcPrecision())&&(r/=Math.pow(10,q));w-=Math.round(w);0>w&&(w=-w);return w<r}function d(w,q){var r=Number(w.value);if(c(r,q.length))w.value=Math.round(r);else for(var t=0;t<q.length;++t){if(c(r,q.length-t))w.value=Math.round(r),r=0;else{var u=Math.floor(r);w.value=
u;r=60*(r-u)}w=q[t];t==q.length-1&&(w.value=PCF.format("%1",r))}}var e=this;e.inheritFrom=ElementWithMessage;e.inheritFrom();var f=null;e.getDegreeControls=function(){f||(f=[document.getElementById(e.id+"_deg"),document.getElementById(e.id+"_min"),document.getElementById(e.id+"_sec")]);return f};e.changeSources=function(){return e.getDegreeControls()};var m=new ValidatorNumber(!1,!0),l=null;e.calculateDegreeValue=function(){var w=1,q=0;f.forEach(function(r){q+=Number(r.value)/w;w*=60});return q};
e.calculateValue=function(){return e.calculateDegreeValue()};e.storeValue=function(){document.getElementById(e.id+"_value").value=e.calculateValue()};e.getDegreeChangeProcessors=function(){l||(l=[function(w){w=d(w,[f[1],f[2]]);e.storeValue();return w},function(w){var q=b(w,[f[0]]);q|=d(w,[f[2]]);e.storeValue();return q},function(w){w=b(w,[f[1],f[0]]);e.storeValue();return w}]);return l};e.changeProcessors=function(){return e.getDegreeChangeProcessors()};e.GetElement=function(){return document.getElementById(e.id)};
e.ResetValue=function(){var w=document.getElementById(e.id+"_value");e.SetValue(w.defaultValue)};e.GetValue=function(){var w=document.getElementById(e.id+"_value");return Number(w.value)};e.SetValue=function(w){e.SetDegreesValue(w)};e.SetDegreesValue=function(w){document.getElementById(e.id+"_value").value=w;w=Number(w);var q="";0>w&&(w=-w,q="-");document.getElementById(e.id+"_sec").value=Math.floor(3600*w)%60;document.getElementById(e.id+"_min").value=Math.floor(60*w)%60;document.getElementById(e.id+
"_deg").value=q+Math.floor(Number(w))};e.GetRawValue=function(){return e.GetValue()};e.init=function(){e.changeSources();f.forEach(function(w){w.addEventListener("keypress",function(q){if(m&&!handleOnKeyPressed(q,q.currentTarget,m,e))return q.preventDefault&&q.preventDefault(),!1})})}}
function ElementAccessorCoordinate(){var b=this;b.inheritFrom=ElementAccessorDegrees;b.inheritFrom();var c,d;b.changeSources=function(){c||(c=b.getDegreeControls().slice(),c.push(document.getElementById(b.id+"_side1")),c.push(document.getElementById(b.id+"_side2")));return c};b.changeProcessors=function(){if(!d){d=b.getDegreeChangeProcessors().slice();var e=function(){b.storeValue()};d.push(e,e)}return d};b.calculateValue=function(){var e=b.calculateDegreeValue();c[4].checked&&(e=-e);return e};b.SetValue=
function(e){var f=Number(e);c[3].checked=0<=f;c[4].checked=0>f;0>f&&(f=-f);b.SetDegreesValue(f);document.getElementById(b.id+"_value").value=e}}
function ElementAccessorSelectImage(b){function c(){d.control||(d.control=PLANETCALC.select(d.GetElement()),d.control.listen("MDCSelect:change",function(){d.value=d.control.value;e&&e()}))}var d=this;d.initialvalue=b;d.value=b;d.created=!1;d.changeSources=function(){return[d]};var e=null;d.addEventListener=function(f,m){"change"==f&&(e=m)};d.GetElement=function(){return document.getElementById(d.id)};d.ResetValue=function(){d.SetValue(d.initialvalue)};d.GetValue=function(){c();return d.value};d.GetRawValue=
function(){return d.GetValue()};d.SetValue=function(f){c();d.control.value=f};d.GetParent=function(){return d.GetElement().parentNode.parentNode}}function ElementAccessorButton(b){var c=this;c.inheritFrom=ElementAccessorDefault;c.inheritFrom();c.init=function(){c.GetElement().addEventListener("click",b)}}function ElementAccessorOperation(){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.commandSources=function(){return[b.GetElement()]}}
function ElementAccessorTab(){function b(f){c.GetElement().value=f.getAttribute("data-id")}var c=this;c.inheritFrom=ElementAccessorDefault;c.inheritFrom();var d=null,e=null;c.changeSources=function(){if(!d){d=[];for(var f=c.GetElement().parentNode.getElementsByTagName("a"),m=0;m<f.length;m++)d.push(f[m])}return d};c.changeProcessors=function(){if(!e){var f=c.changeSources();e=[];f.forEach(function(){e.push(b)})}return e}}
function ElementAccessorSubmit(){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();var c=null;b.init=function(d){c=d;b.GetElement().addEventListener("click",function(){c.Validate()&&c.GetElement().submit()})}}
function getControlValueAfterChange(b,c){var d=BSGetTextSelection(c);c=c.value;var e=c.substring(0,d.selectionStart);b.charCode==BACK_SPACE_ASCII_CODE?e.length&&(e=e.substring(0,e.length-1)):b.charCode&&(e+=String.fromCharCode(b.charCode));return e+=c.substring(d.selectionEnd,c.length)}
function handleOnKeyPressed(b,c,d,e){var f=BSGetPressedKey(b);e&&e.ClearError&&e.ClearError(c);if("undefined"==typeof f||f.charCode==BACK_SPACE_ASCII_CODE||f.charCode==ENTER_ASCII_CODE||f.charCode==TAB_ASCII_CODE||0==f.charCode||BSIsSystemKey(f))return!0;f=getControlValueAfterChange(f,c);return(d=d.Validate(f))&&e&&e.ShowMessage?(e.ShowMessage(d),BSPreventDefaultAction(b)):showOrClearError(c,d,e)?!0:BSPreventDefaultAction(b)}
function ElementAccessorH(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();var b=this.SetValue;this.SetValue=function(c){void 0!==c&&b(c)}}
function ElementAccessorCheckboxList(b,c){function d(q){var r=0,t=0,u=0,F=q.width();q.children("div.h2").each(function(h){r++;h=$(this);var y=h.children("label").width()+40;t<y&&(t=y);h=h.outerHeight(!0);u<h&&(u=h)});for(var Q=m,p=Math.ceil(r/Q);p*t>=F&&1<p;)Q+=l,p=Math.ceil(r/Q);q.height(Q>r?r*u:Q*u)}function e(q){var r=[];q.currentTarget.className.split(/\s+/).forEach(function(t){"quick-pick-"==t.substr(0,11)&&r.push(t.substr(11))});f.forEach(function(t){t.checked=-1!=r.indexOf(t.value)});return!1}
var f=this,m=void 0===b?5:b,l=void 0===c?5:c;f.forEachPick=function(q){$(f.GetElement()).parents("div.v8").parent().find(".quick-pick").each(function(r,t){q(t)})};f.changeSources=function(){var q=[];f.forEach(function(r){q.push(r)});return q};f.commandSources=function(){var q=[];f.forEachPick(function(r){q.push(r)});return q};f.GetElement=function(){return document.getElementById(f.id+"0")};f.forEach=function(q){for(var r=0;;){var t=document.getElementById(f.id+r++);if(!t)break;q(t)}};f.GetValue=
function(){var q={};f.forEach(function(r){q[r.value]=!!r.checked});return q};f.ResetValue=function(){f.forEach(function(q){q.checked=q.defaultChecked})};f.SetValue=function(q){if("string"===typeof q)try{if("{"==q.substr(1,1))q=JSON.parse(q);else{var r=q.split(" ");q={};f.forEach(function(t){q[t.value]=-1!=r.indexOf(t.value)})}}catch(t){q={}}f.forEach(function(t){t.checked=q[t.value]})};f.GetParent=function(){return f.GetElement().parentNode.parentNode};f.GetRawValue=function(){return f.GetValue()};
var w;f.init=function(){w=$(f.GetElement()).parents("div.n8");$(window).on("resize",function(){d(w)});d(w);f.forEachPick(function(q){$(q).on("click",e)})};f.layout=function(){w&&d(w)}}
function DialogInput(b,c,d,e,f){function m(t,u){e[t+"Sources"]&&e[t+"Sources"].call(e).forEach(u)}var l=this;l.inheritFrom=ElementWithMessage;l.inheritFrom();l.id=b;l.dialog=c;l.validator=d;l.validatorKP=f;l.formatter=null;l.elementAccessor=e;l.elementAccessor.id=c.id+"_"+l.id;var w={},q=!1;l.elementAccessor.init&&l.elementAccessor.init(c,function(){q=!0;if(w.oninit)w.oninit(l.id)});var r=l.elementAccessor.changeProcessors?l.elementAccessor.changeProcessors():0;m("change",function(t,u){t.addEventListener("change",
function(F){if(r&&r[u])r[u](t);var Q=!0;l.validator&&(Q=l.Validate(l.GetValue()));Q&&void 0!==w.onchanged&&(F&&l.ClearError(F.currentTarget),w.onchanged(l.id,F))})});m("command",function(t){t.addEventListener("click",function(u){if(void 0!==w.oncommand)w.oncommand(l.id,u);u&&u.preventDefault&&u.preventDefault();return!1})});m("keypress",function(t){t.addEventListener("keypress",function(u){if(l.validatorKP){if(!handleOnKeyPressed(u,u.currentTarget,l.validatorKP,l))return u.preventDefault&&u.preventDefault(),
!1}else u&&l.ClearError(u.currentTarget);if(w.onkeypressed)w.onkeypressed(l.id,u);return!0})});l.addHandler=function(t){w=t;if(q&&w.oninit)w.oninit(l.id)};l.GetElement=function(){return l.elementAccessor.GetElement()};l.GetElementAccessor=function(){return l.elementAccessor};l.ResetValue=function(){l.elementAccessor.ResetValue()};l.SetValue=function(t){l.formatter&&l.formatter.FormatAsync?l.formatter.FormatAsync(t,l.elementAccessor):(t=l.formatter?l.formatter.Format(t):t,l.elementAccessor.SetValue(t))};
l.GetValue=function(t){return l.elementAccessor.GetValue()};l.GetRawValue=function(t){return l.elementAccessor.GetRawValue()};l.GetParent=function(){if(l.elementAccessor.GetParent)return l.elementAccessor.GetParent();var t=l.GetElement();return t?t.parentNode:null};l.ShowError=function(t,u){if(l.elementAccessor.ShowError)return l.elementAccessor.ShowError(t);var F=l.GetParent();if(!F)return!0;$(F).addClass("k8");u&&(u=$(u),u.hasClass("mdc-textfield__input")?u.parent().addClass("k8"):u.addClass("k8"));
l.ShowMessage(t);return!0};l.ClearError=function(t){if(l.elementAccessor.ClearError)return l.elementAccessor.ClearError();var u=l.GetParent();u&&($(u).removeClass("k8"),t&&(t=$(t),t.hasClass("mdc-textfield__input")?t.parent().removeClass("k8"):t.removeClass("k8")),(t=l.getMsgElement())&&t.hasAttribute("data-original")&&(t.innerHTML=t.getAttribute("data-original")))};l.ShowOrClearError=function(t){if(""==t)return l.ClearError(),!0;if(w.onError)w.onError({source:l.id,message:t});else l.ShowError(t);
return!1};l.Validate=function(t){if(l.validator)return t=l.elementAccessor.GetRawValue?l.elementAccessor.GetRawValue():l.elementAccessor.GetValue(),l.ShowOrClearError(l.validator.Validate(t));l.ClearError();return!0};l.ValidateCurrent=function(){return l.validator?l.Validate(l.GetValue()):!0};l.GetOptions=function(){for(var t=l.GetElement().childNodes,u=[],F=0;F<t.length;++F){var Q=t[F];"OPTION"==Q.nodeName&&(u[u.length]=Q.value,u[u.length]=Q.firstChild.nodeValue)}return u};l.Load=function(t){var u=
l.GetElement().name;u&&(t=t[u],"undefined"!=typeof t&&l.SetValue(t))}}function DisplayWrapper(b){this.Display=function(c){b&&(c?b.Show():b.Hide())}}function DisplayWrapperInput(b){this.inheritFrom=DisplayWrapper;this.inheritFrom(b);this.GetValue=function(){return b.GetValue()}}
function DisplayWrapperOpt(b){this.inheritFrom1=DisplayWrapperInput;this.inheritFrom1(b);this.DisplayOptions=function(c){b.GetElementAccessor().showOptions(c)};this.ReplaceOptions=function(c,d){b.GetElementAccessor().replaceOptions(c,d)};this.GetOptions=function(){return b.GetElementAccessor().getOptions()}}
function ElementAccessorSmallSelect(b){var c=this,d=null;c.changeSources=function(){return[c]};var e=null;c.addEventListener=function(f,m){"change"==f&&(e=m)};c.init=function(){c.GetElement().defaultValue=c.GetValue();var f=document.getElementById(c.id+"_menu");d=PLANETCALC.menu(f);$(c.GetElement()).find("a").on("click",function(m){d.open?d.open=!1:d.showNear(c.GetElement());m.preventDefault&&m.preventDefault();return!1});$(f).find("li").on("click",function(m){c.SetValue($(m.currentTarget).data("value"));
e&&e()})};c.GetElement=function(){return document.getElementById(c.id)};c.GetValue=function(){return c.GetRawValue()};c.GetRawValue=function(){var f=c.GetElement();if(f)return $(f).find(".pc-small-select-value").data("value")};c.ResetValue=function(){var f=c.GetElement();f&&void 0!==f.defaultValue&&(f.value=f.defaultValue)};c.SetValue=function(f){var m=c.GetElement();m=$(m).find(".pc-small-select-value");m.data("value",f);m.text(b[f])}}
function ElementAccessorHidden(){var b=this,c;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.init=function(){c=b.GetElement().value};b.ResetValue=function(){b.GetElement().value=c}}
var PSS=function(){function b(){if(c)return c;var d=(new String(document.URL)).split(/\?|#/),e={};if(1<d.length){var f=d[1].split("&");for(d=0;d<f.length;++d){var m=f[d].split("="),l=m[0];m=2==m.length?decodeURIComponent(m[1]):"";e[l]?e[l].push(m):e[l]=[m]}f=self.MathSolvers;if(void 0!==f&&f.length)for(d=0;d<f.length;++d)if(l=f[d],l.keys.reduce(function(r,t){return r&&e[t]},!0))try{var w=l.solver.apply(l,l.keys.map(function(r){return e[r][0]}));l.keys.forEach(function(r){delete e[r]});for(var q in w)e[q]=
[w[q]];break}catch(r){}for(q in e)e[q]=e[q].map(function(r){var t=r.length?r.substr(0,1):"",u=r.length?r.substr(r.length-1):"";try{return"{"==t&&"}"==u||"["==t&&"]"==u?JSON.parse(r):r}catch(F){return r}})}return c=e}var c=null;return{LoadInput:function(){},copyFrom:function(d){$(d).select();document.execCommand("copy");PLANETCALC.snackbar($("#copied_msg")[0])},getInputValues:function(d){var e=window.CurrentPageCalculators,f=0;if(e&&1<e.length)for(var m=0;m<e.length;++m)if(e[m].CalculatorID==d){f=
m;break}d=[];if(f)for(m=0;m<e.length;++m)d.push(e[m].GetInputValues());e={};var l=b(),w;for(w in l){var q=l[w].length,r=1<q?f:0;for(m=f;0<=m&&r;--m)void 0===d[m][w]&&--r;e[w]=l[w][r>=q?q-1:r]}return e},utfSize:function(d){var e=encodeURIComponent(d).match(/%[89ABab]/g);return d.length+(e?e.length:0)},getShareDataMethod:function(d){for(var e=window.CurrentPageCalculators,f="",m=0;m<e.length;++m){var l=e[m];l=l.getInputData();f+=(""==f?"?":"&")+SaveObjectToURLParams(l)}if(2E3>=f.length)return{type:"u",
size:f.length,data:f};var w=f=0;for(m=0;m<e.length&&65535>f;++m)if(void 0===d||d==e[m].CalculatorID)l=e[m],l=PSS.utfSize(JSON.stringify(l.getInputData())),l>f&&(w=e[m].CalculatorID,f=l);return{type:65535<f?"n":"s",size:f,id:w,max:65535}},getHRSize:function(d){for(var e=["b","Kb","Mb","Gb"],f=0;f<e.length-1&&1024<=d;++f)d/=1024;return Math.round(d)+e[f]},Sharer:function(d,e){function f(u,F,Q){var p=$(".share_data_msg");p.html(Q);F?p.addClass("k8"):p.removeClass("k8");if(u!=r){var h=$(".social-share .share-title").find(".share-subject");
t||(t=h.html());h.css("text-decoration","line-through");var y=u?t:d;h.fadeTo(500,0,function(){h.css("text-decoration","none");h.html(y);h.fadeTo(500,1)});r=u}}function m(u){var F="";if(u){var Q=PSS.getShareDataMethod();switch(Q.type){case "u":F=Q.data;f(!1,!1,"");break;case "s":f(!0,!1,formatMessage(e,PSS.getHRSize(Q.size)));$(".save_data_link").on("click",function(){BSScrollToElement($("#user_data_"+Q.id),function(){var h=$(".pc-btn-new");$({i:10}).animate({i:0},{duration:1E3,step:function(y){h.css({transform:"rotate("+
4.5*Math.sin(y)*y+"deg)"})}})});return!1});break;case "n":f(!0,!0,formatMessage(PCL.err_data_too_long,PSS.getHRSize(Q.size),PSS.getHRSize(Q.max)))}}else f(!0,!1,"");for(var p in w)$("."+p).attr("href",w[p]+encodeURIComponent(F));$(".share-url-text input").val(document.URL.split(/\?|#/)[0]+F);return""!=F}function l(){PSS.copyFrom(".share-url-text input")}var w={},q=!1,r=!0,t=null;$(".pc-social-share").each(function(){w[$(this).data("origin")]=this.href});$(".share-url-text").find("input,button").on("click",
function(){l()});$(".pc-btn-link").on("click",function(){$(".share-switch input:visible").prop("checked")||$(".share-switch input:visible").trigger("click");$(".share-url-text").hasClass("x")||l()});$(".share-switch input").on("change",function(){var u=m(this.checked);$(".share-url-text").toggleClass("x",!(u&&this.checked));if(this.checked&&!q){q=!0;var F=this;for(u=0;u<window.CurrentPageCalculators.length;++u)window.CurrentPageCalculators[u].addEventListener("change",function(){m(F.checked)})}})},
adaptArray:function(d,e){return d.map(function(f){return PSS.adaptRecord(f,e)})},adaptRecord:function(d,e){var f={},m;for(m in d)f[m]=e&&e[m]?e[m](d[m]):d[m];return f},adapter:function(d){function e(f){return f}return d?new function(f){this.decode=function(m){return PSS.adaptRecord(m,f.decoder)};this.encode=function(m){return PSS.adaptRecord(m,f.encoder)}}(d):{encode:e,decode:e}},getLanguage:function(){for(var d=window.navigator.language.split(",");0<d.length;)return d[0].split("-")[0].toLowerCase();
return PCL.language_id},getCountry:function(){for(var d=window.navigator.language.split(","),e=0;e<d.length;++e){var f=d[e].split("-");if(1<f.length)return f[1]}return"en"==PCL.language_id?"US":PCL.language_id.toUpperCase()}}}(),PCF=function(){function b(t,u){if(t.childNodes)for(var F in t.childNodes){var Q=t.childNodes[F];if(1==Q.nodeType){var p=Q.getAttribute("data-precision");""===p||null===p?b(Q,u):u(Q,Number(p))}}}var c,d=[],e=[],f=[],m,l=null,w="R",q=!1,r=-1;return{advisePrecisionmeter:function(t,
u,F){void 0===c&&(m=c=u);d[d.length]=t;f[f.length]=F;b(t,function(Q,p){BSAdviseEvent(Q,"click",PCF.changeCalcPrecision,p)});b(t,function(Q,p){"Plus"!=p&&"Minus"!=p&&(Q.className=Number(p)<=u?"selected":"")})},changeCalcPrecision:function(t){var u=Number(c);"Plus"==t?u<PCF.getMaxPrecision()&&(u+=1):"Minus"==t?0<u&&--u:u=Number(t);c=u;for(t=0;t<d.length;++t){u=d[t];var F=eval(f[t]);b(u,function(Q,p){"Plus"!=p&&"Minus"!=p&&(Q.className=Number(p)<=c?"selected":"")});F.onchanged("precisionmeter")}},setDefaultPrecision:function(t){void 0===
c&&(m=c=t)},addEventListener:function(t,u){f[f.length]=u},getMaxPrecision:function(){return 20},getResultsSet:function(){return w},setResultsSet:function(t){if(t!==w)for(w=t,$("[name=precisionmeter_resultset]").val(t),t=0;t<f.length;++t)try{(0,f[t])()}catch(u){}},getCalcPrecision:function(){return void 0===c?2:c},setCalcPrecision:function(t){c=t},getDefaultPrecision:function(){return m},format:function(t){for(var u=t,F=1;F<arguments.length;++F){var Q=arguments[F];"number"==typeof Q&&void 0!==c&&Math.round(Q)!=
Q&&(Q=Q.toFixed(c));u=u.replace("%"+F,Q)}return u},changeCalcPrecision2:function(t){c=t;for(var u=0;u<f.length;++u)(0,f[u])();for(u=0;u<e.length;++u){var F=e[u];F.value=t;if(F=F.root_.getAttribute("aria-controls"))if(F=document.getElementById(F))F.innerHTML=PCL.digits_afterdot.replace("%1",t)}},addPrecisionControl:function(t){e.push(t)},getPrecisionControls:function(){return e},htmlEntities:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},
formatRecords:function(t,u,F,Q){for(var p=[],h=F;h<t.length&&h<F+Q;++h){for(var y=[],K=0;K<u.length;++K){var O=u[K];y[K]=O.formatter?O.formatter.Format(O.name,t[h]):PCF.htmlEntities(t[h][O.name]);void 0===y[K]&&(y[K]="")}p.push(y)}return p},getSortMethod:function(t,u,F){var Q=t[u];if(Q.formatter&&Q.isNumeric)return F?function(h,y){return h[Q.name]-y[Q.name]}:function(h,y){return y[Q.name]-h[Q.name]};var p=Q.formatter?Q.formatter:new RecordFieldFormatterSame;return F?function(h,y){h=p.Format(Q.name,
h);y=p.Format(Q.name,y);return h>y?1:h<y?-1:0}:function(h,y){h=p.Format(Q.name,h);y=p.Format(Q.name,y);return h<y?1:h>y?-1:0}},sortRecords:function(t,u,F,Q){u=this.getSortMethod(u,F,Q);t.sort(u)},insertSortedRecord:function(t,u,F,Q,p){if(0>Q&&Q>=u.length||void 0===p||!t.length)return t.push(F),t.length-1;var h=0,y=t.length;for(u=this.getSortMethod(u,Q,p);;)if(Q=y-h,Q-=Q%2,Q/=2,Q+=h,p=u(F,t[Q]),0===p){h=Q;break}else if(0<p){if(1===y-h){h=Q+1;break}h=Q}else{if(1===y-h){h=Q;break}y=Q}t.splice(h,0,F);
return h},htmlEncode:function(t){l||(l=$("<div/>"));return l.text(t).html()},patchDate:function(t){var u={},F;for(F in t){var Q=t[F];Q instanceof Date?u[F]=Date2String(Q):Array.isArray(Q)?u[F]=PCF.patchDateA(Q):u[F]=Q&&"object"===typeof Q?PCF.patchDate(Q):Q}return u},patchDateA:function(t){for(var u=[],F=0;F<t.length;++F)"object"==typeof t[F]?u.push(this.patchDate(t[F])):u.push(t[F]);return u},formatProfile:function(t){if(!t.userid)return"";var u=(new FormatterTimeSpan).Format(TryString2Date(t.updated));
return" "+formatMessage(PCL.userdata,t.username,u,t.userid)},requestFormulaUpdate:function(t){void 0===t&&(t=!0);var u=q;q=t;return u},is12hourClock:function(){if(-1===r){for(var t=(new Date(2014,0,20,20,0)).toTimeString(),u="",F=0;F<t.length;++F){var Q=t.substr(F,1);if("0"<=Q&&"9">=Q)u+=Q;else if(""!=u)break}r=20==Number(u)?0:1}return r}}}();
function GetDateParts(b,c,d){return d?[b.getUTCFullYear(),b.getUTCMonth()+1,b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds()]:[b.getFullYear(),b.getMonth()+1,b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()]}function GetDateCentury(b,c){b=Math.ceil((c?b.getFullYear():b.getUTCFullYear())/100);0>b?b=1-b:0==b&&(b=1);return PCL.getOrdinal(b).replace("%1",b)+" "+getFormattedMessage("century")}
function FormatDate(b,c,d){if("0000-00-00 00:00:00"==c||!c)return"";c="string"==typeof c?String2Date(c):new Date(c);var e=6;-1==b.search("%8")?e=4:-1==b.search("%9")&&(e=5);e=GetDateParts(c,e,d);var f=0>=e[0]?" "+getFormattedMessage("b_c"):"";0>=e[0]&&(e[0]=1-e[0]);d=GetDateCentury(c,d);return formatMessage(b,leftpad(e[0],"0",4),leftpad(e[1],"0",2),leftpad(e[2],"0",2),f,d,leftpad(e[3],"0",2),leftpad(e[4],"0",2),leftpad(e[5],"0",2),leftpad(e[6],"0",3))}
function FormatAbsDegrees(b,c){0>b&&(b=-b);var d="";if(void 0===b||isNaN(b))return"";c?(b=Math.round(36E5*b),d=(d=b%1E3/1E3)?d.toFixed(3).substr(1):"",b=(b-b%1E3)/1E3):b=Math.round(3600*b);c=b%60;b=(b-c)/60;var e=b%60;return(b-e)/60+"&#176;"+e+"'"+c+'"'+d}function FormatterDegrees(b){this.Format=function(c){c=Number(c);return(0>c?"-":"")+FormatAbsDegrees(c,b)};this.isNumeric=!0}
function FormatterCoordinate(b,c){var d="lat"==b?["latitudeN","latitudeS"]:["longitudeE","longitudeW"];this.Format=function(e){e=Number(e);var f=getFormattedMessage(d[0>e?1:0]);return FormatAbsDegrees(e,c)+" "+f};this.isNumeric=!1}function FormatterDate(){this.Format=function(b){return FormatDate(getFormattedMessage("date_format"),b)}}function FormatterBoolean(){this.Format=function(b){return getFormattedMessage(b?"yes":"no")}}
function FormatterDateFlags(b){var c=b&8,d=b;b=getFormattedMessage("date_format");var e=getFormattedMessage("date_time_format"),f=["narrow","short","long"],m={weekday:f,era:f,year:["numeric","numeric","numeric"],month:["2-digit","short","long"],day:["2-digit","numeric","numeric"]},l=["",b,"%6:%7",e,"%5","%5 "+b,"%5 %6:%7","%5 "+e];this.Format=function(w){if("0000-00-00 00:00:00"==w||!w)return"";var q="",r=(new Date).toLocaleString;if(r){var t="string"==typeof w?String2Date(w):new Date(w);w=d&1&&0==
(d&512)&&0>=t.getFullYear()?" "+getFormattedMessage("b_c"):"";d&4&&(q=GetDateCentury(t,c));var u={};c&&(u.timeZone="UTC");if(d&1){var F=64,Q=d&1024?0:d&2048?2:1;["weekday","day","month","year"].forEach(function(h){0==(d&F)&&(u[h]=m[h][Q]);F<<=1});q+=(""==q?"":" ")+t.toLocaleDateString(void 0,u)+w}}else q=FormatDate(l[d&5],w);if(d&2){if(d&12288||!r)if(r||(d+=PCF.is12hourClock()?4096:8192),r=c?t.getUTCHours():t.getHours(),w=c?t.getUTCMinutes():t.getMinutes(),w=":"+leftpad(w,"0",2),d&32&&(w+=":"+leftpad(c?
t.getUTCSeconds():t.getSeconds(),"0",2)),d&4096){var p=r%12;p||(p=12);w=p+w+" "+(11<r?PCL.pm:PCL.am)}else w=r+w;else u={},c&&(u.timeZone="UTC"),u.hour="numeric",u.minute="2-digit",d&32&&(u.second="2-digit"),w=t.toLocaleTimeString(void 0,u);d&32768&&(w+="."+leftpad(c?t.getUTCMilliseconds():t.getMilliseconds(),"0",3));q+=(""==q?"":" ")+w}return q}}
function FormatterImage(b,c){this.Format=function(d){if(!d)return"";if(d.data&&d.width&&d.height){var e=document.createElement("canvas");e.width=d.width;e.height=d.height;var f=e.getContext("2d");d=new ImageData(d.data,d.width,d.height);f.putImageData(d,0,0);return'<img src="'+e.toDataURL()+'" '+(c?'class="'+c+'"':"")+' alt="'+b+'" title="'+b+'"/>'}return'<img src="'+d+'" '+(c?'class="'+c+'"':"")+' alt="'+b+'" title="'+b+'"/>'}}
function FormatterSimpleURL(){this.Format=function(b){if(""!=b){var c=b;"http"!=c.substr(0,4)&&(c="http://"+c);return'<a href="'+c+'" />'+b+"</a>"}return""}}function FormatterDateOnly(){this.Format=function(b){if("0000-00-00 00:00:00"!=b&&b){b=String2Date(b);var c=b.getTime();c-=6E4*b.getTimezoneOffset();b.setTime(c);return b.getFullYear()+"."+(10>b.getMonth()+1?"0"+(b.getMonth()+1):b.getMonth()+1)+"."+b.getDate()}return""}}
function FormatterTimeSpan(){function b(c,d){d=Math.round(d);c=c+"_ago_"+PCL.cardinalIR(d);return getFormattedMessage(c,d)}this.Format=function(c){if("0000-00-00 00:00:00"!=c&&c){c=String2Date(c);var d=c.getTime();d-=6E4*c.getTimezoneOffset();c.setTime(d);c=c.getTime();c=(new Date).getTime()-c;0>c&&(c=0);return 36E5>c?b("minutes",c/6E4):864E5>c?b("hours",c/36E5):26784E5>c?b("days",c/864E5):321408E5>c?b("months",c/26784E5):b("years",c/321408E5)}return""}}
function FormatterMap(b){var c=b[0];if(1<b.length){c={};for(var d=0;d<b.length;d+=2)c[b[d]]=b[d+1]}this.Format=function(e){var f=c[e];return void 0===f?e:f}}function DoubleFormatterMap(b){for(var c=this,d=[],e=0;e<b.length;e+=2)d[b[e]]=b[e+1];c.Formatter=new FormatterSame;c.Format=function(f){f=d[f];return void 0===f?"":c.Formatter.Format(f)}}function FormatterLabel(b){this.Format=function(c){return b}}function FormatterPrefix(b,c){this.Format=function(d){return b+(null!=c?c.Format(d):d)}}
function FormatterEmptyLabel(b){this.Format=function(c){return"undefined"==typeof c?b:c}}function FormatterSame(){this.Format=function(b){return b}}
function FormatterNumber(b,c,d,e){function f(r){return void 0===r?!1:"number"!=typeof r&&r&&(void 0!==r.add&&void 0!==r.mul&&void 0!==r.div||window.bigInt&&bigInt.isInstance(r))}function m(r){return"R"!=PCF.getResultsSet()&&w&&r.toTeX}function l(){var r=b,t=PCF.getCalcPrecision(),u=PCF.getDefaultPrecision();r&&!c&&void 0!==t&&void 0!==u&&(r+=t-u,0>r&&(r=0),r>PCF.getMaxPrecision()&&(r=PCF.getMaxPrecision()));return r}var w=null;void 0!==e&&"R"!=e&&(w=new FormatterFormula);var q=this;q.Format=function(r){var t=
q.FormatSimple(r);return f(r)&&m(r)?(PCF.requestFormulaUpdate(),w.Format(t)):t};q.FormatSimple=function(r){if(Infinity==r||-Infinity==r)return-Infinity==r?"-":"&#8734;";if(void 0===r)return"";if(f(r))return m(r)?r.toTeX():void 0!==r.toFixed?r.toFixed(l(),PCF.getResultsSet()):r.toString();if("string"===typeof r)return r;if(isNaN(r))return"";r=Number(r);for(var t=l(),u=0;u<t&&Number(r.toFixed(u).toString())!=r;++u);return d&&Math.abs(r)<Math.pow(10,d)?(t=Array(d+1).join("0"),0>r?"-"+(t+Math.abs(r).toFixed(u)).slice(-(d+
(0<u?u+1:0))):(t+r.toFixed(u)).slice(-(d+(0<u?u+1:0)))):r.toFixed(u)};q.isNumeric=!0}function FormatterPersent(b){this.Format=function(c){return PCF.format("%1",100*c)+" %"};this.isNumeric=!0}function formatTableRows(b,c){var d="";if(b)for(var e=0;e<b.length;++e){var f=b[e];void 0!==f&&void 0===f.length&&(f=[f]);d+="<tr>";for(var m=0;m<f.length;++m){var l=f[m];d+="<td>";d+=c.Format(l);d+="</td>"}d+="</tr>"}return d}
function FormatterMatrix(b,c,d,e){var f=new FormatterNumber(b,c,d,e);this.Format=function(m){return'<table class="l9">'+formatTableRows(m,f)+"</table>"}}function FormatterTextMatrix(b){this.Format=function(c){var d='<table class="pc-value-textmatrixout" '+(b?"style=\"font-family:'"+b+"'\"":"")+" >";d+=formatTableRows(c,new FormatterSame);return d+"</table>"}}
function FormatterColor(){this.Format=function(b){return'<span class="pc-output-color" style="background-color:#'+b+'" data-value="#'+b+'">#'+b+"</span>"}}function FormatterLength(){this.Format=function(b){return b&&b.length?b.length:0}}function FormatterArray(b,c,d,e){this.Format=function(f){return f.length?(void 0===d?"":d)+f.map(function(m){return b?b.Format(m):m}).join(void 0===c?" ":c)+(void 0===e?"":e):""}}
function ValidatorNonempty(){this.Validate=function(b){return""==b?getFormattedMessage("err_must_be_not_empty"):""}}function ValidatorEmail(b){this.Validate=function(c){return-1==c.indexOf("@")?getFormattedMessage("err_invalid_email",c):""}}function ValidatorEqual(b,c){this.Validate=function(d){return b.value!=d?getFormattedMessage("err_must_be_the_same_as",c):""}}
function ValidatorTextSize(b,c){this.Validate=function(d){d=d.length;return d<b?getFormattedMessage("err_must_be_at_least_x_chars_long",b):d>c?getFormattedMessage("err_must_be_less_or_equal_x_chars",c):""}}function ValidatorCharset(b){this.Validate=function(c){for(var d=0;d<c.length;++d){var e=c.substring(d,d+1);if(-1==b.indexOf(e))return getFormattedMessage("err_invalid_symbol",b)}return""}}
function ValidatorComplex(){var b=arguments;this.Validate=function(c){for(var d="",e=0;e<b.length;++e){var f=b[e].Validate(c);""!=f&&(""!=d&&(d+="<br/>"),d+=f)}return d}}function removeInvalidDigits(b,c,d){for(var e=!1,f="",m=!1,l=0;l<b.length;++l){var w=b.substring(l,l+1);if(-1=="0123456789".indexOf(w))if("-"==w)if(c&&0==l)f+=w;else{if(d&&0<l){var q=b.substr(l-1,1);if("e"==q||"E"==q)f+=w}}else"."==w||","==w?d&&0!=l&&!e&&(e=!0,f+=w):"e"!=w&&"E"!=w||!d||m||(m=!0,f+=w);else f+=w}return f}
function ValidatorNumber(b,c){this.Validate=function(d){d=d&&""!=d?d:"0";return removeInvalidDigits(d,b,c)!=d?b&&c?getFormattedMessage("err_invalid_number"):!b&&c?getFormattedMessage("err_invalid_positive_number"):b&&!c?getFormattedMessage("err_invalid_integer_number"):getFormattedMessage("err_invalid_integer_positive_number"):""}}function ValidatorRange(b,c){this.Validate=function(d){d=Number(d);return d<b||d>c?getFormattedMessage("err_range_error",b,c):""}}
function ValidatorLookup(b,c){this.Validate=function(d){d=c?d.split(" "):[d];for(var e=0;e<d.length;++e)if(void 0===b[d[e]]){d=void 0;e="";for(d in b)e+=", "+d+" ("+b[d]+")";d=e.substr(2);return getFormattedMessage("err_value_out_of_set",d)}return""}}
function ValidatorNumericArray(b,c,d,e,f,m){var l="0123456789+ \n\r\t";b&&(l+="i");c&&(l+="-");d&&(l+=",.");this.Validate=function(w){if(e){var q=w.split(/[\s\n\r\t]+/).filter(function(t){return 0!=t.length});if(q.length<f||q.length>m)return f==m?getFormattedMessage("err_array_range_error_single",f):getFormattedMessage("err_array_range_error",f,m)}if(""!=w)for(q=0;q<w.length;++q){var r=w.substring(q,q+1);if(-1==l.indexOf(r))return c||-1==="-".indexOf(r)&&-1==="i".indexOf(r)?d||-1===",.".indexOf(r)&&
-1==="i".indexOf(r)?getFormattedMessage("err_invalid_array"):getFormattedMessage("err_invalid_integer_number"):getFormattedMessage("err_invalid_positive_number")}return""}}function ValidatorDateString(){this.Validate=function(b){return"string"===typeof TryString2Date(b)?getFormattedMessage("err_invalid_date"):""}}function formatMessage(b){for(var c=new String(b),d=1;d<arguments.length;++d)c=c.replace("%"+d.toString(),arguments[d]);return c}
function getFormattedMessage(b){var c;PCL&&(c=PCL[b]);if(void 0===c){var d=document.getElementById(b);d&&(c=d.innerHTML)}if(void 0===c)return"Error message "+b+" is not included by server-side code. Contact site support";for(d=1;d<arguments.length;++d)c=c.replace("%"+d.toString(),arguments[d]);return c}var lastErrorObject=null,lastErrorObjectBorderColor="",lastErrorObjectColor="",lastErrorMessageBox=null;
function showOrClearComplexControlError(b,c,d){c.length?d.ShowError(c,b):d.ClearError(b);return 0==c.length}function showOrClearError(b,c,d){if(c.length)return d&&d.ShowError?d.ShowError(c):showError(b,c,d),!1;d&&d.ClearError?d.ClearError():clearError(b);return!0}
function showError(b,c,d){d=document.getElementById(d?d:b?b.id+"_errmsg":"errmsg");null==d?0<c.length&&alert(c):(lastErrorObject&&clearError(lastErrorObject),b&&(b!=lastErrorObject&&(lastErrorObject=b,lastErrorObjectBorderColor=b.style.borderColor,lastErrorObjectColor=b.style.color,lastErrorMessageBox=d),b.style.borderColor="#FF0000",b.style.color="#FF0000"),d.innerHTML=c,d.style.display="block",d.style.zIndex=1E6,b&&b.parentNode&&(b.parentNode.appendChild(d),d.style.left=b.parentNode.firstChild.nextSibling.offsetLeft,
d.style.top=b.bottom+4))}function clearError(b){lastErrorObject==b&&(lastErrorMessageBox&&(lastErrorMessageBox.style.display="none"),lastErrorObject.style.borderColor=lastErrorObjectBorderColor,lastErrorObject.style.color=lastErrorObjectColor,lastErrorMessageBox=lastErrorObject=null)}
function clearLastError(){lastErrorObject&&(lastErrorMessageBox&&(lastErrorMessageBox.style.display="none"),lastErrorObject.style.borderColor=lastErrorObjectBorderColor,lastErrorObject.style.color=lastErrorObjectColor,lastErrorMessageBox=lastErrorObject=null)}function reportScriptError(b){alert(b)}function htmlencode(b){return b=new String(b),b.replace("<","&lt;").replace(">","&gt;").replace("&","&amp;").replace('"',"&quot;")}
function RecordFieldFormatter(b){this.BaseFormatter=function(){return b};this.Format=function(c,d){return b.Format(d[c])};this.isNumeric=void 0===b.isNumeric?!1:b.isNumeric}function RecordFieldFormatterSubrecord(b){this.Format=function(c,d){return(c=d[c])?c[b]:""}}function RecordFieldFormatterLabelsMap(){var b=new FormatterMap(arguments);this.Format=function(c,d){return b.Format(d[c])}}
function RecordFieldFormatterMultiMap(){var b=new FormatterMap(arguments);this.Format=function(c,d){d=d[c];c="";var e=[];for(f in d)d[f]&&(e.push(f),c+=" "+b.Format(f));e.sort();var f=b.Format(e.join(" "));return""!=f?f:c.substr(1)}}function RecordFieldFormatterImagesMap(){var b=new DoubleFormatterMap(arguments);b.Formatter=new FormatterImage("");this.Format=function(c,d){return b.Format(d[c])}}
function RecordFieldFormatterLabelsMapArray(b){var c=new FormatterMap(b);this.Format=function(d,e){return c.Format(e[d])}}function RecordFieldFormatterURLPattern(b,c){this.Format=function(d,e){d=c?c.Format(d,e):e[d];return'<a href="'+b.replace(/%1/g,e.pkID)+'">'+d+"</a>"}}
function RecordFieldFormatterURLPatternKey(b,c){for(var d=[],e=2;e<arguments.length;++e)d[d.length]=arguments[e];this.Format=function(f,m){f=c?c.Format(f,m):m[f];for(var l=b,w=0;w<d.length;++w)l=l.replace(new RegExp("%"+(w+1),"g"),m[d[w]]);return'<a href="'+l+'">'+f+"</a>"}}function RecordFieldFormatterParamScriptURL(b,c,d){this.Format=function(e,f){e=d?d.Format(e,f):f[e];return'<a href="#" onclick="'+b.replace(/%1/g,f[c])+'; return BSPreventDefaultAction( event);">'+e+"</a>"}}
function RecordFieldFormatterParamScriptURLEx(b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];this.Format=function(f,m){f=c?c.Format(f,m):m[f];for(var l=b,w=0;w<d.length;++w)l=l.replace("%"+(w+1).toString(),m[d[w]]?m[d[w]]:"");return'<a href="#" onclick="'+l+';return BSPreventDefaultAction( event);">'+f+"</a>"}}
function RecordFieldFormatterParamScriptURLLabel(b,c,d){this.Format=function(e,f){return'<a href="#" onclick="'+b.replace(/%1/g,f[c])+'; return BSPreventDefaultAction( event);">'+d+"</a>"}}function RecordFieldFormatterLabel(b){this.Format=function(c,d){return b}}function RecordFieldFormatterEmptyLabel(b){this.Format=function(c,d){c=d[c];if("undefined"==typeof c||""==c)c=b;return c}}
function RecordFieldFormatterAlternate(b,c){this.Format=function(d,e){return"undefined"==typeof e[d]?c.Format(b,e):c.Format(d,e)}}function RecordFieldFormatterChangeButtonsM(b,c,d){function e(f,m,l,w,q){return'<button type="button" class="vb c2 material-icons" title="'+w+'" href="#" onclick="'+m+"."+l+"("+f+'); return BSPreventDefaultAction( event);">'+q+"</button>"}this.Format=function(f,m){f=m.pkID;return e(f,b,"Edit",d,"&#xE254;")+" "+e(f,b,"Delete",c,"&#xE872;")}}
function RecordFieldFormatterProgress(b){this.Format=function(c,d){c=Number(d[c]);return formatMessage(b,100<c?100:c,c)}}function RecordFieldFormatterMany(){var b=arguments;this.Format=function(c,d){c=b[0];for(var e=1;e<b.length;++e)c=c.replace(new RegExp("%"+e,"g"),d[b[e]]);return c}}function RecordFieldFormatterThumbImage(){this.Format=function(b,c){return'<img src="'+c[b]+'_thumb.png" >'}}function RecordFieldFormatterDropDown_change(b,c,d){b[c]=d}
function RecordFieldFormatterDropDown(b,c,d){this.Format=function(e,f){var m=f[e];e='<select onchange="RecordFieldFormatterDropDown_change('+d.replace("%1",f[c])+",'"+e+"',this.options[this.selectedIndex].value);\">";for(var l in b)e+='<option value="'+l+'"',m==l&&(e+=' selected="selected"'),e+=">"+b[l],e+="</option>";return e+"</seclect>"}}function RecordFieldFormaterIf(b,c,d){this.Format=function(e,f){return b(f)?c.Format(e,f):d.Format(e,f)}}
function RecordFieldFormatterEmpty(){this.Format=function(b,c){return""}}function RecordFieldFormatterSame(){this.Format=function(b,c){return c[b]}}function RecordFieldFormatterKeyValue(b,c){this.Format=function(d,e){d=c?c.Format(d,e):e[d];return b.replace(/%key%/g,e.pkID).replace(/%value%/g,d)}}function RecordFieldFormatterFixedColumn(b,c){this.Format=function(d,e){return c.Format(b,e)}}
function RecordFieldFormatterSequence(b){this.Format=function(c,d){for(var e="",f=0;f<b.length;++f)e+=b[f].Format(c,d);return e}}function RecordFieldFormatterChild(b,c,d){this.Format=function(e,f){d||(d=100);e=f[e];e="string"==typeof e&&"{"==e.substr(0,1)?JSON.parse(e):e;return(e=c?c.Format(b,e):e[b])&&e.length>d?e.substr(0,d)+"...":e}}function GetObjectPropertiesCount(b){var c=0,d;for(d in b)++c;return c}
function Recordset(b,c){function d(u,F){var Q={},p;for(p in u)F!=p&&(Q[p]=u[p]);return Q}function e(u){this.IsLess=function(F,Q){return F[u]<Q[u]}}function f(u){this.IsLess=function(F,Q){return F[u]>Q[u]}}var m=this,l={},w=c?c:"pkID",q=0,r={},t=0;m.QueryContext={from:0,items:10,sortcolumn:1,sortdirection:"ASC"};m.GetTotal=function(){return q};m.LoadFromJson=function(u){u&&""!=u?(u=eval("("+u+")"),u.error?reportScriptError(u.error):Array.isArray(u)?m.LoadFromArray(u):m.LoadFromObject(u)):m.Clear()};
m.LoadFromRecordsetNode=function(u){m.Clear();if(u){for(var F=u.attributes,Q=0;Q<F.length;++Q){var p=F.item(Q);m.QueryContext[p.nodeName]=p.nodeValue}u=u.childNodes;for(Q=0;Q<u.length;++Q)if(F=u[Q],"record"==F.nodeName){p=F.childNodes;F={};for(var h=0;h<p.length;h++){var y=p[h];if(1==y.nodeType){if(y.firstChild&&1==y.firstChild.nodeType){var K=new Recordset;K.LoadFromRecordsetNode(y.firstChild)}else K=y.firstChild?y.firstChild.nodeValue:"";F[y.nodeName]=K}}m.SetRecord(F)}else"summary"==F.nodeName&&
(q=Number(F.getAttribute("total")))}else alert("empty node passed into recordset")};m.LoadFromObject=function(u){m.Clear();u.params&&(m.QueryContext=u.params);u.summary&&(q=u.summary.total);(u=u.recordset)&&m.LoadFromArray(u)};m.LoadFromArray=function(u){for(var F=0;F<u.length;++F){var Q=u[F],p;for(p in Q){var h=Q[p];if(!Array.isArray(h))if("object"==typeof h&&h&&h.recordset){var y=new Recordset("");y.LoadFromObject(h);Q[p]=y}else"string"==typeof h&&(Q[p]=TryString2Date(h));m.SetRecord(Q)}}};m.SaveToJsonArray=
function(){var u="",F="[",Q;for(Q in l){F+=u+"{";var p=l[Q];u="";for(var h in p)h==w&&m.IsNew(p[w])||(u=F+=u+'"'+h+'":',F=p[h],F="object"==typeof F&&F.SaveToJson?F.SaveToJson():Value2Json(F),F=u+F,u=",");F+="}";u=","}return F+"]"};m.SaveToJson=function(){var u='{ "params":{',F="",Q;for(Q in m.QueryContext)u+=F+'"'+Q+'":"'+m.QueryContext[Q]+'"',F=",";return u+='} , "recordset":'+m.SaveToJsonArray()+"}"};m.GetPrimaryKey=function(u){if(void 0!=u[w]&&""!=u[w]){isNaN(u[w])?t=u[w]:t<parseInt(u[w])&&(t=
parseInt(u[w]));var F="pk"+u[w]}else F="number"===typeof t?++t:m.GetUniquePropertyValue(w,""),u[w]=F,F="pk"+F,r[F]=!0;return F};m.SetRecord=function(u){var F=m.GetPrimaryKey(u);l[F]=u};m.InsertRecord=function(u,F){var Q=m.GetPrimaryKey(u),p={},h=!1,y;for(y in l)p[y]=l[y],"pk"+F==y&&(h=!0,p[Q]=u);h||(p[Q]=u);l=p};m.Exists=function(u){return"undefined"!=typeof l[u]};m.GetRecord=function(u){return l["pk"+u]};m.IsNew=function(u){return 1==r["pk"+u]};m.RemoveRecord=function(u){var F="pk"+u;l=d(l,F);m.IsNew(u)&&
(r=d(r,F))};m.FindByProperty=function(u,F){for(var Q in l){var p=l[Q];if(p[u]==F)return p}return null};m.GetUniquePropertyValue=function(u,F){var Q=1;do var p=F+Q++;while(m.FindByProperty(u,p));return p};m.IsEmpty=function(){for(var u in l)return!1;return!0};m.GetRecordArray=function(){var u=[],F;for(F in l)u[u.length]=l[F];return u};m.GetCount=function(){return GetObjectPropertiesCount(l)};m.Clear=function(){r={};l={}};m.AddNewRecord=function(){var u={};m.SetRecord(u);return u};m.SelectByField=function(u,
F){var Q=new Recordset("",w),p;for(p in l){var h=l[p];-1!=h[F].indexOf(u)&&Q.SetRecord(h)}return Q};m.Rollback=function(){var u=r,F;for(F in u)m.RemoveRecord(F.substring(2))};m.SortAsc=function(u){m.Sort(new e(u))};m.SortDesc=function(u){m.Sort(new f(u))};m.Sort=function(u){var F=[],Q;for(Q in l){for(var p=0,h=l[Q];p<F.length&&!u.IsLess(h,F[p]);++p);F.splice(p,0,h)}m.Clear();for(p=0;p<F.length;++p)m.SetRecord(F[p])};void 0!=b&&""!=b&&m.LoadFromJson(b)}
function Value2Json(b,c){if(null==b)return"null";var d=typeof b;c=c?"":'"';if("string"==d)return b=new String(b),c+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+c;if("object"==d){if(b instanceof Array){d="";for(c=0;c<b.length;++c)d+=","+Value2Json(b[c]);d=b.length?"["+d.substr(1)+"]":"[]"}else if(b instanceof Date)d=c+Date2String(b)+c;else{d="";c=0;for(var e in b)++c,d+=',"'+e+'":'+Value2Json(b[e]);d=c?"{"+d.substr(1)+"}":"{}"}return d}return"undefined"==d?c+c:b}
function RecordsetHeader(){var b=this;b.Columns={};b.Size=0;b.Groups=[];b.AddColumn=function(c,d,e,f,m,l,w){d={name:c,dispname:d,formatter:e,description:f,chartKind:m,visible:!0,index:b.Size,varType:w,chart_options:l&&"object"==typeof l?l:{interpolate:l?l:"cardinal"}};b.Columns[c]=d;b.Size++;return d};b.AddGroup=function(c,d){b.Groups.push({name:c,dispname:d,visible:!0,index:b.Size})};b.RestoreColumns=function(){if(b.OriginalColumns){b.Columns={};b.Size=0;for(var c in b.OriginalColumns)b.Columns[c]=
b.OriginalColumns[c],b.Size++}};b.CloneColumn=function(c,d,e,f){if(!b.OriginalColumns){b.OriginalColumns={};for(var m in b.Columns)b.OriginalColumns[m]=b.Columns[m]}(c=b.Columns[c])&&void 0===b.Columns[d]&&b.AddColumn(d,void 0===e?c.dispname:e,c.formatter,void 0===f?c.description:f,c.chartKind,c.chart_options,c.varType)};b.GetLabel=function(c){var d=b.Columns[c];c=d.dispname;(d=d.description)&&(c='<span title="'+d+'">'+c+"</span>");return c};b.GetFormatter=function(c){return b.Columns[c]?b.Columns[c].formatter:
null};b.HasColumn=function(c){return void 0!==b.Columns[c]}}
function RecordsetRenderer(b,c,d){function e(m){return m.formatter&&m.formatter.isNumeric?"p9":"o9"}var f=this;f.GetElementToShow=function(){return document.getElementById(b).parentNode};f.AddColumn=function(m,l,w,q,r){f.Header.AddColumn(m,l,w,q,r)};f.AddGroup=function(m,l){f.Header.AddGroup(m,l)};f.Render=function(m,l,w){l=f.CreateTable(m,!1,w?!0:!1);document.getElementById(b).innerHTML=l;w&&f.AdviseNavigation(m,w);PCF.requestFormulaUpdate(!1)&&(m=window.MathJax,void 0!==m&&m.Hub.Queue(["Typeset",
m.Hub]))};f.CreateTable=function(m,l,w){l=f.CreateTableHeader(m.QueryContext.sortcolumn,m.QueryContext.sortdirection,l);l+=f.CreateTableData(m);w&&(l+=f.CreateNavigation(m));return f.TableWrapper(l)};f.CreateTableHeader=function(m,l,w){var q='<thead><tr id="'+f.GetHeaderId()+'" >',r;for(r in f.Header.Columns)if(f.Header.Columns[r].visible){var t="th_notsorted";r==m&&(t="ASC"==l?"th_sortedasc":"th_sorteddesc");q+=f.TableHeader(r);w&&(q+='<a href="" class="'+t+'" id="col_'+(b+"_")+r+'">');q+=f.Header.GetLabel(r);
w&&(q+="</a>");q+="</th>"}return q+"</tr></thead>"};f.CreateTableData=function(m){m=m.GetRecordArray();var l="<tbody>",w=[];f.Header.Groups.forEach(function(K){K.visible&&w.push({name:K.name,dispname:K.dispname,index:K.index})});var q=[];if(w.length){var r=f.Header.Columns;for(y in r)q.splice(0,0,r[y]);var t=w.length-1,u=0;q.forEach(function(K,O){for(u++;0<=t&&w[t].index>=K.index;)w[t].cols=u,u=0,t--;u&&w.splice(0,0,{name:"",dispname:"",index:0,cols:u})})}for(r=0;r<m.length;r++){for(var F=m[r],Q=
!1,p=0;p<w.length;++p){var h=w[p];var y=h.name;void 0!==F[y]&&(y=h.formatter?h.formatter.Format(y,F):F[y],h.dispname!=y&&(Q=!0,h.dispname=y))}if(0==r||Q)y=w.reduce(function(K,O){O.cols?(K.val+='<td colspan="'+O.cols+'" class="'+e(q[q.length-O.index-1])+' s8">'+K.prev+O.dispname+"</td>",K.prev=""):K.prev+=O.dispname;return K},{prev:"",val:""}),y.val&&(l+="<tr>"+y.val+"</tr>");l+=f.CreateRowData(null,F)}return l+"</tbody>"};f.CreateRowData=function(m,l){m="<tr>";for(var w in f.Header.Columns)if(f.Header.Columns[w].visible){m+=
f.TableData(w);var q=f.Header.GetFormatter(w);m=q?m+q.Format(w,l):m+l[w];m+="</td>"}return m+"</tr>"};f.GetNavigationId=function(){return"nav_"+b+"_"};f.GetHeaderId=function(){return"header_"+b};f.TableWrapper=function(m){return'<div class="n" >'+f.GetTitle()+"<table>"+m+"</table></div>"};f.TableHeader=function(m){return'<th class="'+e(f.Header.Columns[m])+'">'};f.TableData=function(m){return'<td class="'+e(f.Header.Columns[m])+'">'};f.AdviseNavigation=function(m,l){var w=document.getElementById(f.GetNavigationId());
if(w){var q=$(w),r=q.find(".t3");w=q.find(".pc-button-prev");q=q.find(".pc-button-next");var t=m.QueryContext;r.on("change",function(){var Q=Number(r.val());Q=Q||m.GetTotal();var p=t.from;l(p-p%Q,Q)});w.on("click",function(){l(t.from-t.items,t.items)});q.on("click",function(){l(t.from+t.items,t.items)});if(d){q=$("#"+b);for(var u in d){var F=d[u].func;q.find("."+u).on("click",function(){F()})}}}};f.CreateNavigation=function(m){var l=m.QueryContext.items,w=m.QueryContext.from;m=m.GetTotal();if(!m)return"";
var q=[5,10,20,50,100,200,500,1E3,1E4,1E5,0],r='<tfoot><tr><td colspan="'+f.Header.Size+'">';r+='<div class="w" id="'+f.GetNavigationId()+'">';r+='<span class="pc-paging-items">'+PCL.items_per_page+": </span>";r+='<div class="_ s3"><i class="w3"></i><select class="t3">';for(var t=!1,u=0;u<q.length;++u)t=t||q[u]==l,r+='<option value="'+q[u]+'"'+(q[u]==l||!q[u]&&!t?" selected":"")+">"+((1E3<q[u]?q[u]/1E3+"K":q[u])||PCL.all)+"</option>";l=w+l<m?w+l:m;r=r+'</select><div class="_3"></div></div><span class="cb">'+
(PCL.x_of_y.replace("%1",w+1+" - "+l).replace("%2",m)+"</span>");r+='<button type="button" class="pc-button-prev c2" title="'+PCL.prev_page+'"'+(w?"":" disabled")+'><i class="material-icons">&#xE5CB;</i></button>';r+='<button type="button" class="pc-button-next c2 material-icons" title="'+PCL.next_page+'"'+(l<m?"":" disabled")+'><i class="material-icons">&#xE5CC;</i></button>';return r+"</div></td></tr></tfoot>"};f.Header=new RecordsetHeader;f.Show=function(){return document.getElementById(b).parentNode.style.display=
"block"};f.Hide=function(){return document.getElementById(b).parentNode.style.display="none"};f.ShowTable=function(){return document.getElementById(b).style.display="block"};f.HideTable=function(){return document.getElementById(b).style.display="none"};f.GetTitle=function(){return f.name?"<header>"+f.GetButtons()+'<h4 class="_2 o">'+f.name+"</h4></header>":""};f.GetButtons=function(){var m="";if(d)for(var l in d)m+='<button type="button" class="c2 vb '+l+' material-icons" ><i class="material-icons">'+
d[l].icon+"</i></button>";return m}}var AjaxTableNoEmptyRowsRenderer=RecordsetRenderer,RecordsetRendererM=RecordsetRenderer;
function RecordsetRendererC(b,c,d){function e(){if(5E5<w.length){if(q){q.open();return}var u=b.replace("_table",""),F=document.getElementById(u+"_big_msg");u=document.getElementById(u+"_download");if(F&&u){u.addEventListener("click",function(){f()});q=PLANETCALC.snackbar(F);return}}f()}function f(){var u=[],F;for(F in l.Header.Columns)u.push(F);q&&q.dismiss();PCcsv.save_to_file(w,l.name+".csv",u)}function m(u,F){t=F;var Q=new Recordset(null,"__id__");Q.LoadFromObject({summary:{total:w.length},recordset:w.slice(u,
u+F)});var p=Q.QueryContext;p.from=u;p.items=F;l.name&&(r.name=l.name);r.Render(Q,null,m)}var l=this,w=null,q=null,r=new RecordsetRendererM(b,c,d&&d.length&&"export"==d[0]?{get_app:{func:e,icon:"&#xf090;"}}:null),t=c?c:10;l.Header=r.Header;l.Show=r.Show;l.Hide=r.Hide;l.ShowTable=r.ShowTable;l.HideTable=r.HideTable;l.AddColumn=r.AddColumn;l.AddGroup=r.AddGroup;l.GetElementToShow=r.GetElementToShow;l.Render=function(u){w=u.GetRecordArray();m(0,t)}}
function RecordsetRendererT(b,c){var d=this;d.inheritFrom=RecordsetRendererM;d.inheritFrom(b,c);d.Render=function(e){e=e.GetRecordArray();var f="<tbody>",m=d.Header.Columns,l;for(l in m){var w=m[l];if(!w.visible)return;f+='<tr><th class="th_notsorted o9">'+w.dispname+"</th>";e.forEach(function(q){f+="<td>";var r=d.Header.GetFormatter(w.name);f=r?f+r.Format(w.name,q):f+q[w.name];f+="</td>"});f+="</tr>"}f+="</tbody>";document.getElementById(b).innerHTML=d.TableWrapper(f)}}
function CommentFormHandler(b,c){function d(){$(".btn-more-comment").on("click",function(q){var r=$(q.currentTarget);l.deleteItemId=r.data("id");l.showNear(q.currentTarget);return!1})}function e(){""==f.Dialog.message.GetValue()?$(f.Dialog.send.GetElement()).attr("disabled",""):$(f.Dialog.send.GetElement()).removeAttr("disabled")}var f=this,m=!1,l=null;var w=function(){f.checkCommentLoad();m&&w&&window.removeEventListener("scroll",w)};c&&(l=PLANETCALC.menu(document.getElementById("delete_comment_menu")),
document.getElementById("action_delete_comment").addEventListener("click",function(){f.Delete(l.deleteItemId)}));f.checkCommentLoad=function(){if(!m){var q=$("#comments").offset().top,r=$(window).height();$(window).scrollTop()>q-r&&(m=!0,f.Dialog.group_sofia&&(q=window.location.pathname.match(/\/(\d+)\//),BSMakePOSTRequest("/service/sofiabyartefact/",{OnResponseText:function(t){$(f.Dialog.group_sofia.GetElement()).append(t)}},{id:q?q[1]:0})),f.Update())}};f.isRegistered=function(){return c};f.setTable=
function(q){f.table=q};f.prepare=function(q){BSMakePOSTRequest("/service/comments/prepare/",{OnResponse:function(r){q(r.id)}},{message:f.Dialog.message.GetValue(),subscribe:f.Dialog.notify.GetValue()})};f.onchanged=function(q){"notify"==q&&(f.Dialog.progress.Show(),f.isRegistered()?(q=f.Dialog.notify.GetValue(),BSMakePOSTRequest("/service/comments/tracker/",{OnResponse:function(){f.Dialog.progress.Hide()}},{op:q?1:0,id:f.Dialog.messagebox.GetValue()})):f.prepare(function(r){document.location.href=
b+"&prepost="+r}))};f.initdialog=function(q){f.Dialog=q;f.Dialog.progress.Hide();e();$(f.Dialog.message.GetElement()).on("input propertychange",function(){e()});f.checkCommentLoad();m||window.addEventListener("scroll",w,{passive:!0})};f.oncommand=function(q){"send"==q&&(c?f.Send():f.LoginAndSend())};f.onkeypressed=function(q,r){return!0};f.Send=function(){""!=f.Dialog.message.GetValue()&&f.Dialog.message.Validate()&&(f.Dialog.progress.Show(),f.table.attachUpdateListener(function(){f.Dialog.progress.Hide();
c&&d()}),BSMakePOSTRequest("/service/comments/add/",{OnResponse:function(){f.table.Reload();f.Dialog.message.SetValue("")}},{id:f.Dialog.messagebox.GetValue(),message:f.Dialog.message.GetValue(),parent:0}))};f.Delete=function(q){f.Dialog.progress.Show();BSMakePOSTRequest("/service/comments/spamcontrol/",{OnResponse:function(){f.Update()}},{id:q,op:"delete"})};f.Update=function(){f.Dialog.progress.Show();f.table.Reload();f.table.attachUpdateListener(function(){f.Dialog.progress.Hide();c&&d()})};f.LoginAndSend=
function(){""!=f.Dialog.message.GetValue()&&f.Dialog.message.Validate()&&(window.initbeforelogin=function(q){f.prepare(function(r){q.action=b+"&prepost="+r;q.submit()})},window.logindialog?window.logindialog.open():BSMakePOSTRequest("/signin/",{OnResponseText:function(q){$(document.body).append(q);q=document.getElementById("signiddlg");PLANETCALC.init(q);window.logindialog=PLANETCALC.dialog(q);window.logindialog.open()}},{prepare:"window.initbeforelogin",id:"signiddlg"}))}}
function CommentsRenderer(b,c){function d(m,l){return'<p class="'+m+'">'+l+"</p>"}function e(m,l){return'<span class="'+m+'">'+l+"</span>"}var f=this;f.inheritFrom=RecordsetRendererM;f.inheritFrom(b,c);f.table_class="table";f.GetEmptyLines=function(m){return""};f.CreateTableHeader=function(m,l,w){return""};f.CreateRowData=function(m,l){m='<tr><td rowspan=2 class="ub">';m=0==l.role?m+f.RenderAnonimousInfo(l):m+d("pc-avatar",f.Header.GetFormatter("avatar")?f.Header.GetFormatter("avatar").Format("photo",
l):"");m=m+'</td><td class="p">'+e("z1",f.Header.GetFormatter("nickname")?f.Header.GetFormatter("nickname").Format("nickname",l):l.nickname);f.Header.GetFormatter("spamDelete")&&(m+='<span class="q">',f.Header.GetFormatter("spamDelete")&&(m+=f.Header.GetFormatter("spamDelete").Format("spamDelete",l)),m+="</span>");m+=e("u",f.Header.GetFormatter("posted")?f.Header.GetFormatter("posted").Format("posted",l):l.posted);m=m+'</td></tr><tr class="r"><td class="s">'+l.message;return m+"</td></tr>"};f.RenderAnonimousInfo=
function(m){m.photo="/img/none.png";return d("pc-avatar",f.Header.GetFormatter("avatar")?f.Header.GetFormatter("avatar").Format("photo",m):"")}}
function Commenter(b,c){var d=this;d.OuterDivID=b;d.URL=c;d.SetTable=function(e){d.Comments=e};d.initdialog=function(e){d.Dialog=e};d.onchanged=function(e){};d.onkeypressed=function(e,f){return!0};d.oncommand=function(e){clearLastError();"ok"==e?d.Dialog.Validate()&&d.Send():"cancel"==e&&d.Discard()};d.Send=function(){if(d.Dialog.Validate()){d.Dialog.Busy();var e=d.URL,f=d.Dialog,m={id:f.comment_id.GetValue(),message:f.message_text.GetValue(),parent:f.parent.GetValue()};void 0!=f.captcha&&(m.captcha=
f.captcha.GetValue());void 0!=f.sender&&(m.sender=f.sender.GetValue());BSMakePOSTRequest(e,d,m)}};d.Discard=function(){document.getElementById(d.OuterDivID).style.display="none"};d.OnResponse=function(e){d.Dialog.Free();d.ResetCaptcha();d.Dialog.message_text.SetValue("");d.Comments.Reload()};d.OnError=function(e){d.Dialog.Free();d.ResetCaptcha();d.Dialog.ShowError(null,e);return!0};d.ResetCaptcha=function(){d.Dialog.captcha&&(d.Dialog.captcha.SetValue(""),document.getElementById(d.Dialog.GetElement().id+
"_captcha_image").src="/captcha/?"+Math.random())}}function FormTrackerHandler(b){var c=this;c.Dialog=null;c.URL=b;c.onchanged=function(d){d=c.URL;var e=c.Dialog;e={id:e.item_id.GetValue(),op:e.op.GetValue()};BSMakePOSTRequest(d,c,e)};c.initdialog=function(d){c.Dialog=d};c.oncommand=function(d){clearLastError()};c.onkeypressed=function(d,e){return!0};c.OnResponse=function(d){}}
function Requester(b){var c=this;c.URL=b;c.Request=function(d){BSMakePOSTRequest(c.URL,c,{id:d})};c.Close=function(d){c.Request(d)};c.OnResponse=function(d){alert("Done")}}function Trigger(b){var c=this;c.URL=b;c.Request=function(d){BSMakePOSTRequest(c.URL,c,{id:d})};c.Trigger=function(d){c.Request(d)};c.OnResponse=function(d){alert("Done")}}var on_gapi_load_action=null;
function enable_google_login(){gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:"209250272059-umso8nug49u2dr6g67homveq395pcg49.apps.googleusercontent.com"});on_gapi_load_action&&(on_gapi_load_action(),on_gapi_load_action=null)})}
function LoginFormHandler(b,c){function d(C){"BUTTON"==C.GetElement().tagName?$(C.GetElement()).show():C.Show()}function e(C){"BUTTON"==C.GetElement().tagName?$(C.GetElement()).hide():C.Hide()}function f(C){for(var E=1;E<arguments.length;++E)for(var B=arguments[E],z=0;z<B.length;++z)C(B[z])}function m(){var C=[K.Dialog.login_with,K.Dialog.next,K.Dialog.login_header,K.Dialog.consent_login];"email"==K.Dialog.login_with.GetValue()&&C.push(K.Dialog.login_useremail,K.Dialog.login_userpassword);return C}
function l(){return[K.Dialog.join_header,K.Dialog.login_useremail,K.Dialog.join_fullname,K.Dialog.login_userpassword,K.Dialog.join_password_confirm,K.Dialog.next,K.Dialog.back,K.Dialog.consent_login]}function w(){return[K.Dialog.join_header,K.Dialog.join_captcha,K.Dialog.join,K.Dialog.back]}function q(){var C=K.Dialog.consent_login.GetElement().checked;K.Dialog.join.GetElement().disabled=!C;K.Dialog.login.GetElement().disabled=!C;K.Dialog.next.GetElement().disabled=!C}function r(){$("#new_user").on("click",
function(){t(x.signup);$(K.Dialog.login_userpassword.GetElementToShow()).find(".e4").hide();return!1})}function t(C){H=C;switch(C){case "signup":f(function(E){e(E)},m(),w(),[K.Dialog.login]);f(function(E){d(E)},l());break;case "captcha":case "captcha1":h(C==x.captcha?w():[K.Dialog.login_header,K.Dialog.join_captcha,K.Dialog.login,K.Dialog.back]);break;default:H=x.login,f(function(E){e(E)},l(),w(),[K.Dialog.login]),f(function(E){d(E)},m()),$(K.Dialog.login_userpassword.GetElementToShow()).find(".e4").show(),
K.Dialog.signupmode.SetValue("")}}function u(){y(K.Dialog.GetElement())}function F(){auth2.signIn().then(function(){auth2.currentUser.get().getBasicProfile();K.Dialog.code.SetValue(gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token);u()})}function Q(){document.getElementById("google_api_script")?F():BSMakePOSTRequest("/service/login/other/",{OnResponseText:function(){var C=document.createElement("script");on_gapi_load_action=F;C.id="google_api_script";C.src="https://apis.google.com/js/client:platform.js?onload=enable_google_login";
var E=document.getElementsByTagName("script")[0];E.parentNode.insertBefore(C,E)}})}function p(C){var E=!0;f(function(B){B.Validate()||(E=!1)},C);return E}function h(C){f(function(E){e(E)},l(),m(),[K.Dialog.join,K.Dialog.login]);f(function(E){d(E)},C);$(".pc-captcha").attr("src","/captcha/?new="+Math.random())}var y=b?b:function(C){C.submit()},K=this;K.Dialog=null;var O={},x={signup:"signup",login:"login",captcha:"captcha",captcha1:"captcha1"},H=x.login;K.onchanged=function(C){if("login_with"==C){var E=
K.Dialog.login_with.GetValue(),B=[K.Dialog.login_useremail,K.Dialog.login_userpassword,K.Dialog.next],z=[K.Dialog.copy_picture,K.Dialog.login];"email"==E?(B.forEach(d),z.forEach(e),r()):(B.forEach(e),z.forEach(d))}if("consent_login"==C){K.Dialog.consent_login.GetValue()?O.login=Math.round((new Date).getTime()/1E3):delete O.login;C="";for(var A in O)C+=A+":"+O[A]+"/";A="";""!=C&&(A=new Date,A.setTime(A.getTime()+31536E6),A="expires="+A.toUTCString(),C=C.substr(0,C.length-1));document.cookie=J+"="+
C+";"+A+";path=/";q()}};K.initdialog=function(C){K.Dialog=C;K.Dialog.copy_picture.Hide();c||$(K.Dialog.cancel.GetElement()).hide();if(C=document.cookie.match("\\b"+J+"=([^;]*)\\b")){C=C[1].split("/");for(var E={},B=0;B<C.length;++B){var z=C[B].split(":");E[z[0]]=z[1]}C=E}else C={};O=C;O.login&&K.Dialog.consent_login.SetValue(!0);q();t(K.Dialog.signupmode.GetValue());r()};K.oncommand=function(C){clearLastError();switch("login"==C?K.Dialog.login_with.GetValue():C){case "google":Q();break;case "email":case "twitter":case "facebook":case "vkontakte":p(m())&&
u();break;case "next":C=H===x.signup;p(C?l():m())&&t(C?x.captcha:x.captcha1);break;case "join":p(l())&&(K.Dialog.signupmode.SetValue("signup"),u());break;case "back":H==x.captcha?t(x.signup):t(x.login);break;case "cancel":window.logindialog.close()}};K.onkeypressed=function(C,E){return!0};var J="pclc_consent"}
!function(b){function c(e){if(d[e])return d[e].exports;var f=d[e]={i:e,l:!1,exports:{}};return b[e].call(f.exports,f,f.exports,c),f.l=!0,f.exports}var d={};c.m=b;c.c=d;c.d=function(e,f,m){c.o(e,f)||Object.defineProperty(e,f,{enumerable:!0,get:m})};c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};c.t=function(e,f){if((1&f&&(e=c(e)),8&f)||4&f&&"object"==typeof e&&e&&e.__esModule)return e;
var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:e}),2&f&&"string"!=typeof e)for(var l in e)c.d(m,l,function(w){return e[w]}.bind(null,l));return m};c.n=function(e){var f=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(f,"a",f),f};c.o=function(e,f){return Object.prototype.hasOwnProperty.call(e,f)};c.p="";c(c.s=1)}([function(b,c,d){var e,f,m=d(2),l=d(3),w=(f=[],{activateTrap:function(q){if(0<f.length){var r=f[f.length-1];r!==q&&
r.pause()}r=f.indexOf(q);-1===r||f.splice(r,1);f.push(q)},deactivateTrap:function(q){q=f.indexOf(q);-1!==q&&f.splice(q,1);0<f.length&&f[f.length-1].unpause()}});b.exports=function(q,r){function t(A){if(B.active){clearTimeout(e);F();B.active=!1;B.paused=!1;w.deactivateTrap(z);var I=A&&void 0!==A.onDeactivate?A.onDeactivate:E.onDeactivate;return I&&I(),(A&&void 0!==A.returnFocus?A.returnFocus:E.returnFocusOnDeactivate)&&setTimeout(function(){var M;H((M=B.nodeFocusedBeforeActivation,Q("setReturnFocus")||
M))},0),z}}function u(){if(B.active)return w.activateTrap(z),e=setTimeout(function(){H(p())},0),J.addEventListener("focusin",y,!0),J.addEventListener("mousedown",h,{capture:!0,passive:!1}),J.addEventListener("touchstart",h,{capture:!0,passive:!1}),J.addEventListener("click",O,{capture:!0,passive:!1}),J.addEventListener("keydown",K,{capture:!0,passive:!1}),z}function F(){if(B.active)return J.removeEventListener("focusin",y,!0),J.removeEventListener("mousedown",h,!0),J.removeEventListener("touchstart",
h,!0),J.removeEventListener("click",O,!0),J.removeEventListener("keydown",K,!0),z}function Q(A){var I=E[A],M=I;if(!I)return null;if("string"==typeof I&&!(M=J.querySelector(I)))throw Error("`"+A+"` refers to no known node");if("function"==typeof I&&!(M=I()))throw Error("`"+A+"` did not return a node");return M}function p(){var A;if(!(A=null!==Q("initialFocus")?Q("initialFocus"):C.contains(J.activeElement)?J.activeElement:B.firstTabbableNode||Q("fallbackFocus")))throw Error("Your focus-trap needs to have at least one focusable element");
return A}function h(A){C.contains(A.target)||(E.clickOutsideDeactivates?t({returnFocus:!m.isFocusable(A.target)}):E.allowOutsideClick&&E.allowOutsideClick(A)||A.preventDefault())}function y(A){C.contains(A.target)||A.target instanceof Document||(A.stopImmediatePropagation(),H(B.mostRecentlyFocusedNode||p()))}function K(A){if(!1!==E.escapeDeactivates&&("Escape"===A.key||"Esc"===A.key||27===A.keyCode))return A.preventDefault(),void t();if("Tab"===A.key||9===A.keyCode)(x(),A.shiftKey&&A.target===B.firstTabbableNode)?
(A.preventDefault(),H(B.lastTabbableNode)):A.shiftKey||A.target!==B.lastTabbableNode||(A.preventDefault(),H(B.firstTabbableNode))}function O(A){E.clickOutsideDeactivates||C.contains(A.target)||E.allowOutsideClick&&E.allowOutsideClick(A)||(A.preventDefault(),A.stopImmediatePropagation())}function x(){var A=m(C);B.firstTabbableNode=A[0]||p();B.lastTabbableNode=A[A.length-1]||p()}function H(A){A!==J.activeElement&&(A&&A.focus?(A.focus(),B.mostRecentlyFocusedNode=A,A.tagName&&"input"===A.tagName.toLowerCase()&&
"function"==typeof A.select&&A.select()):H(p()))}var J=document,C="string"==typeof q?J.querySelector(q):q,E=l({returnFocusOnDeactivate:!0,escapeDeactivates:!0},r),B={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},z={activate:function(A){if(!B.active)return x(),B.active=!0,B.paused=!1,B.nodeFocusedBeforeActivation=J.activeElement,(A=A&&A.onActivate?A.onActivate:E.onActivate)&&A(),u(),z},deactivate:t,pause:function(){!B.paused&&
B.active&&(B.paused=!0,F())},unpause:function(){B.paused&&B.active&&(B.paused=!1,x(),u())}};return z}},function(b,c,d){b.exports=d(4)},function(b,c){function d(t,u){u=u||{};var F,Q,p=[],h=[],y=t.querySelectorAll(w);u.includeContainer&&q.call(t,w)&&(y=Array.prototype.slice.apply(y)).unshift(t);for(t=0;t<y.length;t++)e(F=y[t])&&(0===(Q=m(F))?p.push(F):h.push({documentOrder:t,tabIndex:Q,node:F}));return h.sort(l).map(function(K){return K.node}).concat(p)}function e(t){var u;if(!(u=!f(t))&&(u="INPUT"===
t.tagName&&"radio"===t.type)){if(t.name){b:{u=t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]');for(var F=0;F<u.length;F++)if(u[F].checked){u=u[F];break b}u=void 0}u=!u||u===t}else u=!0;u=!u}return!(u||0>m(t))}function f(t){return!(t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||null===t.offsetParent||"hidden"===getComputedStyle(t).visibility)}function m(t){var u=parseInt(t.getAttribute("tabindex"),10);return isNaN(u)?"true"===t.contentEditable?0:t.tabIndex:u}function l(t,
u){return t.tabIndex===u.tabIndex?t.documentOrder-u.documentOrder:t.tabIndex-u.tabIndex}c='input select textarea a[href] button [tabindex] audio[controls] video[controls] [contenteditable]:not([contenteditable="false"])'.split(" ");var w=c.join(","),q="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;d.isTabbable=function(t){if(!t)throw Error("No node provided");return!1!==q.call(t,w)&&e(t)};d.isFocusable=
function(t){if(!t)throw Error("No node provided");return!1!==q.call(t,r)&&f(t)};var r=c.concat("iframe").join(",");b.exports=d},function(b,c){b.exports=function(){for(var e={},f=0;f<arguments.length;f++){var m=arguments[f],l;for(l in m)d.call(m,l)&&(e[l]=m[l])}return e};var d=Object.prototype.hasOwnProperty},function(b,c,d){function e(P,k){function a(){this.constructor=P}p(P,k);P.prototype=null===k?Object.create(k):(a.prototype=k.prototype,new a)}function f(P){var k="function"==typeof Symbol&&Symbol.iterator,
a=k&&P[k],g=0;if(a)return a.call(P);if(P&&"number"==typeof P.length)return{next:function(){return P&&g>=P.length&&(P=void 0),{value:P&&P[g++],done:!P}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.");}function m(P,k){var a="function"==typeof Symbol&&P[Symbol.iterator];if(!a)return P;var g;P=a.call(P);var G=[];try{for(;(void 0===k||0<k--)&&!(g=P.next()).done;)G.push(g.value)}catch(ea){var V={error:ea}}finally{try{g&&!g.done&&(a=P.return)&&a.call(P)}finally{if(V)throw V.error;
}}return G}function l(){for(var P=[],k=0;k<arguments.length;k++)P=P.concat(m(arguments[k]));return P}function w(P,k){if(P.document&&"function"==typeof P.document.createElement&&k in K){P=P.document.createElement("div");k=K[k];var a=k.standard,g=k.prefixed;return k.cssProperty in P.style?a:g}return k}function q(P,k){if(P.closest)return P.closest(k);for(;P;){if(r(P,k))return P;P=P.parentElement}return null}function r(P,k){return(P.matches||P.webkitMatchesSelector||P.msMatchesSelector).call(P,k)}function t(P,
k){if(void 0===P&&(P=window),void 0===k&&(k=!1),void 0===J||k){var a=!1;try{P.document.addEventListener("test",function(){},{get passive(){return a=!0}})}catch(g){}J=a}return!!J&&{passive:!0}}function u(P){P.addEventListener("click",function(){this.classList.toggle("ge");var k=this.nextElementSibling;k.style.maxHeight?k.style.maxHeight=null:k.style.maxHeight=k.scrollHeight+"px"})}function F(P){this.open&&(this.open=!1);this.setAnchorElement(P);this.setFixedPosition(!0);this.open=!0}function Q(P,k,
a){P=P.getElementsByClassName(k);for(k=0;k<P.length;++k)new a(P[k])}d.r(c);var p=function(P,k){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var G in g)g.hasOwnProperty(G)&&(a[G]=g[G])})(P,k)},h=function(){return(h=Object.assign||function(P){for(var k,a=1,g=arguments.length;a<g;a++)for(var G in k=arguments[a])Object.prototype.hasOwnProperty.call(k,G)&&(P[G]=k[G]);return P}).apply(this,arguments)},y={animation:{prefixed:"-webkit-animation",
standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},K={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",
standard:"transitionend"}},O=function(){function P(k){void 0===k&&(k={});this.adapter_=k}return Object.defineProperty(P,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(P,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(P,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(P,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),P.prototype.init=function(){},
P.prototype.destroy=function(){},P}(),x=function(){function P(k,a){for(var g=[],G=2;G<arguments.length;G++)g[G-2]=arguments[G];this.root_=k;this.initialize.apply(this,l(g));this.foundation_=void 0===a?this.getDefaultFoundation():a;this.foundation_.init();this.initialSyncWithDOM()}return P.attachTo=function(k){return new P(k,new O({}))},P.prototype.initialize=function(){for(var k=0;k<arguments.length;k++);},P.prototype.getDefaultFoundation=function(){throw Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class");
},P.prototype.initialSyncWithDOM=function(){},P.prototype.destroy=function(){this.foundation_.destroy()},P.prototype.listen=function(k,a){this.root_.addEventListener(k,a)},P.prototype.unlisten=function(k,a){this.root_.removeEventListener(k,a)},P.prototype.emit=function(k,a,g){var G;void 0===g&&(g=!1);"function"==typeof CustomEvent?G=new CustomEvent(k,{bubbles:g,detail:a}):(G=document.createEvent("CustomEvent")).initCustomEvent(k,g,!1,a);this.root_.dispatchEvent(G)},P}(),H,J,C={BG_FOCUSED:"p1",FG_ACTIVATION:"w1",
FG_DEACTIVATION:"x1",ROOT:"o1",UNBOUNDED:"v1"},E={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},B={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},z=["touchstart","pointerdown","mousedown","keydown"],A=["touchend","pointerup","mouseup","contextmenu"],I=
[],M=function(P){function k(a){var g=P.call(this,h({},k.defaultAdapter,a))||this;return g.activationAnimationHasEnded_=!1,g.activationTimer_=0,g.fgDeactivationRemovalTimer_=0,g.fgScale_="0",g.frame_={width:0,height:0},g.initialSize_=0,g.layoutFrame_=0,g.maxRadius_=0,g.unboundedCoords_={left:0,top:0},g.activationState_=g.defaultActivationState_(),g.activationTimerCallback_=function(){g.activationAnimationHasEnded_=!0;g.runDeactivationUXLogicIfReady_()},g.activateHandler_=function(G){return g.activate_(G)},
g.deactivateHandler_=function(){return g.deactivate_()},g.focusHandler_=function(){return g.handleFocus()},g.blurHandler_=function(){return g.handleBlur()},g.resizeHandler_=function(){return g.layout()},g}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return C},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return E},enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return B},enumerable:!0,configurable:!0}),Object.defineProperty(k,
"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},
registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),k.prototype.init=function(){var a=this,g=this.supportsPressRipple_();if(this.registerRootHandlers_(g),g){g=k.cssClasses;var G=g.ROOT,V=g.UNBOUNDED;requestAnimationFrame(function(){a.adapter_.addClass(G);a.adapter_.isUnbounded()&&(a.adapter_.addClass(V),a.layoutInternal_())})}},k.prototype.destroy=
function(){var a=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(k.cssClasses.FG_ACTIVATION));this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(k.cssClasses.FG_DEACTIVATION));var g=k.cssClasses,G=g.ROOT,V=g.UNBOUNDED;requestAnimationFrame(function(){a.adapter_.removeClass(G);a.adapter_.removeClass(V);a.removeCssVars_()})}this.deregisterRootHandlers_();
this.deregisterDeactivationHandlers_()},k.prototype.activate=function(a){this.activate_(a)},k.prototype.deactivate=function(){this.deactivate_()},k.prototype.layout=function(){var a=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_);this.layoutFrame_=requestAnimationFrame(function(){a.layoutInternal_();a.layoutFrame_=0})},k.prototype.setUnbounded=function(a){var g=k.cssClasses.UNBOUNDED;a?this.adapter_.addClass(g):this.adapter_.removeClass(g)},k.prototype.handleFocus=function(){var a=
this;requestAnimationFrame(function(){return a.adapter_.addClass(k.cssClasses.BG_FOCUSED)})},k.prototype.handleBlur=function(){var a=this;requestAnimationFrame(function(){return a.adapter_.removeClass(k.cssClasses.BG_FOCUSED)})},k.prototype.supportsPressRipple_=function(){return this.adapter_.browserSupportsCssVars()},k.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},
k.prototype.registerRootHandlers_=function(a){var g=this;a&&(z.forEach(function(G){g.adapter_.registerInteractionHandler(G,g.activateHandler_)}),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_));this.adapter_.registerInteractionHandler("focus",this.focusHandler_);this.adapter_.registerInteractionHandler("blur",this.blurHandler_)},k.prototype.registerDeactivationHandlers_=function(a){var g=this;"keydown"===a.type?this.adapter_.registerInteractionHandler("keyup",
this.deactivateHandler_):A.forEach(function(G){g.adapter_.registerDocumentInteractionHandler(G,g.deactivateHandler_)})},k.prototype.deregisterRootHandlers_=function(){var a=this;z.forEach(function(g){a.adapter_.deregisterInteractionHandler(g,a.activateHandler_)});this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_);this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_);this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)},k.prototype.deregisterDeactivationHandlers_=
function(){var a=this;this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_);A.forEach(function(g){a.adapter_.deregisterDocumentInteractionHandler(g,a.deactivateHandler_)})},k.prototype.removeCssVars_=function(){var a=this,g=k.strings;Object.keys(g).forEach(function(G){0===G.indexOf("VAR_")&&a.adapter_.updateCssVariable(g[G],null)})},k.prototype.activate_=function(a){var g=this;if(!this.adapter_.isSurfaceDisabled()){var G=this.activationState_;if(!G.isActivated){var V=this.previousActivationEvent_;
V&&void 0!==a&&V.type!==a.type||(G.isActivated=!0,G.isProgrammatic=void 0===a,G.activationEvent=a,G.wasActivatedByPointer=!G.isProgrammatic&&void 0!==a&&("mousedown"===a.type||"touchstart"===a.type||"pointerdown"===a.type),void 0!==a&&0<I.length&&I.some(function(ea){return g.adapter_.containsEventTarget(ea)})?this.resetActivationState_():(void 0!==a&&(I.push(a.target),this.registerDeactivationHandlers_(a)),G.wasElementMadeActive=this.checkElementMadeActive_(a),G.wasElementMadeActive&&this.animateActivation_(),
requestAnimationFrame(function(){I=[];G.wasElementMadeActive||void 0===a||" "!==a.key&&32!==a.keyCode||(G.wasElementMadeActive=g.checkElementMadeActive_(a),G.wasElementMadeActive&&g.animateActivation_());G.wasElementMadeActive||(g.activationState_=g.defaultActivationState_())})))}}},k.prototype.checkElementMadeActive_=function(a){return void 0===a||"keydown"!==a.type||this.adapter_.isSurfaceActive()},k.prototype.animateActivation_=function(){var a=this,g=k.strings,G=g.VAR_FG_TRANSLATE_START;g=g.VAR_FG_TRANSLATE_END;
var V=k.cssClasses,ea=V.FG_DEACTIVATION;V=V.FG_ACTIVATION;var ia=k.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var sa="",qa="";this.adapter_.isUnbounded()||(qa=this.getFgTranslationCoordinates_(),sa=qa.startPoint,qa=qa.endPoint,sa=sa.x+"px, "+sa.y+"px",qa=qa.x+"px, "+qa.y+"px");this.adapter_.updateCssVariable(G,sa);this.adapter_.updateCssVariable(g,qa);clearTimeout(this.activationTimer_);clearTimeout(this.fgDeactivationRemovalTimer_);this.rmBoundedActivationClasses_();this.adapter_.removeClass(ea);
this.adapter_.computeBoundingRect();this.adapter_.addClass(V);this.activationTimer_=setTimeout(function(){return a.activationTimerCallback_()},ia)},k.prototype.getFgTranslationCoordinates_=function(){var a,g=this.activationState_,G=g.activationEvent;if(g.wasActivatedByPointer){var V=this.adapter_.getWindowPageOffset(),ea=this.adapter_.computeBoundingRect();G?(g=V.x+ea.left,V=V.y+ea.top,"touchstart"===G.type?(g=G.changedTouches[0].pageX-g,G=G.changedTouches[0].pageY-V):(g=G.pageX-g,G=G.pageY-V),G=
{x:g,y:G}):G={x:0,y:0}}else G={x:this.frame_.width/2,y:this.frame_.height/2};return{startPoint:{x:(a=G).x-this.initialSize_/2,y:a.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},k.prototype.runDeactivationUXLogicIfReady_=function(){var a=this,g=k.cssClasses.FG_DEACTIVATION,G=this.activationState_,V=G.isActivated;(G.hasDeactivationUXRun||!V)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(g),
this.fgDeactivationRemovalTimer_=setTimeout(function(){a.adapter_.removeClass(g)},B.FG_DEACTIVATION_MS))},k.prototype.rmBoundedActivationClasses_=function(){this.adapter_.removeClass(k.cssClasses.FG_ACTIVATION);this.activationAnimationHasEnded_=!1;this.adapter_.computeBoundingRect()},k.prototype.resetActivationState_=function(){var a=this;this.previousActivationEvent_=this.activationState_.activationEvent;this.activationState_=this.defaultActivationState_();setTimeout(function(){return a.previousActivationEvent_=
void 0},k.numbers.TAP_DELAY_MS)},k.prototype.deactivate_=function(){var a=this,g=this.activationState_;if(g.isActivated){var G=h({},g);g.isProgrammatic?(requestAnimationFrame(function(){return a.animateDeactivation_(G)}),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(function(){a.activationState_.hasDeactivationUXRun=!0;a.animateDeactivation_(G);a.resetActivationState_()}))}},k.prototype.animateDeactivation_=function(a){var g=a.wasElementMadeActive;(a.wasActivatedByPointer||
g)&&this.runDeactivationUXLogicIfReady_()},k.prototype.layoutInternal_=function(){this.frame_=this.adapter_.computeBoundingRect();var a=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter_.isUnbounded()?a:Math.sqrt(Math.pow(this.frame_.width,2)+Math.pow(this.frame_.height,2))+k.numbers.PADDING;this.initialSize_=Math.floor(a*k.numbers.INITIAL_ORIGIN_SCALE);this.fgScale_=""+this.maxRadius_/this.initialSize_;this.updateLayoutCssVars_()},k.prototype.updateLayoutCssVars_=function(){var a=
k.strings,g=a.VAR_LEFT,G=a.VAR_TOP,V=a.VAR_FG_SCALE;this.adapter_.updateCssVariable(a.VAR_FG_SIZE,this.initialSize_+"px");this.adapter_.updateCssVariable(V,this.fgScale_);this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(g,this.unboundedCoords_.left+"px"),this.adapter_.updateCssVariable(G,this.unboundedCoords_.top+"px"))},k}(O),L=function(P){function k(){var a=
null!==P&&P.apply(this,arguments)||this;return a.disabled=!1,a}return e(k,P),k.attachTo=function(a,g){void 0===g&&(g={isUnbounded:void 0});a=new k(a);return void 0!==g.isUnbounded&&(a.unbounded=g.isUnbounded),a},k.createAdapter=function(a){return{addClass:function(g){return a.root_.classList.add(g)},browserSupportsCssVars:function(){var g=window;var G=void 0;void 0===G&&(G=!1);var V=g.CSS,ea=H;if("boolean"!=typeof H||G)if(V&&"function"==typeof V.supports){var ia=V.supports("--css-vars","yes");V=V.supports("(--css-vars: yes)")&&
V.supports("color","#00000000");if(ia=!(!ia&&!V))V=g.document,ia=V.createElement("div"),ia.className="v0",V.body.appendChild(ia),g=g.getComputedStyle(ia),g=null!==g&&"solid"===g.borderTopStyle,ia=!(ia.parentNode&&ia.parentNode.removeChild(ia),g);G=(ea=ia,G||(H=ea),ea)}else G=!1;else G=H;return G},computeBoundingRect:function(){return a.root_.getBoundingClientRect()},containsEventTarget:function(g){return a.root_.contains(g)},deregisterDocumentInteractionHandler:function(g,G){return document.documentElement.removeEventListener(g,
G,t())},deregisterInteractionHandler:function(g,G){return a.root_.removeEventListener(g,G,t())},deregisterResizeHandler:function(g){return window.removeEventListener("resize",g)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return r(a.root_,":active")},isSurfaceDisabled:function(){return!!a.disabled},isUnbounded:function(){return!!a.unbounded},registerDocumentInteractionHandler:function(g,G){return document.documentElement.addEventListener(g,
G,t())},registerInteractionHandler:function(g,G){return a.root_.addEventListener(g,G,t())},registerResizeHandler:function(g){return window.addEventListener("resize",g)},removeClass:function(g){return a.root_.classList.remove(g)},updateCssVariable:function(g,G){return a.root_.style.setProperty(g,G)}}},Object.defineProperty(k.prototype,"unbounded",{get:function(){return!!this.unbounded_},set:function(a){this.unbounded_=!!a;this.setUnbounded_()},enumerable:!0,configurable:!0}),k.prototype.activate=function(){this.foundation_.activate()},
k.prototype.deactivate=function(){this.foundation_.deactivate()},k.prototype.layout=function(){this.foundation_.layout()},k.prototype.getDefaultFoundation=function(){return new M(k.createAdapter(this))},k.prototype.initialSyncWithDOM=function(){this.unbounded="mdcRippleIsUnbounded"in this.root_.dataset},k.prototype.setUnbounded_=function(){this.foundation_.setUnbounded(!!this.unbounded_)},k}(x),W={ANIM_CHECKED_INDETERMINATE:"j2--anim-checked-indeterminate",ANIM_CHECKED_UNCHECKED:"n2",ANIM_INDETERMINATE_CHECKED:"t2",
ANIM_INDETERMINATE_UNCHECKED:"o2",ANIM_UNCHECKED_CHECKED:"m2",ANIM_UNCHECKED_INDETERMINATE:"j2--anim-unchecked-indeterminate",BACKGROUND:"l2",CHECKED:"j2--checked",CHECKMARK:"p2",CHECKMARK_PATH:"s2",DISABLED:"q2",INDETERMINATE:"j2--indeterminate",MIXEDMARK:"j2__mixedmark",NATIVE_CONTROL:"k2",ROOT:"j2",SELECTED:"j2--selected",UPGRADED:"r2"},X={ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed",NATIVE_CONTROL_SELECTOR:".k2",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_INDETERMINATE:"indeterminate",
TRANSITION_STATE_INIT:"init",TRANSITION_STATE_UNCHECKED:"unchecked"},D={ANIM_END_LATCH_MS:250},U=function(P){function k(a){a=P.call(this,h({},k.defaultAdapter,a))||this;return a.currentCheckState_=X.TRANSITION_STATE_INIT,a.currentAnimationClass_="",a.animEndLatchTimer_=0,a.enableAnimationEndHandler_=!1,a}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return W},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return X},enumerable:!0,configurable:!0}),
Object.defineProperty(k,"numbers",{get:function(){return D},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},hasNativeControl:function(){return!1},isAttachedToDOM:function(){return!1},isChecked:function(){return!1},isIndeterminate:function(){return!1},removeClass:function(){},removeNativeControlAttr:function(){},setNativeControlAttr:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),
k.prototype.init=function(){this.currentCheckState_=this.determineCheckState_();this.updateAriaChecked_();this.adapter_.addClass(W.UPGRADED)},k.prototype.destroy=function(){clearTimeout(this.animEndLatchTimer_)},k.prototype.setDisabled=function(a){this.adapter_.setNativeControlDisabled(a);a?this.adapter_.addClass(W.DISABLED):this.adapter_.removeClass(W.DISABLED)},k.prototype.handleAnimationEnd=function(){var a=this;this.enableAnimationEndHandler_&&(clearTimeout(this.animEndLatchTimer_),this.animEndLatchTimer_=
setTimeout(function(){a.adapter_.removeClass(a.currentAnimationClass_);a.enableAnimationEndHandler_=!1},D.ANIM_END_LATCH_MS))},k.prototype.handleChange=function(){this.transitionCheckState_()},k.prototype.transitionCheckState_=function(){if(this.adapter_.hasNativeControl()){var a=this.currentCheckState_,g=this.determineCheckState_();if(a!==g){this.updateAriaChecked_();var G=W.SELECTED;g===X.TRANSITION_STATE_UNCHECKED?this.adapter_.removeClass(G):this.adapter_.addClass(G);0<this.currentAnimationClass_.length&&
(clearTimeout(this.animEndLatchTimer_),this.adapter_.forceLayout(),this.adapter_.removeClass(this.currentAnimationClass_));this.currentAnimationClass_=this.getTransitionAnimationClass_(a,g);this.currentCheckState_=g;this.adapter_.isAttachedToDOM()&&0<this.currentAnimationClass_.length&&(this.adapter_.addClass(this.currentAnimationClass_),this.enableAnimationEndHandler_=!0)}}},k.prototype.determineCheckState_=function(){var a=X.TRANSITION_STATE_INDETERMINATE,g=X.TRANSITION_STATE_CHECKED,G=X.TRANSITION_STATE_UNCHECKED;
return this.adapter_.isIndeterminate()?a:this.adapter_.isChecked()?g:G},k.prototype.getTransitionAnimationClass_=function(a,g){var G=X.TRANSITION_STATE_INIT,V=X.TRANSITION_STATE_CHECKED,ea=X.TRANSITION_STATE_UNCHECKED,ia=k.cssClasses,sa=ia.ANIM_UNCHECKED_CHECKED,qa=ia.ANIM_UNCHECKED_INDETERMINATE,xa=ia.ANIM_CHECKED_UNCHECKED,Ia=ia.ANIM_CHECKED_INDETERMINATE,Oa=ia.ANIM_INDETERMINATE_CHECKED;ia=ia.ANIM_INDETERMINATE_UNCHECKED;switch(a){case G:return g===ea?"":g===V?Oa:ia;case ea:return g===V?sa:qa;
case V:return g===ea?xa:Ia;default:return g===V?Oa:ia}},k.prototype.updateAriaChecked_=function(){this.adapter_.isIndeterminate()?this.adapter_.setNativeControlAttr(X.ARIA_CHECKED_ATTR,X.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter_.removeNativeControlAttr(X.ARIA_CHECKED_ATTR)},k}(O),Y=["checked","indeterminate"],T=function(P){function k(){var a=null!==P&&P.apply(this,arguments)||this;return a.ripple_=a.createRipple_(),a}return e(k,P),k.attachTo=function(a){return new k(a)},Object.defineProperty(k.prototype,
"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(a){this.nativeControl_.checked=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"indeterminate",{get:function(){return this.nativeControl_.indeterminate},set:function(a){this.nativeControl_.indeterminate=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},
set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"value",{get:function(){return this.nativeControl_.value},set:function(a){this.nativeControl_.value=a},enumerable:!0,configurable:!0}),k.prototype.initialSyncWithDOM=function(){var a=this;this.handleChange_=function(){return a.foundation_.handleChange()};this.handleAnimationEnd_=function(){return a.foundation_.handleAnimationEnd()};this.nativeControl_.addEventListener("change",this.handleChange_);
this.listen(w(window,"animationend"),this.handleAnimationEnd_);this.installPropertyChangeHooks_()},k.prototype.destroy=function(){this.ripple_.destroy();this.nativeControl_.removeEventListener("change",this.handleChange_);this.unlisten(w(window,"animationend"),this.handleAnimationEnd_);this.uninstallPropertyChangeHooks_();P.prototype.destroy.call(this)},k.prototype.getDefaultFoundation=function(){var a=this;return new U({addClass:function(g){return a.root_.classList.add(g)},forceLayout:function(){return a.root_.offsetWidth},
hasNativeControl:function(){return!!a.nativeControl_},isAttachedToDOM:function(){return!!a.root_.parentNode},isChecked:function(){return a.checked},isIndeterminate:function(){return a.indeterminate},removeClass:function(g){return a.root_.classList.remove(g)},removeNativeControlAttr:function(g){return a.nativeControl_.removeAttribute(g)},setNativeControlAttr:function(g,G){return a.nativeControl_.setAttribute(g,G)},setNativeControlDisabled:function(g){return a.nativeControl_.disabled=g}})},k.prototype.createRipple_=
function(){var a=this,g=h({},L.createAdapter(this),{deregisterInteractionHandler:function(G,V){return a.nativeControl_.removeEventListener(G,V)},isSurfaceActive:function(){return r(a.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(G,V){return a.nativeControl_.addEventListener(G,V)}});return new L(this.root_,new M(g))},k.prototype.installPropertyChangeHooks_=function(){var a=this,g=this.nativeControl_,G=Object.getPrototypeOf(g);Y.forEach(function(V){var ea=
Object.getOwnPropertyDescriptor(G,V);ea&&"function"==typeof ea.set&&Object.defineProperty(g,V,{configurable:ea.configurable,enumerable:ea.enumerable,get:ea.get,set:function(ia){ea.set.call(g,ia);a.foundation_.handleChange()}})})},k.prototype.uninstallPropertyChangeHooks_=function(){var a=this.nativeControl_,g=Object.getPrototypeOf(a);Y.forEach(function(G){var V=Object.getOwnPropertyDescriptor(g,G);V&&"function"==typeof V.set&&Object.defineProperty(a,G,V)})},Object.defineProperty(k.prototype,"nativeControl_",
{get:function(){var a=U.strings.NATIVE_CONTROL_SELECTOR,g=this.root_.querySelector(a);if(!g)throw Error("Checkbox component requires a "+a+" element");return g},enumerable:!0,configurable:!0}),k}(x),Z={CHECKED:"y6",DISABLED:"c7"},ma={NATIVE_CONTROL_SELECTOR:".a7",RIPPLE_SURFACE_SELECTOR:".b7"},ha=function(P){function k(a){return P.call(this,h({},k.defaultAdapter,a))||this}return e(k,P),Object.defineProperty(k,"strings",{get:function(){return ma},enumerable:!0,configurable:!0}),Object.defineProperty(k,
"cssClasses",{get:function(){return Z},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),k.prototype.setChecked=function(a){this.adapter_.setNativeControlChecked(a);this.updateCheckedStyling_(a)},k.prototype.setDisabled=function(a){this.adapter_.setNativeControlDisabled(a);a?this.adapter_.addClass(Z.DISABLED):
this.adapter_.removeClass(Z.DISABLED)},k.prototype.handleChange=function(a){this.updateCheckedStyling_(a.target.checked)},k.prototype.updateCheckedStyling_=function(a){a?this.adapter_.addClass(Z.CHECKED):this.adapter_.removeClass(Z.CHECKED)},k}(O),la=function(P){function k(){var a=null!==P&&P.apply(this,arguments)||this;return a.ripple_=a.createRipple_(),a}return e(k,P),k.attachTo=function(a){return new k(a)},k.prototype.destroy=function(){P.prototype.destroy.call(this);this.ripple_.destroy();this.nativeControl_.removeEventListener("change",
this.changeHandler_)},k.prototype.initialSyncWithDOM=function(){var a=this;this.changeHandler_=function(){for(var g,G=[],V=0;V<arguments.length;V++)G[V]=arguments[V];return(g=a.foundation_).handleChange.apply(g,l(G))};this.nativeControl_.addEventListener("change",this.changeHandler_);this.checked=this.checked},k.prototype.getDefaultFoundation=function(){var a=this;return new ha({addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},setNativeControlChecked:function(g){return a.nativeControl_.checked=
g},setNativeControlDisabled:function(g){return a.nativeControl_.disabled=g}})},Object.defineProperty(k.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(a){this.foundation_.setChecked(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(a){this.foundation_.setDisabled(a)},
enumerable:!0,configurable:!0}),k.prototype.createRipple_=function(){var a=this,g=this.root_.querySelector(ha.strings.RIPPLE_SURFACE_SELECTOR),G=h({},L.createAdapter(this),{addClass:function(V){return g.classList.add(V)},computeBoundingRect:function(){return g.getBoundingClientRect()},deregisterInteractionHandler:function(V,ea){a.nativeControl_.removeEventListener(V,ea)},isSurfaceActive:function(){return r(a.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(V,
ea){a.nativeControl_.addEventListener(V,ea)},removeClass:function(V){return g.classList.remove(V)},updateCssVariable:function(V,ea){g.style.setProperty(V,ea)}});return new L(this.root_,new M(G))},Object.defineProperty(k.prototype,"nativeControl_",{get:function(){return this.root_.querySelector(ha.strings.NATIVE_CONTROL_SELECTOR)},enumerable:!0,configurable:!0}),k}(x),pa={CLOSING:"e5",OPEN:"b5",OPENING:"c5",SCROLLABLE:"x4",SCROLL_LOCK:"f5",STACKED:"_5"},ba={ACTION_ATTRIBUTE:"data-s4-action",BUTTON_SELECTOR:".a5",
CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".z4",CONTENT_SELECTOR:".w4",DEFAULT_BUTTON_SELECTOR:".a5--default",DESTROY_ACTION:"destroy",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".t4",SUPPRESS_DEFAULT_PRESS_SELECTOR:"textarea, .w0 .a1",SURFACE_SELECTOR:".u4"},da={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150},ta=function(P){function k(a){a=P.call(this,h({},k.defaultAdapter,a))||
this;return a.isOpen_=!1,a.animationFrame_=0,a.animationTimer_=0,a.layoutFrame_=0,a.escapeKeyAction_=ba.CLOSE_ACTION,a.scrimClickAction_=ba.CLOSE_ACTION,a.autoStackButtons_=!0,a.areButtonsStacked_=!1,a}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return pa},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return ba},enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return da},enumerable:!0,configurable:!0}),Object.defineProperty(k,
"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},
trapFocus:function(){}}},enumerable:!0,configurable:!0}),k.prototype.init=function(){this.adapter_.hasClass(pa.STACKED)&&this.setAutoStackButtons(!1)},k.prototype.destroy=function(){this.isOpen_&&this.close(ba.DESTROY_ACTION);this.animationTimer_&&(clearTimeout(this.animationTimer_),this.handleAnimationTimerEnd_());this.layoutFrame_&&(cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=0)},k.prototype.open=function(){var a=this;this.isOpen_=!0;this.adapter_.notifyOpening();this.adapter_.addClass(pa.OPENING);
this.runNextAnimationFrame_(function(){a.adapter_.addClass(pa.OPEN);a.adapter_.addBodyClass(pa.SCROLL_LOCK);a.layout();a.animationTimer_=setTimeout(function(){a.handleAnimationTimerEnd_();a.adapter_.trapFocus();a.adapter_.notifyOpened()},da.DIALOG_ANIMATION_OPEN_TIME_MS)})},k.prototype.close=function(a){var g=this;void 0===a&&(a="");this.isOpen_&&(this.isOpen_=!1,this.adapter_.notifyClosing(a),this.adapter_.addClass(pa.CLOSING),this.adapter_.removeClass(pa.OPEN),this.adapter_.removeBodyClass(pa.SCROLL_LOCK),
cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout(function(){g.adapter_.releaseFocus();g.handleAnimationTimerEnd_();g.adapter_.notifyClosed(a)},da.DIALOG_ANIMATION_CLOSE_TIME_MS))},k.prototype.isOpen=function(){return this.isOpen_},k.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction_},k.prototype.setEscapeKeyAction=function(a){this.escapeKeyAction_=a},k.prototype.getScrimClickAction=function(){return this.scrimClickAction_},
k.prototype.setScrimClickAction=function(a){this.scrimClickAction_=a},k.prototype.getAutoStackButtons=function(){return this.autoStackButtons_},k.prototype.setAutoStackButtons=function(a){this.autoStackButtons_=a},k.prototype.layout=function(){var a=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_);this.layoutFrame_=requestAnimationFrame(function(){a.layoutInternal_();a.layoutFrame_=0})},k.prototype.handleInteraction=function(a){var g="click"===a.type,G="Enter"===a.key||13===a.keyCode,
V="Space"===a.key||32===a.keyCode,ea=this.adapter_.eventTargetMatches(a.target,ba.SCRIM_SELECTOR),ia=!this.adapter_.eventTargetMatches(a.target,ba.SUPPRESS_DEFAULT_PRESS_SELECTOR);if(g&&ea&&""!==this.scrimClickAction_)this.close(this.scrimClickAction_);else if(g||V||G)(a=this.adapter_.getActionFromEvent(a))?this.close(a):G&&ia&&this.adapter_.clickDefaultButton()},k.prototype.handleDocumentKeydown=function(a){"Escape"!==a.key&&27!==a.keyCode||""===this.escapeKeyAction_||this.close(this.escapeKeyAction_)},
k.prototype.layoutInternal_=function(){this.autoStackButtons_&&this.detectStackedButtons_();this.detectScrollableContent_()},k.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0;this.adapter_.removeClass(pa.OPENING);this.adapter_.removeClass(pa.CLOSING)},k.prototype.runNextAnimationFrame_=function(a){var g=this;cancelAnimationFrame(this.animationFrame_);this.animationFrame_=requestAnimationFrame(function(){g.animationFrame_=0;clearTimeout(g.animationTimer_);g.animationTimer_=setTimeout(a,
0)})},k.prototype.detectStackedButtons_=function(){this.adapter_.removeClass(pa.STACKED);var a=this.adapter_.areButtonsStacked();a&&this.adapter_.addClass(pa.STACKED);a!==this.areButtonsStacked_&&(this.adapter_.reverseButtons(),this.areButtonsStacked_=a)},k.prototype.detectScrollableContent_=function(){this.adapter_.removeClass(pa.SCROLLABLE);this.adapter_.isContentScrollable()&&this.adapter_.addClass(pa.SCROLLABLE)},k}(O),va=d(0),oa=d.n(va),na,v,N=ta.strings,R=function(P){function k(){return null!==
P&&P.apply(this,arguments)||this}return e(k,P),Object.defineProperty(k.prototype,"isOpen",{get:function(){return this.foundation_.isOpen()},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"escapeKeyAction",{get:function(){return this.foundation_.getEscapeKeyAction()},set:function(a){this.foundation_.setEscapeKeyAction(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"scrimClickAction",{get:function(){return this.foundation_.getScrimClickAction()},set:function(a){this.foundation_.setScrimClickAction(a)},
enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"autoStackButtons",{get:function(){return this.foundation_.getAutoStackButtons()},set:function(a){this.foundation_.setAutoStackButtons(a)},enumerable:!0,configurable:!0}),k.attachTo=function(a){return new k(a)},k.prototype.initialize=function(a,g){var G,V=this.root_.querySelector(N.CONTAINER_SELECTOR);if(!V)throw Error("Dialog component requires a "+N.CONTAINER_SELECTOR+" container element");this.container_=V;this.content_=this.root_.querySelector(N.CONTENT_SELECTOR);
this.buttons_=[].slice.call(this.root_.querySelectorAll(N.BUTTON_SELECTOR));this.defaultButton_=this.root_.querySelector(N.DEFAULT_BUTTON_SELECTOR);this.focusTrapFactory_=a;this.initialFocusEl_=g;this.buttonRipples_=[];try{for(var ea=f(this.buttons_),ia=ea.next();!ia.done;ia=ea.next())this.buttonRipples_.push(new L(ia.value))}catch(qa){var sa={error:qa}}finally{try{ia&&!ia.done&&(G=ea.return)&&G.call(ea)}finally{if(sa)throw sa.error;}}},k.prototype.initialSyncWithDOM=function(){var a,g,G,V=this;this.focusTrap_=
(a=this.container_,g=this.focusTrapFactory_,G=this.initialFocusEl_,void 0===g&&(g=oa.a),g(a,{clickOutsideDeactivates:!0,escapeDeactivates:!1,initialFocus:G}));this.handleInteraction_=this.foundation_.handleInteraction.bind(this.foundation_);this.handleDocumentKeydown_=this.foundation_.handleDocumentKeydown.bind(this.foundation_);this.handleLayout_=this.layout.bind(this);var ea=["resize","orientationchange"];this.handleOpening_=function(){ea.forEach(function(ia){return window.addEventListener(ia,V.handleLayout_)});
document.addEventListener("keydown",V.handleDocumentKeydown_)};this.handleClosing_=function(){ea.forEach(function(ia){return window.removeEventListener(ia,V.handleLayout_)});document.removeEventListener("keydown",V.handleDocumentKeydown_)};this.listen("click",this.handleInteraction_);this.listen("keydown",this.handleInteraction_);this.listen(N.OPENING_EVENT,this.handleOpening_);this.listen(N.CLOSING_EVENT,this.handleClosing_)},k.prototype.destroy=function(){this.unlisten("click",this.handleInteraction_);
this.unlisten("keydown",this.handleInteraction_);this.unlisten(N.OPENING_EVENT,this.handleOpening_);this.unlisten(N.CLOSING_EVENT,this.handleClosing_);this.handleClosing_();this.buttonRipples_.forEach(function(a){return a.destroy()});P.prototype.destroy.call(this)},k.prototype.layout=function(){this.foundation_.layout()},k.prototype.open=function(){this.foundation_.open()},k.prototype.close=function(a){void 0===a&&(a="");this.foundation_.close(a)},k.prototype.getDefaultFoundation=function(){var a=
this;return new ta({addBodyClass:function(g){return document.body.classList.add(g)},addClass:function(g){return a.root_.classList.add(g)},areButtonsStacked:function(){return g=a.buttons_,G=new Set,[].forEach.call(g,function(V){return G.add(V.offsetTop)}),1<G.size;var g,G},clickDefaultButton:function(){return a.defaultButton_&&a.defaultButton_.click()},eventTargetMatches:function(g,G){return!!g&&r(g,G)},getActionFromEvent:function(g){return g.target?(g=q(g.target,"["+N.ACTION_ATTRIBUTE+"]"))&&g.getAttribute(N.ACTION_ATTRIBUTE):
""},hasClass:function(g){return a.root_.classList.contains(g)},isContentScrollable:function(){return!!(g=a.content_)&&g.scrollHeight>g.offsetHeight;var g},notifyClosed:function(g){return a.emit(N.CLOSED_EVENT,g?{action:g}:{})},notifyClosing:function(g){return a.emit(N.CLOSING_EVENT,g?{action:g}:{})},notifyOpened:function(){return a.emit(N.OPENED_EVENT,{})},notifyOpening:function(){return a.emit(N.OPENING_EVENT,{})},releaseFocus:function(){return a.focusTrap_.deactivate()},removeBodyClass:function(g){return document.body.classList.remove(g)},
removeClass:function(g){return a.root_.classList.remove(g)},reverseButtons:function(){a.buttons_.reverse();a.buttons_.forEach(function(g){g.parentElement.appendChild(g)})},trapFocus:function(){return a.focusTrap_.activate()}})},k}(x),S={NATIVE_CONTROL_SELECTOR:".v2"},aa={DISABLED:"z2",ROOT:"u2"},ca=function(P){function k(a){return P.call(this,h({},k.defaultAdapter,a))||this}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return aa},enumerable:!0,configurable:!0}),Object.defineProperty(k,
"strings",{get:function(){return S},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),k.prototype.setDisabled=function(a){var g=k.cssClasses.DISABLED;this.adapter_.setNativeControlDisabled(a);a?this.adapter_.addClass(g):this.adapter_.removeClass(g)},k}(O),ka=function(P){function k(){var a=null!==P&&P.apply(this,arguments)||this;return a.ripple_=
a.createRipple_(),a}return e(k,P),k.attachTo=function(a){return new k(a)},Object.defineProperty(k.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(a){this.nativeControl_.checked=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"value",{get:function(){return this.nativeControl_.value},
set:function(a){this.nativeControl_.value=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),k.prototype.destroy=function(){this.ripple_.destroy();P.prototype.destroy.call(this)},k.prototype.getDefaultFoundation=function(){var a=this;return new ca({addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},setNativeControlDisabled:function(g){return a.nativeControl_.disabled=
g}})},k.prototype.createRipple_=function(){var a=this,g=h({},L.createAdapter(this),{registerInteractionHandler:function(G,V){return a.nativeControl_.addEventListener(G,V)},deregisterInteractionHandler:function(G,V){return a.nativeControl_.removeEventListener(G,V)},isSurfaceActive:function(){return!1},isUnbounded:function(){return!0}});return new L(this.root_,new M(g))},Object.defineProperty(k.prototype,"nativeControl_",{get:function(){var a=ca.strings.NATIVE_CONTROL_SELECTOR,g=this.root_.querySelector(a);
if(!g)throw Error("Radio component requires a "+a+" element");return g},enumerable:!0,configurable:!0}),k}(x),fa={LABEL_FLOAT_ABOVE:"i3",LABEL_SHAKE:"m3",ROOT:"h3"},ua=function(P){function k(a){var g=P.call(this,h({},k.defaultAdapter,a))||this;return g.shakeAnimationEndHandler_=function(){return g.handleShakeAnimationEnd_()},g}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return fa},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},
removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),k.prototype.init=function(){this.adapter_.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},k.prototype.destroy=function(){this.adapter_.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},k.prototype.getWidth=function(){return this.adapter_.getWidth()},k.prototype.shake=function(a){var g=
k.cssClasses.LABEL_SHAKE;a?this.adapter_.addClass(g):this.adapter_.removeClass(g)},k.prototype.float=function(a){var g=k.cssClasses,G=g.LABEL_FLOAT_ABOVE;g=g.LABEL_SHAKE;a?this.adapter_.addClass(G):(this.adapter_.removeClass(G),this.adapter_.removeClass(g))},k.prototype.handleShakeAnimationEnd_=function(){this.adapter_.removeClass(k.cssClasses.LABEL_SHAKE)},k}(O),ja=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},k.prototype.shake=
function(a){this.foundation_.shake(a)},k.prototype.float=function(a){this.foundation_.float(a)},k.prototype.getWidth=function(){return this.foundation_.getWidth()},k.prototype.getDefaultFoundation=function(){var a=this;return new ua({addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},getWidth:function(){return a.root_.scrollWidth},registerInteractionHandler:function(g,G){return a.listen(g,G)},deregisterInteractionHandler:function(g,G){return a.unlisten(g,
G)}})},k}(x),ra={LINE_RIPPLE_ACTIVE:"a3",LINE_RIPPLE_DEACTIVATING:"b3"},ya=function(P){function k(a){var g=P.call(this,h({},k.defaultAdapter,a))||this;return g.transitionEndHandler_=function(G){return g.handleTransitionEnd(G)},g}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return ra},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},
registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!0,configurable:!0}),k.prototype.init=function(){this.adapter_.registerEventHandler("transitionend",this.transitionEndHandler_)},k.prototype.destroy=function(){this.adapter_.deregisterEventHandler("transitionend",this.transitionEndHandler_)},k.prototype.activate=function(){this.adapter_.removeClass(ra.LINE_RIPPLE_DEACTIVATING);this.adapter_.addClass(ra.LINE_RIPPLE_ACTIVE)},k.prototype.setRippleCenter=function(a){this.adapter_.setStyle("transform-origin",
a+"px center")},k.prototype.deactivate=function(){this.adapter_.addClass(ra.LINE_RIPPLE_DEACTIVATING)},k.prototype.handleTransitionEnd=function(a){var g=this.adapter_.hasClass(ra.LINE_RIPPLE_DEACTIVATING);"opacity"===a.propertyName&&g&&(this.adapter_.removeClass(ra.LINE_RIPPLE_ACTIVE),this.adapter_.removeClass(ra.LINE_RIPPLE_DEACTIVATING))},k}(O),Ea=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},k.prototype.activate=function(){this.foundation_.activate()},
k.prototype.deactivate=function(){this.foundation_.deactivate()},k.prototype.setRippleCenter=function(a){this.foundation_.setRippleCenter(a)},k.prototype.getDefaultFoundation=function(){var a=this;return new ya({addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},hasClass:function(g){return a.root_.classList.contains(g)},setStyle:function(g,G){return a.root_.style.setProperty(g,G)},registerEventHandler:function(g,G){return a.listen(g,G)},
deregisterEventHandler:function(g,G){return a.unlisten(g,G)}})},k}(x),za={ANCHOR:"k1",ANIMATING_CLOSED:"j1",ANIMATING_OPEN:"i1",FIXED:"l1",OPEN:"h1",ROOT:"g1"},Fa={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:'button:not(:disabled), [href]:not([aria-disabled="true"]), input:not(:disabled), select:not(:disabled), textarea:not(:disabled), [tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'},Ga={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,
MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};!function(P){P[P.BOTTOM=1]="BOTTOM";P[P.CENTER=2]="CENTER";P[P.RIGHT=4]="RIGHT";P[P.FLIP_RTL=8]="FLIP_RTL"}(na||(na={}));(function(P){P[P.TOP_LEFT=0]="TOP_LEFT";P[P.TOP_RIGHT=4]="TOP_RIGHT";P[P.BOTTOM_LEFT=1]="BOTTOM_LEFT";P[P.BOTTOM_RIGHT=5]="BOTTOM_RIGHT";P[P.TOP_START=8]="TOP_START";P[P.TOP_END=12]="TOP_END";P[P.BOTTOM_START=9]="BOTTOM_START";P[P.BOTTOM_END=13]="BOTTOM_END"})(v||(v={}));var Ca={LIST_ITEM_ACTIVATED_CLASS:"i5",LIST_ITEM_CLASS:"a1",
LIST_ITEM_DISABLED_CLASS:"ye",LIST_ITEM_SELECTED_CLASS:"b4",ROOT:"z0"},Aa={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"]:not(:disabled), input[type="radio"]:not(:disabled)',
CHECKBOX_SELECTOR:'input[type="checkbox"]:not(:disabled)',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+Ca.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Ca.LIST_ITEM_CLASS+" a\n  ",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+Ca.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Ca.LIST_ITEM_CLASS+" a,\n    ."+Ca.LIST_ITEM_CLASS+' input[type="radio"]:not(:disabled),\n    .'+Ca.LIST_ITEM_CLASS+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]:not(:disabled)'},Ha={UNSET_INDEX:-1},
ub=["input","button","textarea","select"],Ya,Xa=function(P){function k(a){a=P.call(this,h({},k.defaultAdapter,a))||this;return a.wrapFocus_=!1,a.isVertical_=!0,a.isSingleSelectionList_=!1,a.selectedIndex_=Ha.UNSET_INDEX,a.focusedItemIndex_=Ha.UNSET_INDEX,a.useActivatedClass_=!1,a.ariaCurrentAttrValue_=null,a.isCheckboxList_=!1,a.isRadioList_=!1,a}return e(k,P),Object.defineProperty(k,"strings",{get:function(){return Aa},enumerable:!0,configurable:!0}),Object.defineProperty(k,"cssClasses",{get:function(){return Ca},
enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return Ha},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},
isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){}}},enumerable:!0,configurable:!0}),k.prototype.layout=function(){0!==this.adapter_.getListItemCount()&&(this.adapter_.hasCheckboxAtIndex(0)?this.isCheckboxList_=!0:this.adapter_.hasRadioAtIndex(0)&&(this.isRadioList_=!0))},k.prototype.setWrapFocus=
function(a){this.wrapFocus_=a},k.prototype.setVerticalOrientation=function(a){this.isVertical_=a},k.prototype.setSingleSelection=function(a){this.isSingleSelectionList_=a},k.prototype.setUseActivatedClass=function(a){this.useActivatedClass_=a},k.prototype.getSelectedIndex=function(){return this.selectedIndex_},k.prototype.setSelectedIndex=function(a){this.isIndexValid_(a)&&(this.isCheckboxList_?this.setCheckboxAtIndex_(a):this.isRadioList_?this.setRadioAtIndex_(a):this.setSingleSelectionAtIndex_(a))},
k.prototype.handleFocusIn=function(a,g){0<=g&&this.adapter_.setTabIndexForListItemChildren(g,"0")},k.prototype.handleFocusOut=function(a,g){var G=this;0<=g&&this.adapter_.setTabIndexForListItemChildren(g,"-1");setTimeout(function(){G.adapter_.isFocusInsideList()||G.setTabindexToFirstSelectedItem_()},0)},k.prototype.handleKeydown=function(a,g,G){var V="ArrowLeft"===a.key||37===a.keyCode,ea="ArrowUp"===a.key||38===a.keyCode,ia="ArrowRight"===a.key||39===a.keyCode,sa="ArrowDown"===a.key||40===a.keyCode,
qa="Home"===a.key||36===a.keyCode,xa="End"===a.key||35===a.keyCode,Ia="Enter"===a.key||13===a.keyCode,Oa="Space"===a.key||32===a.keyCode;if(this.adapter_.isRootFocused())ea||xa?(a.preventDefault(),this.focusLastElement()):(sa||qa)&&(a.preventDefault(),this.focusFirstElement());else{var Ma=this.adapter_.getFocusedElementIndex();if(!(-1===Ma&&0>(Ma=G))){if(this.isVertical_&&sa||!this.isVertical_&&ia){this.preventDefaultEvent_(a);var Pa=this.focusNextElement(Ma)}else if(this.isVertical_&&ea||!this.isVertical_&&
V)this.preventDefaultEvent_(a),Pa=this.focusPrevElement(Ma);else if(qa)this.preventDefaultEvent_(a),Pa=this.focusFirstElement();else if(xa)this.preventDefaultEvent_(a),Pa=this.focusLastElement();else if((Ia||Oa)&&g){if((g=a.target)&&"A"===g.tagName&&Ia)return;this.preventDefaultEvent_(a);this.isSelectableList_()&&this.setSelectedIndexOnAction_(Ma);this.adapter_.notifyAction(Ma)}this.focusedItemIndex_=Ma;void 0!==Pa&&(this.setTabindexAtIndex_(Pa),this.focusedItemIndex_=Pa)}}},k.prototype.handleClick=
function(a,g){a!==Ha.UNSET_INDEX&&(this.isSelectableList_()&&this.setSelectedIndexOnAction_(a,g),this.adapter_.notifyAction(a),this.setTabindexAtIndex_(a),this.focusedItemIndex_=a)},k.prototype.focusNextElement=function(a){var g=a+1;if(g>=this.adapter_.getListItemCount()){if(!this.wrapFocus_)return a;g=0}return this.adapter_.focusItemAtIndex(g),g},k.prototype.focusPrevElement=function(a){var g=a-1;if(0>g){if(!this.wrapFocus_)return a;g=this.adapter_.getListItemCount()-1}return this.adapter_.focusItemAtIndex(g),
g},k.prototype.focusFirstElement=function(){return this.adapter_.focusItemAtIndex(0),0},k.prototype.focusLastElement=function(){var a=this.adapter_.getListItemCount()-1;return this.adapter_.focusItemAtIndex(a),a},k.prototype.preventDefaultEvent_=function(a){var g=(""+a.target.tagName).toLowerCase();-1===ub.indexOf(g)&&a.preventDefault()},k.prototype.setSingleSelectionAtIndex_=function(a){if(this.selectedIndex_!==a){var g=Ca.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass_&&(g=Ca.LIST_ITEM_ACTIVATED_CLASS);
this.selectedIndex_!==Ha.UNSET_INDEX&&this.adapter_.removeClassForElementIndex(this.selectedIndex_,g);this.adapter_.addClassForElementIndex(a,g);this.setAriaForSingleSelectionAtIndex_(a);this.selectedIndex_=a}},k.prototype.setAriaForSingleSelectionAtIndex_=function(a){this.selectedIndex_===Ha.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter_.getAttributeForElementIndex(a,Aa.ARIA_CURRENT));var g=null!==this.ariaCurrentAttrValue_,G=g?Aa.ARIA_CURRENT:Aa.ARIA_SELECTED;this.selectedIndex_!==Ha.UNSET_INDEX&&
this.adapter_.setAttributeForElementIndex(this.selectedIndex_,G,"false");this.adapter_.setAttributeForElementIndex(a,G,g?this.ariaCurrentAttrValue_:"true")},k.prototype.setRadioAtIndex_=function(a){this.adapter_.setCheckedCheckboxOrRadioAtIndex(a,!0);this.selectedIndex_!==Ha.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,Aa.ARIA_CHECKED,"false");this.adapter_.setAttributeForElementIndex(a,Aa.ARIA_CHECKED,"true");this.selectedIndex_=a},k.prototype.setCheckboxAtIndex_=function(a){for(var g=
0;g<this.adapter_.getListItemCount();g++){var G=!1;0<=a.indexOf(g)&&(G=!0);this.adapter_.setCheckedCheckboxOrRadioAtIndex(g,G);this.adapter_.setAttributeForElementIndex(g,Aa.ARIA_CHECKED,G?"true":"false")}this.selectedIndex_=a},k.prototype.setTabindexAtIndex_=function(a){this.focusedItemIndex_===Ha.UNSET_INDEX&&0!==a?this.adapter_.setAttributeForElementIndex(0,"tabindex","-1"):0<=this.focusedItemIndex_&&this.focusedItemIndex_!==a&&this.adapter_.setAttributeForElementIndex(this.focusedItemIndex_,"tabindex",
"-1");this.adapter_.setAttributeForElementIndex(a,"tabindex","0")},k.prototype.isSelectableList_=function(){return this.isSingleSelectionList_||this.isCheckboxList_||this.isRadioList_},k.prototype.setTabindexToFirstSelectedItem_=function(){var a=0;this.isSelectableList_()&&("number"==typeof this.selectedIndex_&&this.selectedIndex_!==Ha.UNSET_INDEX?a=this.selectedIndex_:this.selectedIndex_ instanceof Array&&0<this.selectedIndex_.length&&(a=this.selectedIndex_.reduce(function(g,G){return Math.min(g,
G)})));this.setTabindexAtIndex_(a)},k.prototype.isIndexValid_=function(a){var g=this;if(a instanceof Array){if(!this.isCheckboxList_)throw Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===a.length||a.some(function(G){return g.isIndexInRange_(G)})}if("number"==typeof a){if(this.isCheckboxList_)throw Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+a);return this.isIndexInRange_(a)}return!1},k.prototype.isIndexInRange_=
function(a){var g=this.adapter_.getListItemCount();return 0<=a&&a<g},k.prototype.setSelectedIndexOnAction_=function(a,g){void 0===g&&(g=!0);this.isCheckboxList_?this.toggleCheckboxAtIndex_(a,g):this.setSelectedIndex(a)},k.prototype.toggleCheckboxAtIndex_=function(a,g){var G=this.adapter_.isCheckboxCheckedAtIndex(a);g&&(G=!G,this.adapter_.setCheckedCheckboxOrRadioAtIndex(a,G));this.adapter_.setAttributeForElementIndex(a,Aa.ARIA_CHECKED,G?"true":"false");g=this.selectedIndex_===Ha.UNSET_INDEX?[]:this.selectedIndex_.slice();
G?g.push(a):g=g.filter(function(V){return V!==a});this.selectedIndex_=g},k}(O),vb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),Object.defineProperty(k.prototype,"vertical",{set:function(a){this.foundation_.setVerticalOrientation(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"listElements",{get:function(){return[].slice.call(this.root_.querySelectorAll("."+Ca.LIST_ITEM_CLASS))},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,
"wrapFocus",{set:function(a){this.foundation_.setWrapFocus(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"singleSelection",{set:function(a){this.foundation_.setSingleSelection(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"selectedIndex",{get:function(){return this.foundation_.getSelectedIndex()},set:function(a){this.foundation_.setSelectedIndex(a)},enumerable:!0,configurable:!0}),k.attachTo=function(a){return new k(a)},k.prototype.initialSyncWithDOM=
function(){this.handleClick_=this.handleClickEvent_.bind(this);this.handleKeydown_=this.handleKeydownEvent_.bind(this);this.focusInEventListener_=this.handleFocusInEvent_.bind(this);this.focusOutEventListener_=this.handleFocusOutEvent_.bind(this);this.listen("keydown",this.handleKeydown_);this.listen("click",this.handleClick_);this.listen("focusin",this.focusInEventListener_);this.listen("focusout",this.focusOutEventListener_);this.layout();this.initializeListType()},k.prototype.destroy=function(){this.unlisten("keydown",
this.handleKeydown_);this.unlisten("click",this.handleClick_);this.unlisten("focusin",this.focusInEventListener_);this.unlisten("focusout",this.focusOutEventListener_)},k.prototype.layout=function(){this.vertical=this.root_.getAttribute(Aa.ARIA_ORIENTATION)!==Aa.ARIA_ORIENTATION_HORIZONTAL;[].slice.call(this.root_.querySelectorAll(".a1:not([tabindex])")).forEach(function(a){a.setAttribute("tabindex","-1")});[].slice.call(this.root_.querySelectorAll(Aa.FOCUSABLE_CHILD_ELEMENTS)).forEach(function(a){return a.setAttribute("tabindex",
"-1")});this.foundation_.layout()},k.prototype.initializeListType=function(){var a=this,g=this.root_.querySelectorAll(Aa.ARIA_ROLE_CHECKBOX_SELECTOR),G=this.root_.querySelector("\n      ."+Ca.LIST_ITEM_ACTIVATED_CLASS+",\n      ."+Ca.LIST_ITEM_SELECTED_CLASS+"\n    "),V=this.root_.querySelector(Aa.ARIA_CHECKED_RADIO_SELECTOR);g.length?(g=this.root_.querySelectorAll(Aa.ARIA_CHECKED_CHECKBOX_SELECTOR),this.selectedIndex=[].map.call(g,function(ea){return a.listElements.indexOf(ea)})):G?(G.classList.contains(Ca.LIST_ITEM_ACTIVATED_CLASS)&&
this.foundation_.setUseActivatedClass(!0),this.singleSelection=!0,this.selectedIndex=this.listElements.indexOf(G)):V&&(this.selectedIndex=this.listElements.indexOf(V))},k.prototype.getDefaultFoundation=function(){var a=this;return new Xa({addClassForElementIndex:function(g,G){(g=a.listElements[g])&&g.classList.add(G)},focusItemAtIndex:function(g){(g=a.listElements[g])&&g.focus()},getAttributeForElementIndex:function(g,G){return a.listElements[g].getAttribute(G)},getFocusedElementIndex:function(){return a.listElements.indexOf(document.activeElement)},
getListItemCount:function(){return a.listElements.length},hasCheckboxAtIndex:function(g){return!!a.listElements[g].querySelector(Aa.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(g){return!!a.listElements[g].querySelector(Aa.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(g){return a.listElements[g].querySelector(Aa.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return a.root_.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===a.root_},notifyAction:function(g){a.emit(Aa.ACTION_EVENT,
{index:g},!0)},removeClassForElementIndex:function(g,G){(g=a.listElements[g])&&g.classList.remove(G)},setAttributeForElementIndex:function(g,G,V){(g=a.listElements[g])&&g.setAttribute(G,V)},setCheckedCheckboxOrRadioAtIndex:function(g,G){g=a.listElements[g].querySelector(Aa.CHECKBOX_RADIO_SELECTOR);g.checked=G;G=document.createEvent("Event");G.initEvent("change",!0,!0);g.dispatchEvent(G)},setTabIndexForListItemChildren:function(g,G){[].slice.call(a.listElements[g].querySelectorAll(Aa.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX)).forEach(function(V){return V.setAttribute("tabindex",
G)})}})},k.prototype.getListItemIndex_=function(a){return(a=q(a.target,"."+Ca.LIST_ITEM_CLASS+", ."+Ca.ROOT))&&r(a,"."+Ca.LIST_ITEM_CLASS)?this.listElements.indexOf(a):-1},k.prototype.handleFocusInEvent_=function(a){var g=this.getListItemIndex_(a);this.foundation_.handleFocusIn(a,g)},k.prototype.handleFocusOutEvent_=function(a){var g=this.getListItemIndex_(a);this.foundation_.handleFocusOut(a,g)},k.prototype.handleKeydownEvent_=function(a){var g=this.getListItemIndex_(a);this.foundation_.handleKeydown(a,
a.target.classList.contains(Ca.LIST_ITEM_CLASS),g)},k.prototype.handleClickEvent_=function(a){var g=this.getListItemIndex_(a);a=!r(a.target,Aa.CHECKBOX_RADIO_SELECTOR);this.foundation_.handleClick(g,a)},k}(x),Qa=function(P){function k(a){a=P.call(this,h({},k.defaultAdapter,a))||this;return a.isOpen_=!1,a.isQuickOpen_=!1,a.isHoistedElement_=!1,a.isFixedPosition_=!1,a.openAnimationEndTimerId_=0,a.closeAnimationEndTimerId_=0,a.animationRequestId_=0,a.anchorCorner_=v.TOP_START,a.anchorMargin_={top:0,
right:0,bottom:0,left:0},a.position_={x:0,y:0},a}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return za},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return Fa},enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return Ga},enumerable:!0,configurable:!0}),Object.defineProperty(k,"Corner",{get:function(){return v},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},
removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isFirstElementFocused:function(){return!1},isLastElementFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,
y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},focusFirstElement:function(){},focusLastElement:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),k.prototype.init=function(){var a=k.cssClasses,g=a.ROOT;a=a.OPEN;if(!this.adapter_.hasClass(g))throw Error(g+" class required in root element.");this.adapter_.hasClass(a)&&(this.isOpen_=!0)},k.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId_);
clearTimeout(this.closeAnimationEndTimerId_);cancelAnimationFrame(this.animationRequestId_)},k.prototype.setAnchorCorner=function(a){this.anchorCorner_=a},k.prototype.setAnchorMargin=function(a){this.anchorMargin_.top=a.top||0;this.anchorMargin_.right=a.right||0;this.anchorMargin_.bottom=a.bottom||0;this.anchorMargin_.left=a.left||0},k.prototype.setIsHoisted=function(a){this.isHoistedElement_=a},k.prototype.setFixedPosition=function(a){this.isFixedPosition_=a},k.prototype.setAbsolutePosition=function(a,
g){this.position_.x=this.isFinite_(a)?a:0;this.position_.y=this.isFinite_(g)?g:0},k.prototype.setQuickOpen=function(a){this.isQuickOpen_=a},k.prototype.isOpen=function(){return this.isOpen_},k.prototype.open=function(){var a=this;this.adapter_.saveFocus();this.isQuickOpen_||this.adapter_.addClass(k.cssClasses.ANIMATING_OPEN);this.animationRequestId_=requestAnimationFrame(function(){a.adapter_.addClass(k.cssClasses.OPEN);a.dimensions_=a.adapter_.getInnerDimensions();a.autoPosition_();a.isQuickOpen_?
a.adapter_.notifyOpen():a.openAnimationEndTimerId_=setTimeout(function(){a.openAnimationEndTimerId_=0;a.adapter_.removeClass(k.cssClasses.ANIMATING_OPEN);a.adapter_.notifyOpen()},Ga.TRANSITION_OPEN_DURATION)});this.isOpen_=!0},k.prototype.close=function(){var a=this;this.isQuickOpen_||this.adapter_.addClass(k.cssClasses.ANIMATING_CLOSED);requestAnimationFrame(function(){a.adapter_.removeClass(k.cssClasses.OPEN);a.isQuickOpen_?a.adapter_.notifyClose():a.closeAnimationEndTimerId_=setTimeout(function(){a.closeAnimationEndTimerId_=
0;a.adapter_.removeClass(k.cssClasses.ANIMATING_CLOSED);a.adapter_.notifyClose()},Ga.TRANSITION_CLOSE_DURATION)});this.isOpen_=!1;this.maybeRestoreFocus_()},k.prototype.handleBodyClick=function(a){this.adapter_.isElementInContainer(a.target)||this.close()},k.prototype.handleKeydown=function(a){var g=a.keyCode,G=a.key,V=a.shiftKey,ea="Tab"===G||9===g;"Escape"===G||27===g?this.close():ea&&(this.adapter_.isLastElementFocused()&&!V?(this.adapter_.focusFirstElement(),a.preventDefault()):this.adapter_.isFirstElementFocused()&&
V&&(this.adapter_.focusLastElement(),a.preventDefault()))},k.prototype.autoPosition_=function(){var a;this.measurements_=this.getAutoLayoutMeasurements_();var g=this.getOriginCorner_(),G=this.getMenuSurfaceMaxHeight_(g),V=this.hasBit_(g,na.BOTTOM)?"bottom":"top",ea=this.hasBit_(g,na.RIGHT)?"right":"left",ia=this.getHorizontalOriginOffset_(g),sa=this.getVerticalOriginOffset_(g),qa=this.measurements_;g=qa.anchorSize;qa=qa.surfaceSize;ia=((a={})[ea]=ia,a[V]=sa,a);g.width/qa.width>Ga.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&
(ea="center");(this.isHoistedElement_||this.isFixedPosition_)&&this.adjustPositionForHoistedElement_(ia);this.adapter_.setTransformOrigin(ea+" "+V);this.adapter_.setPosition(ia);this.adapter_.setMaxHeight(G?G+"px":"")},k.prototype.getAutoLayoutMeasurements_=function(){var a=this.adapter_.getAnchorDimensions(),g=this.adapter_.getBodyDimensions(),G=this.adapter_.getWindowDimensions(),V=this.adapter_.getWindowScroll();return a||(a={top:this.position_.y,right:this.position_.x,bottom:this.position_.y,
left:this.position_.x,width:0,height:0}),{anchorSize:a,bodySize:g,surfaceSize:this.dimensions_,viewportDistance:{top:a.top,right:G.width-a.right,bottom:G.height-a.bottom,left:a.left},viewportSize:G,windowScroll:V}},k.prototype.getOriginCorner_=function(){var a=v.TOP_LEFT,g=this.measurements_,G=g.viewportDistance,V=g.anchorSize;g=g.surfaceSize;var ea=this.hasBit_(this.anchorCorner_,na.BOTTOM),ia=g.height-(ea?G.top+V.height+this.anchorMargin_.bottom:G.top+this.anchorMargin_.top);ea=g.height-(ea?G.bottom-
this.anchorMargin_.bottom:G.bottom+V.height-this.anchorMargin_.top);0<ea&&ia<ea&&(a=this.setBit_(a,na.BOTTOM));ia=this.adapter_.isRtl();var sa=this.hasBit_(this.anchorCorner_,na.FLIP_RTL);sa=(ea=this.hasBit_(this.anchorCorner_,na.RIGHT))&&!ia||!ea&&sa&&ia;var qa=g.width-(sa?G.left+V.width+this.anchorMargin_.right:G.left+this.anchorMargin_.left);G=g.width-(sa?G.right-this.anchorMargin_.right:G.right+V.width-this.anchorMargin_.left);return(0>qa&&sa&&ia||ea&&!sa&&0>qa||0<G&&qa<G)&&(a=this.setBit_(a,
na.RIGHT)),a},k.prototype.getMenuSurfaceMaxHeight_=function(a){var g=this.measurements_.viewportDistance,G=0;a=this.hasBit_(a,na.BOTTOM);var V=this.hasBit_(this.anchorCorner_,na.BOTTOM),ea=k.numbers.MARGIN_TO_EDGE;return a?(G=g.top+this.anchorMargin_.top-ea,V||(G+=this.measurements_.anchorSize.height)):(G=g.bottom-this.anchorMargin_.bottom+this.measurements_.anchorSize.height-ea,V&&(G-=this.measurements_.anchorSize.height)),G},k.prototype.getHorizontalOriginOffset_=function(a){var g=this.measurements_.anchorSize;
a=this.hasBit_(a,na.RIGHT);var G=this.hasBit_(this.anchorCorner_,na.RIGHT);return a?(g=G?g.width-this.anchorMargin_.left:this.anchorMargin_.right,this.isHoistedElement_||this.isFixedPosition_?g-(this.measurements_.viewportSize.width-this.measurements_.bodySize.width):g):G?g.width-this.anchorMargin_.right:this.anchorMargin_.left},k.prototype.getVerticalOriginOffset_=function(a){var g=this.measurements_.anchorSize;a=this.hasBit_(a,na.BOTTOM);var G=this.hasBit_(this.anchorCorner_,na.BOTTOM);return a?
G?g.height-this.anchorMargin_.top:-this.anchorMargin_.bottom:G?g.height+this.anchorMargin_.bottom:this.anchorMargin_.top},k.prototype.adjustPositionForHoistedElement_=function(a){var g,G=this.measurements_,V=G.windowScroll;G=G.viewportDistance;var ea=Object.keys(a);try{for(var ia=f(ea),sa=ia.next();!sa.done;sa=ia.next()){var qa=sa.value,xa=a[qa]||0;xa+=G[qa];this.isFixedPosition_||("top"===qa?xa+=V.y:"bottom"===qa?xa-=V.y:"left"===qa?xa+=V.x:xa-=V.x);a[qa]=xa}}catch(Oa){var Ia={error:Oa}}finally{try{sa&&
!sa.done&&(g=ia.return)&&g.call(ia)}finally{if(Ia)throw Ia.error;}}},k.prototype.maybeRestoreFocus_=function(){var a=this.adapter_.isFocused(),g=document.activeElement&&this.adapter_.isElementInContainer(document.activeElement);(a||g)&&this.adapter_.restoreFocus()},k.prototype.hasBit_=function(a,g){return!!(a&g)},k.prototype.setBit_=function(a,g){return a|g},k.prototype.isFinite_=function(a){return"number"==typeof a&&isFinite(a)},k}(O),Ra,wb=function(P){function k(){return null!==P&&P.apply(this,
arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},k.prototype.initialSyncWithDOM=function(){var a=this,g=this.root_.parentElement;this.anchorElement=g&&g.classList.contains(za.ANCHOR)?g:null;this.root_.classList.contains(za.FIXED)&&this.setFixedPosition(!0);this.handleKeydown_=function(G){return a.foundation_.handleKeydown(G)};this.handleBodyClick_=function(G){return a.foundation_.handleBodyClick(G)};this.registerBodyClickListener_=function(){return document.body.addEventListener("click",
a.handleBodyClick_)};this.deregisterBodyClickListener_=function(){return document.body.removeEventListener("click",a.handleBodyClick_)};this.listen("keydown",this.handleKeydown_);this.listen(Fa.OPENED_EVENT,this.registerBodyClickListener_);this.listen(Fa.CLOSED_EVENT,this.deregisterBodyClickListener_)},k.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_);this.unlisten(Fa.OPENED_EVENT,this.registerBodyClickListener_);this.unlisten(Fa.CLOSED_EVENT,this.deregisterBodyClickListener_);
P.prototype.destroy.call(this)},Object.defineProperty(k.prototype,"open",{get:function(){return this.foundation_.isOpen()},set:function(a){a?(a=this.root_.querySelectorAll(Fa.FOCUSABLE_ELEMENTS),this.firstFocusableElement_=a[0],this.lastFocusableElement_=a[a.length-1],this.foundation_.open()):this.foundation_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"quickOpen",{set:function(a){this.foundation_.setQuickOpen(a)},enumerable:!0,configurable:!0}),k.prototype.hoistMenuToBody=
function(){document.body.appendChild(this.root_);this.setIsHoisted(!0)},k.prototype.setIsHoisted=function(a){this.foundation_.setIsHoisted(a)},k.prototype.setMenuSurfaceAnchorElement=function(a){this.anchorElement=a},k.prototype.setFixedPosition=function(a){a?this.root_.classList.add(za.FIXED):this.root_.classList.remove(za.FIXED);this.foundation_.setFixedPosition(a)},k.prototype.setAbsolutePosition=function(a,g){this.foundation_.setAbsolutePosition(a,g);this.setIsHoisted(!0)},k.prototype.setAnchorCorner=
function(a){this.foundation_.setAnchorCorner(a)},k.prototype.setAnchorMargin=function(a){this.foundation_.setAnchorMargin(a)},k.prototype.getDefaultFoundation=function(){var a=this;return new Qa({addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},hasClass:function(g){return a.root_.classList.contains(g)},hasAnchor:function(){return!!a.anchorElement},notifyClose:function(){return a.emit(Qa.strings.CLOSED_EVENT,{})},notifyOpen:function(){return a.emit(Qa.strings.OPENED_EVENT,
{})},isElementInContainer:function(g){return a.root_.contains(g)},isRtl:function(){return"rtl"===getComputedStyle(a.root_).getPropertyValue("direction")},setTransformOrigin:function(g){var G=void 0;if(void 0===G&&(G=!1),void 0===Ya||G)Ya="transform"in window.document.createElement("div").style?"transform":"webkitTransform";a.root_.style.setProperty(Ya+"-origin",g)},isFocused:function(){return document.activeElement===a.root_},saveFocus:function(){a.previousFocus_=document.activeElement},restoreFocus:function(){a.root_.contains(document.activeElement)&&
a.previousFocus_&&a.previousFocus_.focus&&a.previousFocus_.focus()},isFirstElementFocused:function(){return!!a.firstFocusableElement_&&a.firstFocusableElement_===document.activeElement},isLastElementFocused:function(){return!!a.lastFocusableElement_&&a.lastFocusableElement_===document.activeElement},focusFirstElement:function(){return a.firstFocusableElement_&&a.firstFocusableElement_.focus&&a.firstFocusableElement_.focus()},focusLastElement:function(){return a.lastFocusableElement_&&a.lastFocusableElement_.focus&&
a.lastFocusableElement_.focus()},getInnerDimensions:function(){return{width:a.root_.offsetWidth,height:a.root_.offsetHeight}},getAnchorDimensions:function(){return a.anchorElement?a.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(g){a.root_.style.left=
"left"in g?g.left+"px":"";a.root_.style.right="right"in g?g.right+"px":"";a.root_.style.top="top"in g?g.top+"px":"";a.root_.style.bottom="bottom"in g?g.bottom+"px":""},setMaxHeight:function(g){a.root_.style.maxHeight=g}})},k}(x),Sa={MENU_SELECTED_LIST_ITEM:"f1",MENU_SELECTION_GROUP:"c1",ROOT:"w0"},Ka={ARIA_SELECTED_ATTR:"aria-selected",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".z0",SELECTED_EVENT:"MDCMenu:selected"},xb={FOCUS_ROOT_INDEX:-1};!function(P){P[P.NONE=0]="NONE";P[P.LIST_ROOT=
1]="LIST_ROOT";P[P.FIRST_ITEM=2]="FIRST_ITEM";P[P.LAST_ITEM=3]="LAST_ITEM"}(Ra||(Ra={}));var yb=function(P){function k(a){a=P.call(this,h({},k.defaultAdapter,a))||this;return a.closeAnimationEndTimerId_=0,a.defaultFocusState_=Ra.LIST_ROOT,a}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return Sa},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return Ka},enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return xb},
enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},getParentElement:function(){return null},getSelectedElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},
focusItemAtIndex:function(){},focusListRoot:function(){}}},enumerable:!0,configurable:!0}),k.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_);this.adapter_.closeSurface()},k.prototype.handleKeydown=function(a){var g=a.keyCode;"Tab"!==a.key&&9!==g||this.adapter_.closeSurface()},k.prototype.handleItemAction=function(a){var g=this,G=this.adapter_.getElementIndex(a);0>G||(this.adapter_.notifySelected({index:G}),this.adapter_.closeSurface(),this.closeAnimationEndTimerId_=
setTimeout(function(){var V=g.getSelectionGroup_(a);V&&g.handleSelectionGroup_(V,G)},Qa.numbers.TRANSITION_CLOSE_DURATION))},k.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case Ra.FIRST_ITEM:this.adapter_.focusItemAtIndex(0);break;case Ra.LAST_ITEM:this.adapter_.focusItemAtIndex(this.adapter_.getMenuItemCount()-1);break;case Ra.NONE:break;default:this.adapter_.focusListRoot()}},k.prototype.setDefaultFocusState=function(a){this.defaultFocusState_=a},k.prototype.handleSelectionGroup_=
function(a,g){a=this.adapter_.getSelectedElementIndex(a);0<=a&&(this.adapter_.removeAttributeFromElementAtIndex(a,Ka.ARIA_SELECTED_ATTR),this.adapter_.removeClassFromElementAtIndex(a,Sa.MENU_SELECTED_LIST_ITEM));this.adapter_.addClassToElementAtIndex(g,Sa.MENU_SELECTED_LIST_ITEM);this.adapter_.addAttributeToElementAtIndex(g,Ka.ARIA_SELECTED_ATTR,"true")},k.prototype.getSelectionGroup_=function(a){a=this.adapter_.getParentElement(a);if(!a)return null;for(var g=this.adapter_.elementContainsClass(a,
Sa.MENU_SELECTION_GROUP);!g&&a&&!this.adapter_.elementContainsClass(a,Xa.cssClasses.ROOT);)g=!!(a=this.adapter_.getParentElement(a))&&this.adapter_.elementContainsClass(a,Sa.MENU_SELECTION_GROUP);return g?a:null},k}(O),bb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},k.prototype.initialize=function(a,g){void 0===a&&(a=function(G){return new wb(G)});void 0===g&&(g=function(G){return new vb(G)});this.menuSurfaceFactory_=
a;this.listFactory_=g},k.prototype.initialSyncWithDOM=function(){var a=this;this.menuSurface_=this.menuSurfaceFactory_(this.root_);var g=this.root_.querySelector(Ka.LIST_SELECTOR);g?(this.list_=this.listFactory_(g),this.list_.wrapFocus=!0):this.list_=null;this.handleKeydown_=function(G){return a.foundation_.handleKeydown(G)};this.handleItemAction_=function(G){return a.foundation_.handleItemAction(a.items[G.detail.index])};this.handleMenuSurfaceOpened_=function(){return a.foundation_.handleMenuSurfaceOpened()};
this.menuSurface_.listen(Qa.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_);this.listen("keydown",this.handleKeydown_);this.listen(Xa.strings.ACTION_EVENT,this.handleItemAction_)},k.prototype.destroy=function(){this.list_&&this.list_.destroy();this.menuSurface_.destroy();this.menuSurface_.unlisten(Qa.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_);this.unlisten("keydown",this.handleKeydown_);this.unlisten(Xa.strings.ACTION_EVENT,this.handleItemAction_);P.prototype.destroy.call(this)},Object.defineProperty(k.prototype,
"open",{get:function(){return this.menuSurface_.open},set:function(a){this.menuSurface_.open=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"wrapFocus",{get:function(){return!!this.list_&&this.list_.wrapFocus},set:function(a){this.list_&&(this.list_.wrapFocus=a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"items",{get:function(){return this.list_?this.list_.listElements:[]},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"quickOpen",{set:function(a){this.menuSurface_.quickOpen=
a},enumerable:!0,configurable:!0}),k.prototype.setDefaultFocusState=function(a){this.foundation_.setDefaultFocusState(a)},k.prototype.setAnchorCorner=function(a){this.menuSurface_.setAnchorCorner(a)},k.prototype.setAnchorMargin=function(a){this.menuSurface_.setAnchorMargin(a)},k.prototype.getOptionByIndex=function(a){return a<this.items.length?this.items[a]:null},k.prototype.setFixedPosition=function(a){this.menuSurface_.setFixedPosition(a)},k.prototype.hoistMenuToBody=function(){this.menuSurface_.hoistMenuToBody()},
k.prototype.setIsHoisted=function(a){this.menuSurface_.setIsHoisted(a)},k.prototype.setAbsolutePosition=function(a,g){this.menuSurface_.setAbsolutePosition(a,g)},k.prototype.setAnchorElement=function(a){this.menuSurface_.anchorElement=a},k.prototype.getDefaultFoundation=function(){var a=this;return new yb({addClassToElementAtIndex:function(g,G){a.items[g].classList.add(G)},removeClassFromElementAtIndex:function(g,G){a.items[g].classList.remove(G)},addAttributeToElementAtIndex:function(g,G,V){a.items[g].setAttribute(G,
V)},removeAttributeFromElementAtIndex:function(g,G){a.items[g].removeAttribute(G)},elementContainsClass:function(g,G){return g.classList.contains(G)},closeSurface:function(){return a.open=!1},getElementIndex:function(g){return a.items.indexOf(g)},getParentElement:function(g){return g.parentElement},getSelectedElementIndex:function(g){return(g=g.querySelector("."+Sa.MENU_SELECTED_LIST_ITEM))?a.items.indexOf(g):-1},notifySelected:function(g){return a.emit(Ka.SELECTED_EVENT,{index:g.index,item:a.items[g.index]})},
getMenuItemCount:function(){return a.items.length},focusItemAtIndex:function(g){return a.items[g].focus()},focusListRoot:function(){return a.root_.querySelector(Ka.LIST_SELECTOR).focus()}})},k}(x),cb={NOTCH_ELEMENT_SELECTOR:".f3"},db={NOTCH_ELEMENT_PADDING:8},Za={NO_LABEL:"l3",OUTLINE_NOTCHED:"k3",OUTLINE_UPGRADED:"j3"},zb=function(P){function k(a){return P.call(this,h({},k.defaultAdapter,a))||this}return e(k,P),Object.defineProperty(k,"strings",{get:function(){return cb},enumerable:!0,configurable:!0}),
Object.defineProperty(k,"cssClasses",{get:function(){return Za},enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return db},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!0,configurable:!0}),k.prototype.notch=function(a){var g=k.cssClasses.OUTLINE_NOTCHED;0<a&&(a+=db.NOTCH_ELEMENT_PADDING);
this.adapter_.setNotchWidthProperty(a);this.adapter_.addClass(g)},k.prototype.closeNotch=function(){this.adapter_.removeClass(k.cssClasses.OUTLINE_NOTCHED);this.adapter_.removeNotchWidthProperty()},k}(O),eb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},k.prototype.initialSyncWithDOM=function(){this.notchElement_=this.root_.querySelector(cb.NOTCH_ELEMENT_SELECTOR);var a=this.root_.querySelector("."+ua.cssClasses.ROOT);
a?(a.style.transitionDuration="0s",this.root_.classList.add(Za.OUTLINE_UPGRADED),requestAnimationFrame(function(){a.style.transitionDuration=""})):this.root_.classList.add(Za.NO_LABEL)},k.prototype.notch=function(a){this.foundation_.notch(a)},k.prototype.closeNotch=function(){this.foundation_.closeNotch()},k.prototype.getDefaultFoundation=function(){var a=this;return new zb({addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},setNotchWidthProperty:function(g){return a.notchElement_.style.setProperty("width",
g+"px")},removeNotchWidthProperty:function(){return a.notchElement_.style.removeProperty("width")}})},k}(x),wa={ACTIVATED:"x3",DISABLED:"o3",FOCUSED:"v3",INVALID:"z3",OUTLINED:"s3--outlined",REQUIRED:"_4",ROOT:"s3",SELECTED_ITEM_CLASS:"b4",WITH_LEADING_ICON:"n3"},Ba={ARIA_CONTROLS:"aria-controls",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",ENHANCED_VALUE_ATTR:"data-value",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".h3",LEADING_ICON_SELECTOR:".p3",LINE_RIPPLE_SELECTOR:"._3",
MENU_SELECTOR:".a4",NATIVE_CONTROL_SELECTOR:".t3",OUTLINE_SELECTOR:".c3",SELECTED_ITEM_SELECTOR:"."+wa.SELECTED_ITEM_CLASS,SELECTED_TEXT_SELECTOR:".u3"},fb={LABEL_SCALE:.75},Ab=function(P){function k(a,g){void 0===g&&(g={});a=P.call(this,h({},k.defaultAdapter,a))||this;return a.leadingIcon_=g.leadingIcon,a.helperText_=g.helperText,a}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return wa},enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return fb},
enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return Ba},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},setValue:function(){},getValue:function(){return""},floatLabel:function(){},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},
closeOutline:function(){},openMenu:function(){},closeMenu:function(){},isMenuOpen:function(){return!1},setSelectedIndex:function(){},setDisabled:function(){},setRippleCenter:function(){},notifyChange:function(){},checkValidity:function(){return!1},setValid:function(){}}},enumerable:!0,configurable:!0}),k.prototype.setSelectedIndex=function(a){this.adapter_.setSelectedIndex(a);this.adapter_.closeMenu();this.handleChange(!0)},k.prototype.setValue=function(a){this.adapter_.setValue(a);this.handleChange(!0)},
k.prototype.getValue=function(){return this.adapter_.getValue()},k.prototype.setDisabled=function(a){a?this.adapter_.addClass(wa.DISABLED):this.adapter_.removeClass(wa.DISABLED);this.adapter_.setDisabled(a);this.adapter_.closeMenu();this.leadingIcon_&&this.leadingIcon_.setDisabled(a)},k.prototype.setHelperTextContent=function(a){this.helperText_&&this.helperText_.setContent(a)},k.prototype.layout=function(){var a=0<this.getValue().length;this.notchOutline(a)},k.prototype.handleMenuOpened=function(){this.adapter_.addClass(wa.ACTIVATED)},
k.prototype.handleMenuClosed=function(){this.adapter_.removeClass(wa.ACTIVATED)},k.prototype.handleChange=function(a){void 0===a&&(a=!0);var g=this.getValue(),G=0<g.length,V=this.adapter_.hasClass(wa.REQUIRED);this.notchOutline(G);this.adapter_.hasClass(wa.FOCUSED)||this.adapter_.floatLabel(G);a&&(this.adapter_.notifyChange(g),V&&(this.setValid(this.isValid()),this.helperText_&&this.helperText_.setValidity(this.isValid())))},k.prototype.handleFocus=function(){this.adapter_.addClass(wa.FOCUSED);this.adapter_.floatLabel(!0);
this.notchOutline(!0);this.adapter_.activateBottomLine();this.helperText_&&this.helperText_.showToScreenReader()},k.prototype.handleBlur=function(){this.adapter_.isMenuOpen()||(this.adapter_.removeClass(wa.FOCUSED),this.handleChange(!1),this.adapter_.deactivateBottomLine(),this.adapter_.hasClass(wa.REQUIRED)&&(this.setValid(this.isValid()),this.helperText_&&this.helperText_.setValidity(this.isValid())))},k.prototype.handleClick=function(a){this.adapter_.isMenuOpen()||(this.adapter_.setRippleCenter(a),
this.adapter_.openMenu())},k.prototype.handleKeydown=function(a){if(!this.adapter_.isMenuOpen()){var g="Enter"===a.key||13===a.keyCode,G="Space"===a.key||32===a.keyCode,V="ArrowUp"===a.key||38===a.keyCode,ea="ArrowDown"===a.key||40===a.keyCode;this.adapter_.hasClass(wa.FOCUSED)&&(g||G||V||ea)&&(this.adapter_.openMenu(),a.preventDefault())}},k.prototype.notchOutline=function(a){if(this.adapter_.hasOutline()){var g=this.adapter_.hasClass(wa.FOCUSED);a?(a=fb.LABEL_SCALE,a*=this.adapter_.getLabelWidth(),
this.adapter_.notchOutline(a)):g||this.adapter_.closeOutline()}},k.prototype.setLeadingIconAriaLabel=function(a){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(a)},k.prototype.setLeadingIconContent=function(a){this.leadingIcon_&&this.leadingIcon_.setContent(a)},k.prototype.setValid=function(a){this.adapter_.setValid(a)},k.prototype.isValid=function(){return this.adapter_.checkValidity()},k}(O),Va={ARIA_HIDDEN:"aria-hidden",ROLE:"role"},Na={HELPER_TEXT_PERSISTENT:"r3",HELPER_TEXT_VALIDATION_MSG:"y3"},
Bb=function(P){function k(a){return P.call(this,h({},k.defaultAdapter,a))||this}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return Na},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return Va},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!0,
configurable:!0}),k.prototype.setContent=function(a){this.adapter_.setContent(a)},k.prototype.setPersistent=function(a){a?this.adapter_.addClass(Na.HELPER_TEXT_PERSISTENT):this.adapter_.removeClass(Na.HELPER_TEXT_PERSISTENT)},k.prototype.setValidation=function(a){a?this.adapter_.addClass(Na.HELPER_TEXT_VALIDATION_MSG):this.adapter_.removeClass(Na.HELPER_TEXT_VALIDATION_MSG)},k.prototype.showToScreenReader=function(){this.adapter_.removeAttr(Va.ARIA_HIDDEN)},k.prototype.setValidity=function(a){var g=
this.adapter_.hasClass(Na.HELPER_TEXT_PERSISTENT);(a=this.adapter_.hasClass(Na.HELPER_TEXT_VALIDATION_MSG)&&!a)?this.adapter_.setAttr(Va.ROLE,"alert"):this.adapter_.removeAttr(Va.ROLE);g||a||this.hide_()},k.prototype.hide_=function(){this.adapter_.setAttr(Va.ARIA_HIDDEN,"true")},k}(O),Cb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},Object.defineProperty(k.prototype,"foundation",{get:function(){return this.foundation_},
enumerable:!0,configurable:!0}),k.prototype.getDefaultFoundation=function(){var a=this;return new Bb({addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},hasClass:function(g){return a.root_.classList.contains(g)},setAttr:function(g,G){return a.root_.setAttribute(g,G)},removeAttr:function(g){return a.root_.removeAttribute(g)},setContent:function(g){a.root_.textContent=g}})},k}(x),gb={ICON_EVENT:"MDCSelect:icon",ICON_ROLE:"button"},hb=["click",
"keydown"],ib=function(P){function k(a){var g=P.call(this,h({},k.defaultAdapter,a))||this;return g.savedTabIndex_=null,g.interactionHandler_=function(G){return g.handleInteraction(G)},g}return e(k,P),Object.defineProperty(k,"strings",{get:function(){return gb},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},
notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),k.prototype.init=function(){var a=this;this.savedTabIndex_=this.adapter_.getAttr("tabindex");hb.forEach(function(g){a.adapter_.registerInteractionHandler(g,a.interactionHandler_)})},k.prototype.destroy=function(){var a=this;hb.forEach(function(g){a.adapter_.deregisterInteractionHandler(g,a.interactionHandler_)})},k.prototype.setDisabled=function(a){this.savedTabIndex_&&(a?(this.adapter_.setAttr("tabindex","-1"),this.adapter_.removeAttr("role")):
(this.adapter_.setAttr("tabindex",this.savedTabIndex_),this.adapter_.setAttr("role",gb.ICON_ROLE)))},k.prototype.setAriaLabel=function(a){this.adapter_.setAttr("aria-label",a)},k.prototype.setContent=function(a){this.adapter_.setContent(a)},k.prototype.handleInteraction=function(a){var g="Enter"===a.key||13===a.keyCode;("click"===a.type||g)&&this.adapter_.notifyIconAction()},k}(O),Db=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},
Object.defineProperty(k.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),k.prototype.getDefaultFoundation=function(){var a=this;return new ib({getAttr:function(g){return a.root_.getAttribute(g)},setAttr:function(g,G){return a.root_.setAttribute(g,G)},removeAttr:function(g){return a.root_.removeAttribute(g)},setContent:function(g){a.root_.textContent=g},registerInteractionHandler:function(g,G){return a.listen(g,G)},deregisterInteractionHandler:function(g,
G){return a.unlisten(g,G)},notifyIconAction:function(){return a.emit(ib.strings.ICON_EVENT,{},!0)}})},k}(x),Eb=["required","aria-required"],jb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},k.prototype.initialize=function(a,g,G,V,ea,ia){void 0===a&&(a=function(qa){return new ja(qa)});void 0===g&&(g=function(qa){return new Ea(qa)});void 0===G&&(G=function(qa){return new eb(qa)});void 0===V&&(V=function(qa){return new bb(qa)});
void 0===ea&&(ea=function(qa){return new Db(qa)});void 0===ia&&(ia=function(qa){return new Cb(qa)});this.isMenuOpen_=!1;this.nativeControl_=this.root_.querySelector(Ba.NATIVE_CONTROL_SELECTOR);this.selectedText_=this.root_.querySelector(Ba.SELECTED_TEXT_SELECTOR);var sa=this.nativeControl_||this.selectedText_;if(!sa)throw Error("MDCSelect: Missing required element: Exactly one of the following selectors must be present: '"+Ba.NATIVE_CONTROL_SELECTOR+"' or '"+Ba.SELECTED_TEXT_SELECTOR+"'");(this.targetElement_=
sa,this.targetElement_.hasAttribute(Ba.ARIA_CONTROLS))&&(sa=document.getElementById(this.targetElement_.getAttribute(Ba.ARIA_CONTROLS)))&&(this.helperText_=ia(sa));this.selectedText_&&this.enhancedSelectSetup_(V);this.label_=(V=this.root_.querySelector(Ba.LABEL_SELECTOR))?a(V):null;this.lineRipple_=(a=this.root_.querySelector(Ba.LINE_RIPPLE_SELECTOR))?g(a):null;this.outline_=(g=this.root_.querySelector(Ba.OUTLINE_SELECTOR))?G(g):null;(G=this.root_.querySelector(Ba.LEADING_ICON_SELECTOR))&&(this.root_.classList.add(wa.WITH_LEADING_ICON),
this.leadingIcon_=ea(G),this.menuElement_&&this.menuElement_.classList.add(wa.WITH_LEADING_ICON));this.root_.classList.contains(wa.OUTLINED)||(this.ripple=this.createRipple_());this.initialSyncRequiredState_();this.addMutationObserverForRequired_()},k.prototype.initialSyncWithDOM=function(){var a=this;if(this.handleChange_=function(){return a.foundation_.handleChange(!0)},this.handleFocus_=function(){return a.foundation_.handleFocus()},this.handleBlur_=function(){return a.foundation_.handleBlur()},
this.handleClick_=function(G){a.selectedText_&&a.selectedText_.focus();a.foundation_.handleClick(a.getNormalizedXCoordinate_(G))},this.handleKeydown_=function(G){return a.foundation_.handleKeydown(G)},this.handleMenuSelected_=function(G){return a.selectedIndex=G.detail.index},this.handleMenuOpened_=function(){(a.foundation_.handleMenuOpened(),0!==a.menu_.items.length)&&a.menu_.items[0<=a.selectedIndex?a.selectedIndex:0].focus()},this.handleMenuClosed_=function(){a.foundation_.handleMenuClosed();a.isMenuOpen_=
!1;a.selectedText_.removeAttribute("aria-expanded");document.activeElement!==a.selectedText_&&a.foundation_.handleBlur()},this.targetElement_.addEventListener("change",this.handleChange_),this.targetElement_.addEventListener("focus",this.handleFocus_),this.targetElement_.addEventListener("blur",this.handleBlur_),this.targetElement_.addEventListener("click",this.handleClick_),this.menuElement_)if(this.selectedText_.addEventListener("keydown",this.handleKeydown_),this.menu_.listen(Fa.CLOSED_EVENT,this.handleMenuClosed_),
this.menu_.listen(Fa.OPENED_EVENT,this.handleMenuOpened_),this.menu_.listen(Ka.SELECTED_EVENT,this.handleMenuSelected_),this.hiddenInput_&&this.hiddenInput_.value)(g=this.getEnhancedSelectAdapterMethods_()).setValue(this.hiddenInput_.value);else if(this.menuElement_.querySelector(Ba.SELECTED_ITEM_SELECTOR)){var g;(g=this.getEnhancedSelectAdapterMethods_()).setValue(g.getValue())}this.foundation_.handleChange(!1);(this.root_.classList.contains(wa.DISABLED)||this.nativeControl_&&this.nativeControl_.disabled)&&
(this.disabled=!0)},k.prototype.destroy=function(){this.targetElement_.removeEventListener("change",this.handleChange_);this.targetElement_.removeEventListener("focus",this.handleFocus_);this.targetElement_.removeEventListener("blur",this.handleBlur_);this.targetElement_.removeEventListener("keydown",this.handleKeydown_);this.targetElement_.removeEventListener("click",this.handleClick_);this.menu_&&(this.menu_.unlisten(Fa.CLOSED_EVENT,this.handleMenuClosed_),this.menu_.unlisten(Fa.OPENED_EVENT,this.handleMenuOpened_),
this.menu_.unlisten(Ka.SELECTED_EVENT,this.handleMenuSelected_),this.menu_.destroy());this.ripple&&this.ripple.destroy();this.outline_&&this.outline_.destroy();this.leadingIcon_&&this.leadingIcon_.destroy();this.helperText_&&this.helperText_.destroy();this.validationObserver_&&this.validationObserver_.disconnect();P.prototype.destroy.call(this)},Object.defineProperty(k.prototype,"value",{get:function(){return this.foundation_.getValue()},set:function(a){this.foundation_.setValue(a)},enumerable:!0,
configurable:!0}),Object.defineProperty(k.prototype,"selectedIndex",{get:function(){var a=-1;this.menuElement_&&this.menu_?(a=this.menuElement_.querySelector(Ba.SELECTED_ITEM_SELECTOR),a=this.menu_.items.indexOf(a)):this.nativeControl_&&(a=this.nativeControl_.selectedIndex);return a},set:function(a){this.foundation_.setSelectedIndex(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"disabled",{get:function(){return this.root_.classList.contains(wa.DISABLED)||!!this.nativeControl_&&
this.nativeControl_.disabled},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"leadingIconAriaLabel",{set:function(a){this.foundation_.setLeadingIconAriaLabel(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"leadingIconContent",{set:function(a){this.foundation_.setLeadingIconContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"helperTextContent",{set:function(a){this.foundation_.setHelperTextContent(a)},
enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"valid",{get:function(){return this.foundation_.isValid()},set:function(a){this.foundation_.setValid(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"required",{get:function(){return this.nativeControl_?this.nativeControl_.required:"true"===this.selectedText_.getAttribute("aria-required")},set:function(a){this.nativeControl_?this.nativeControl_.required=a:a?this.selectedText_.setAttribute("aria-required",a.toString()):
this.selectedText_.removeAttribute("aria-required")},enumerable:!0,configurable:!0}),k.prototype.layout=function(){this.foundation_.layout()},k.prototype.getDefaultFoundation=function(){var a=h({},this.nativeControl_?this.getNativeSelectAdapterMethods_():this.getEnhancedSelectAdapterMethods_(),this.getCommonAdapterMethods_(),this.getOutlineAdapterMethods_(),this.getLabelAdapterMethods_());return new Ab(a,this.getFoundationMap_())},k.prototype.enhancedSelectSetup_=function(a){var g=this.root_.classList.contains(wa.DISABLED);
this.selectedText_.setAttribute("tabindex",g?"-1":"0");this.hiddenInput_=this.root_.querySelector(Ba.HIDDEN_INPUT_SELECTOR);this.menuElement_=this.root_.querySelector(Ba.MENU_SELECTOR);this.menu_=a(this.menuElement_);this.menu_.hoistMenuToBody();this.menu_.setAnchorElement(this.root_);this.menu_.setAnchorCorner(v.BOTTOM_START);this.menu_.wrapFocus=!1},k.prototype.createRipple_=function(){var a=this,g=h({},L.createAdapter(this),{registerInteractionHandler:function(G,V){return a.targetElement_.addEventListener(G,
V)},deregisterInteractionHandler:function(G,V){return a.targetElement_.removeEventListener(G,V)}});return new L(this.root_,new M(g))},k.prototype.getNativeSelectAdapterMethods_=function(){var a=this;return{getValue:function(){return a.nativeControl_.value},setValue:function(g){a.nativeControl_.value=g},openMenu:function(){},closeMenu:function(){},isMenuOpen:function(){return!1},setSelectedIndex:function(g){a.nativeControl_.selectedIndex=g},setDisabled:function(g){a.nativeControl_.disabled=g},setValid:function(g){g?
a.root_.classList.remove(wa.INVALID):a.root_.classList.add(wa.INVALID)},checkValidity:function(){return a.nativeControl_.checkValidity()}}},k.prototype.getEnhancedSelectAdapterMethods_=function(){var a=this;return{getValue:function(){var g=a.menuElement_.querySelector(Ba.SELECTED_ITEM_SELECTOR);return g&&g.hasAttribute(Ba.ENHANCED_VALUE_ATTR)&&g.getAttribute(Ba.ENHANCED_VALUE_ATTR)||""},setValue:function(g){g=a.menuElement_.querySelector("["+Ba.ENHANCED_VALUE_ATTR+'="'+g+'"]');a.setEnhancedSelectedIndex_(g?
a.menu_.items.indexOf(g):-1)},openMenu:function(){a.menu_&&!a.menu_.open&&(a.menu_.open=!0,a.isMenuOpen_=!0,a.selectedText_.setAttribute("aria-expanded","true"))},closeMenu:function(){a.menu_&&a.menu_.open&&(a.menu_.open=!1)},isMenuOpen:function(){return!!a.menu_&&a.isMenuOpen_},setSelectedIndex:function(g){return a.setEnhancedSelectedIndex_(g)},setDisabled:function(g){a.selectedText_.setAttribute("tabindex",g?"-1":"0");a.selectedText_.setAttribute("aria-disabled",g.toString());a.hiddenInput_&&(a.hiddenInput_.disabled=
g)},checkValidity:function(){var g=a.root_.classList;return!(g.contains(wa.REQUIRED)&&!g.contains(wa.DISABLED))||-1!==a.selectedIndex&&(0!==a.selectedIndex||!!a.value)},setValid:function(g){a.selectedText_.setAttribute("aria-invalid",(!g).toString());g?a.root_.classList.remove(wa.INVALID):a.root_.classList.add(wa.INVALID)}}},k.prototype.getCommonAdapterMethods_=function(){var a=this;return{addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},
hasClass:function(g){return a.root_.classList.contains(g)},setRippleCenter:function(g){return a.lineRipple_&&a.lineRipple_.setRippleCenter(g)},activateBottomLine:function(){return a.lineRipple_&&a.lineRipple_.activate()},deactivateBottomLine:function(){return a.lineRipple_&&a.lineRipple_.deactivate()},notifyChange:function(g){a.emit(Ba.CHANGE_EVENT,{value:g,index:a.selectedIndex},!0)}}},k.prototype.getOutlineAdapterMethods_=function(){var a=this;return{hasOutline:function(){return!!a.outline_},notchOutline:function(g){return a.outline_&&
a.outline_.notch(g)},closeOutline:function(){return a.outline_&&a.outline_.closeNotch()}}},k.prototype.getLabelAdapterMethods_=function(){var a=this;return{floatLabel:function(g){return a.label_&&a.label_.float(g)},getLabelWidth:function(){return a.label_?a.label_.getWidth():0}}},k.prototype.getNormalizedXCoordinate_=function(a){var g=a.target.getBoundingClientRect();return(this.isTouchEvent_(a)?a.touches[0].clientX:a.clientX)-g.left},k.prototype.isTouchEvent_=function(a){return!!a.touches},k.prototype.getFoundationMap_=
function(){return{helperText:this.helperText_?this.helperText_.foundation:void 0,leadingIcon:this.leadingIcon_?this.leadingIcon_.foundation:void 0}},k.prototype.setEnhancedSelectedIndex_=function(a){a=this.menu_.items[a];this.selectedText_.textContent=a?a.textContent.trim():"";var g=this.menuElement_.querySelector(Ba.SELECTED_ITEM_SELECTOR);g&&(g.classList.remove(wa.SELECTED_ITEM_CLASS),g.removeAttribute(Ba.ARIA_SELECTED_ATTR));a&&(a.classList.add(wa.SELECTED_ITEM_CLASS),a.setAttribute(Ba.ARIA_SELECTED_ATTR,
"true"));this.hiddenInput_&&(this.hiddenInput_.value=a&&a.getAttribute(Ba.ENHANCED_VALUE_ATTR)||"");this.layout()},k.prototype.initialSyncRequiredState_=function(){(this.targetElement_.required||"true"===this.targetElement_.getAttribute("aria-required")||this.root_.classList.contains(wa.REQUIRED))&&(this.nativeControl_?this.nativeControl_.required=!0:this.selectedText_.setAttribute("aria-required","true"),this.root_.classList.add(wa.REQUIRED))},k.prototype.addMutationObserverForRequired_=function(){var a=
this,g=new MutationObserver(function(G){(function(V){return V.map(function(ea){return ea.attributeName}).filter(function(ea){return ea})})(G).some(function(V){return-1!==Eb.indexOf(V)&&(a.selectedText_?"true"===a.selectedText_.getAttribute("aria-required")?a.root_.classList.add(wa.REQUIRED):a.root_.classList.remove(wa.REQUIRED):a.nativeControl_.required?a.root_.classList.add(wa.REQUIRED):a.root_.classList.remove(wa.REQUIRED),!0)})});g.observe(this.targetElement_,{attributes:!0});this.validationObserver_=
g},k}(x),kb={ROOT:"j4-character-counter"},Fb={ROOT_SELECTOR:"."+kb.ROOT},lb=function(P){function k(a){return P.call(this,h({},k.defaultAdapter,a))||this}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return kb},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return Fb},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!0,configurable:!0}),k.prototype.setCounterValue=
function(a,g){a=Math.min(a,g);this.adapter_.setContent(a+" / "+g)},k}(O),Gb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},Object.defineProperty(k.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),k.prototype.getDefaultFoundation=function(){var a=this;return new lb({setContent:function(g){a.root_.textContent=g}})},k}(x),Ta={ARIA_CONTROLS:"aria-controls",ICON_SELECTOR:".h4",
INPUT_SELECTOR:".l4",LABEL_SELECTOR:".h3",LINE_RIPPLE_SELECTOR:"._3",OUTLINE_SELECTOR:".c3"},Ua={DENSE:"j4--dense",DISABLED:"k4",FOCUSED:"p4",FULLWIDTH:"j4--fullwidth",HELPER_LINE:"n4",INVALID:"r4",NO_LABEL:"o4",OUTLINED:"j4--outlined",ROOT:"j4",TEXTAREA:"m4",WITH_LEADING_ICON:"g4",WITH_TRAILING_ICON:"i4"},$a={DENSE_LABEL_SCALE:.923,LABEL_SCALE:.75},Hb="pattern min max required step minlength maxlength".split(" "),Ib="color date datetime-local month range time week".split(" "),mb=["mousedown","touchstart"],
nb=["click","keydown"],Jb=function(P){function k(a,g){void 0===g&&(g={});var G=P.call(this,h({},k.defaultAdapter,a))||this;return G.isFocused_=!1,G.receivedUserInput_=!1,G.isValid_=!0,G.useNativeValidation_=!0,G.helperText_=g.helperText,G.characterCounter_=g.characterCounter,G.leadingIcon_=g.leadingIcon,G.trailingIcon_=g.trailingIcon,G.inputFocusHandler_=function(){return G.activateFocus()},G.inputBlurHandler_=function(){return G.deactivateFocus()},G.inputInputHandler_=function(){return G.handleInput()},
G.setPointerXOffset_=function(V){return G.setTransformOrigin(V)},G.textFieldInteractionHandler_=function(){return G.handleTextFieldInteraction()},G.validationAttributeChangeHandler_=function(V){return G.handleValidationAttributeChange(V)},G}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return Ua},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return Ta},enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return $a},
enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"shouldAlwaysFloat_",{get:function(){var a=this.getNativeInput_().type;return 0<=Ib.indexOf(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},
enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},
getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!0,configurable:!0}),k.prototype.init=function(){var a=this;this.adapter_.isFocused()?this.inputFocusHandler_():this.adapter_.hasLabel()&&
this.shouldFloat&&(this.notchOutline(!0),this.adapter_.floatLabel(!0));this.adapter_.registerInputInteractionHandler("focus",this.inputFocusHandler_);this.adapter_.registerInputInteractionHandler("blur",this.inputBlurHandler_);this.adapter_.registerInputInteractionHandler("input",this.inputInputHandler_);mb.forEach(function(g){a.adapter_.registerInputInteractionHandler(g,a.setPointerXOffset_)});nb.forEach(function(g){a.adapter_.registerTextFieldInteractionHandler(g,a.textFieldInteractionHandler_)});
this.validationObserver_=this.adapter_.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_);this.setCharacterCounter_(this.getValue().length)},k.prototype.destroy=function(){var a=this;this.adapter_.deregisterInputInteractionHandler("focus",this.inputFocusHandler_);this.adapter_.deregisterInputInteractionHandler("blur",this.inputBlurHandler_);this.adapter_.deregisterInputInteractionHandler("input",this.inputInputHandler_);mb.forEach(function(g){a.adapter_.deregisterInputInteractionHandler(g,
a.setPointerXOffset_)});nb.forEach(function(g){a.adapter_.deregisterTextFieldInteractionHandler(g,a.textFieldInteractionHandler_)});this.adapter_.deregisterValidationAttributeChangeHandler(this.validationObserver_)},k.prototype.handleTextFieldInteraction=function(){var a=this.adapter_.getNativeInput();a&&a.disabled||(this.receivedUserInput_=!0)},k.prototype.handleValidationAttributeChange=function(a){var g=this;a.some(function(G){return-1<Hb.indexOf(G)&&(g.styleValidity_(!0),!0)});-1<a.indexOf("maxlength")&&
this.setCharacterCounter_(this.getValue().length)},k.prototype.notchOutline=function(a){this.adapter_.hasOutline()&&(a?(a=this.adapter_.hasClass(Ua.DENSE)?$a.DENSE_LABEL_SCALE:$a.LABEL_SCALE,a*=this.adapter_.getLabelWidth(),this.adapter_.notchOutline(a)):this.adapter_.closeOutline())},k.prototype.activateFocus=function(){this.isFocused_=!0;this.styleFocused_(this.isFocused_);this.adapter_.activateLineRipple();this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),
this.adapter_.shakeLabel(this.shouldShake));this.helperText_&&this.helperText_.showToScreenReader()},k.prototype.setTransformOrigin=function(a){var g=a.touches;a=g?g[0]:a;g=a.target.getBoundingClientRect();this.adapter_.setLineRippleTransformOrigin(a.clientX-g.left)},k.prototype.handleInput=function(){this.autoCompleteFocus();this.setCharacterCounter_(this.getValue().length)},k.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},k.prototype.deactivateFocus=function(){this.isFocused_=
!1;this.adapter_.deactivateLineRipple();var a=this.isValid();this.styleValidity_(a);this.styleFocused_(this.isFocused_);this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake));this.shouldFloat||(this.receivedUserInput_=!1)},k.prototype.getValue=function(){return this.getNativeInput_().value},k.prototype.setValue=function(a){this.getValue()!==a&&(this.getNativeInput_().value=a);this.setCharacterCounter_(a.length);
a=this.isValid();this.styleValidity_(a);this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake))},k.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},k.prototype.setValid=function(a){this.isValid_=a;this.styleValidity_(a);a=!a&&!this.isFocused_;this.adapter_.hasLabel()&&this.adapter_.shakeLabel(a)},k.prototype.setUseNativeValidation=function(a){this.useNativeValidation_=
a},k.prototype.isDisabled=function(){return this.getNativeInput_().disabled},k.prototype.setDisabled=function(a){this.getNativeInput_().disabled=a;this.styleDisabled_(a)},k.prototype.setHelperTextContent=function(a){this.helperText_&&this.helperText_.setContent(a)},k.prototype.setLeadingIconAriaLabel=function(a){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(a)},k.prototype.setLeadingIconContent=function(a){this.leadingIcon_&&this.leadingIcon_.setContent(a)},k.prototype.setTrailingIconAriaLabel=
function(a){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(a)},k.prototype.setTrailingIconContent=function(a){this.trailingIcon_&&this.trailingIcon_.setContent(a)},k.prototype.setCharacterCounter_=function(a){if(this.characterCounter_){var g=this.getNativeInput_().maxLength;if(-1===g)throw Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(a,g)}},k.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||
!1},k.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},k.prototype.styleValidity_=function(a){var g=k.cssClasses.INVALID;a?this.adapter_.removeClass(g):this.adapter_.addClass(g);this.helperText_&&this.helperText_.setValidity(a)},k.prototype.styleFocused_=function(a){var g=k.cssClasses.FOCUSED;a?this.adapter_.addClass(g):this.adapter_.removeClass(g)},k.prototype.styleDisabled_=function(a){var g=k.cssClasses,G=g.DISABLED;g=g.INVALID;a?(this.adapter_.addClass(G),
this.adapter_.removeClass(g)):this.adapter_.removeClass(G);this.leadingIcon_&&this.leadingIcon_.setDisabled(a);this.trailingIcon_&&this.trailingIcon_.setDisabled(a)},k.prototype.getNativeInput_=function(){return(this.adapter_?this.adapter_.getNativeInput():null)||{disabled:!1,maxLength:-1,type:"input",validity:{badInput:!1,valid:!0},value:""}},k}(O),La={HELPER_TEXT_PERSISTENT:"f4",HELPER_TEXT_VALIDATION_MSG:"q4",ROOT:"c4"},Wa={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+La.ROOT},ob=function(P){function k(a){return P.call(this,
h({},k.defaultAdapter,a))||this}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return La},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return Wa},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!0,configurable:!0}),k.prototype.setContent=
function(a){this.adapter_.setContent(a)},k.prototype.setPersistent=function(a){a?this.adapter_.addClass(La.HELPER_TEXT_PERSISTENT):this.adapter_.removeClass(La.HELPER_TEXT_PERSISTENT)},k.prototype.setValidation=function(a){a?this.adapter_.addClass(La.HELPER_TEXT_VALIDATION_MSG):this.adapter_.removeClass(La.HELPER_TEXT_VALIDATION_MSG)},k.prototype.showToScreenReader=function(){this.adapter_.removeAttr(Wa.ARIA_HIDDEN)},k.prototype.setValidity=function(a){var g=this.adapter_.hasClass(La.HELPER_TEXT_PERSISTENT);
(a=this.adapter_.hasClass(La.HELPER_TEXT_VALIDATION_MSG)&&!a)?this.adapter_.setAttr(Wa.ROLE,"alert"):this.adapter_.removeAttr(Wa.ROLE);g||a||this.hide_()},k.prototype.hide_=function(){this.adapter_.setAttr(Wa.ARIA_HIDDEN,"true")},k}(O),Kb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},Object.defineProperty(k.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),k.prototype.getDefaultFoundation=
function(){var a=this;return new ob({addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},hasClass:function(g){return a.root_.classList.contains(g)},setAttr:function(g,G){return a.root_.setAttribute(g,G)},removeAttr:function(g){return a.root_.removeAttribute(g)},setContent:function(g){a.root_.textContent=g}})},k}(x),pb={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},Lb={ROOT:"h4"},qb=["click","keydown"],rb=function(P){function k(a){var g=
P.call(this,h({},k.defaultAdapter,a))||this;return g.savedTabIndex_=null,g.interactionHandler_=function(G){return g.handleInteraction(G)},g}return e(k,P),Object.defineProperty(k,"strings",{get:function(){return pb},enumerable:!0,configurable:!0}),Object.defineProperty(k,"cssClasses",{get:function(){return Lb},enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},
registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),k.prototype.init=function(){var a=this;this.savedTabIndex_=this.adapter_.getAttr("tabindex");qb.forEach(function(g){a.adapter_.registerInteractionHandler(g,a.interactionHandler_)})},k.prototype.destroy=function(){var a=this;qb.forEach(function(g){a.adapter_.deregisterInteractionHandler(g,a.interactionHandler_)})},k.prototype.setDisabled=function(a){this.savedTabIndex_&&
(a?(this.adapter_.setAttr("tabindex","-1"),this.adapter_.removeAttr("role")):(this.adapter_.setAttr("tabindex",this.savedTabIndex_),this.adapter_.setAttr("role",pb.ICON_ROLE)))},k.prototype.setAriaLabel=function(a){this.adapter_.setAttr("aria-label",a)},k.prototype.setContent=function(a){this.adapter_.setContent(a)},k.prototype.handleInteraction=function(a){var g="Enter"===a.key||13===a.keyCode;("click"===a.type||g)&&this.adapter_.notifyIconAction()},k}(O),Mb=function(P){function k(){return null!==
P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},Object.defineProperty(k.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),k.prototype.getDefaultFoundation=function(){var a=this;return new rb({getAttr:function(g){return a.root_.getAttribute(g)},setAttr:function(g,G){return a.root_.setAttribute(g,G)},removeAttr:function(g){return a.root_.removeAttribute(g)},setContent:function(g){a.root_.textContent=g},registerInteractionHandler:function(g,
G){return a.listen(g,G)},deregisterInteractionHandler:function(g,G){return a.unlisten(g,G)},notifyIconAction:function(){return a.emit(rb.strings.ICON_EVENT,{},!0)}})},k}(x),Nb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},k.prototype.initialize=function(a,g,G,V,ea,ia,sa){void 0===a&&(a=function(xa,Ia){return new L(xa,Ia)});void 0===g&&(g=function(xa){return new Ea(xa)});void 0===G&&(G=function(xa){return new Kb(xa)});
void 0===V&&(V=function(xa){return new Gb(xa)});void 0===ea&&(ea=function(xa){return new Mb(xa)});void 0===ia&&(ia=function(xa){return new ja(xa)});void 0===sa&&(sa=function(xa){return new eb(xa)});this.input_=this.root_.querySelector(Ta.INPUT_SELECTOR);var qa=this.root_.querySelector(Ta.LABEL_SELECTOR);this.label_=qa?ia(qa):null;this.lineRipple_=(ia=this.root_.querySelector(Ta.LINE_RIPPLE_SELECTOR))?g(ia):null;this.outline_=(g=this.root_.querySelector(Ta.OUTLINE_SELECTOR))?sa(g):null;ia=ob.strings;
this.helperText_=(ia=(g=(sa=this.root_.nextElementSibling)&&sa.classList.contains(Ua.HELPER_LINE))&&sa&&sa.querySelector(ia.ROOT_SELECTOR))?G(ia):null;G=lb.strings;ia=this.root_.querySelector(G.ROOT_SELECTOR);!ia&&g&&sa&&(ia=sa.querySelector(G.ROOT_SELECTOR));this.characterCounter_=ia?V(ia):null;this.trailingIcon_=this.leadingIcon_=null;V=this.root_.querySelectorAll(Ta.ICON_SELECTOR);0<V.length&&(1<V.length?(this.leadingIcon_=ea(V[0]),this.trailingIcon_=ea(V[1])):this.root_.classList.contains(Ua.WITH_LEADING_ICON)?
this.leadingIcon_=ea(V[0]):this.trailingIcon_=ea(V[0]));this.ripple=this.createRipple_(a)},k.prototype.destroy=function(){this.ripple&&this.ripple.destroy();this.lineRipple_&&this.lineRipple_.destroy();this.helperText_&&this.helperText_.destroy();this.characterCounter_&&this.characterCounter_.destroy();this.leadingIcon_&&this.leadingIcon_.destroy();this.trailingIcon_&&this.trailingIcon_.destroy();this.label_&&this.label_.destroy();this.outline_&&this.outline_.destroy();P.prototype.destroy.call(this)},
k.prototype.initialSyncWithDOM=function(){this.disabled=this.input_.disabled},Object.defineProperty(k.prototype,"value",{get:function(){return this.foundation_.getValue()},set:function(a){this.foundation_.setValue(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"disabled",{get:function(){return this.foundation_.isDisabled()},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"valid",{get:function(){return this.foundation_.isValid()},
set:function(a){this.foundation_.setValid(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"required",{get:function(){return this.input_.required},set:function(a){this.input_.required=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"pattern",{get:function(){return this.input_.pattern},set:function(a){this.input_.pattern=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"minLength",{get:function(){return this.input_.minLength},set:function(a){this.input_.minLength=
a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"maxLength",{get:function(){return this.input_.maxLength},set:function(a){0>a?this.input_.removeAttribute("maxLength"):this.input_.maxLength=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"min",{get:function(){return this.input_.min},set:function(a){this.input_.min=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"max",{get:function(){return this.input_.max},set:function(a){this.input_.max=
a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"step",{get:function(){return this.input_.step},set:function(a){this.input_.step=a},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"helperTextContent",{set:function(a){this.foundation_.setHelperTextContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"leadingIconAriaLabel",{set:function(a){this.foundation_.setLeadingIconAriaLabel(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,
"leadingIconContent",{set:function(a){this.foundation_.setLeadingIconContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"trailingIconAriaLabel",{set:function(a){this.foundation_.setTrailingIconAriaLabel(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"trailingIconContent",{set:function(a){this.foundation_.setTrailingIconContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"useNativeValidation",{set:function(a){this.foundation_.setUseNativeValidation(a)},
enumerable:!0,configurable:!0}),k.prototype.focus=function(){this.input_.focus()},k.prototype.layout=function(){this.foundation_.notchOutline(this.foundation_.shouldFloat)},k.prototype.getDefaultFoundation=function(){var a=h({},this.getRootAdapterMethods_(),this.getInputAdapterMethods_(),this.getLabelAdapterMethods_(),this.getLineRippleAdapterMethods_(),this.getOutlineAdapterMethods_());return new Jb(a,this.getFoundationMap_())},k.prototype.getRootAdapterMethods_=function(){var a=this;return{addClass:function(g){return a.root_.classList.add(g)},
removeClass:function(g){return a.root_.classList.remove(g)},hasClass:function(g){return a.root_.classList.contains(g)},registerTextFieldInteractionHandler:function(g,G){return a.listen(g,G)},deregisterTextFieldInteractionHandler:function(g,G){return a.unlisten(g,G)},registerValidationAttributeChangeHandler:function(g){var G=new MutationObserver(function(V){return g(function(ea){return ea.map(function(ia){return ia.attributeName}).filter(function(ia){return ia})}(V))});return G.observe(a.input_,{attributes:!0}),
G},deregisterValidationAttributeChangeHandler:function(g){return g.disconnect()}}},k.prototype.getInputAdapterMethods_=function(){var a=this;return{getNativeInput:function(){return a.input_},isFocused:function(){return document.activeElement===a.input_},registerInputInteractionHandler:function(g,G){return a.input_.addEventListener(g,G)},deregisterInputInteractionHandler:function(g,G){return a.input_.removeEventListener(g,G)}}},k.prototype.getLabelAdapterMethods_=function(){var a=this;return{floatLabel:function(g){return a.label_&&
a.label_.float(g)},getLabelWidth:function(){return a.label_?a.label_.getWidth():0},hasLabel:function(){return!!a.label_},shakeLabel:function(g){return a.label_&&a.label_.shake(g)}}},k.prototype.getLineRippleAdapterMethods_=function(){var a=this;return{activateLineRipple:function(){a.lineRipple_&&a.lineRipple_.activate()},deactivateLineRipple:function(){a.lineRipple_&&a.lineRipple_.deactivate()},setLineRippleTransformOrigin:function(g){a.lineRipple_&&a.lineRipple_.setRippleCenter(g)}}},k.prototype.getOutlineAdapterMethods_=
function(){var a=this;return{closeOutline:function(){return a.outline_&&a.outline_.closeNotch()},hasOutline:function(){return!!a.outline_},notchOutline:function(g){return a.outline_&&a.outline_.notch(g)}}},k.prototype.getFoundationMap_=function(){return{characterCounter:this.characterCounter_?this.characterCounter_.foundation:void 0,helperText:this.helperText_?this.helperText_.foundation:void 0,leadingIcon:this.leadingIcon_?this.leadingIcon_.foundation:void 0,trailingIcon:this.trailingIcon_?this.trailingIcon_.foundation:
void 0}},k.prototype.createRipple_=function(a){var g=this,G=this.root_.classList.contains(Ua.TEXTAREA),V=this.root_.classList.contains(Ua.OUTLINED);if(G||V)return null;G=h({},L.createAdapter(this),{isSurfaceActive:function(){return r(g.input_,":active")},registerInteractionHandler:function(ea,ia){return g.input_.addEventListener(ea,ia)},deregisterInteractionHandler:function(ea,ia){return g.input_.removeEventListener(ea,ia)}});return a(this.root_,new M(G))},k}(x),Ja={ACTIVE:"s6",DISABLED:"i6",DISCRETE:"v6",
FOCUS:"t6",HAS_TRACK_MARKER:"w6",IN_TRANSIT:"u6",IS_DISCRETE:"v6"},Da={ARIA_DISABLED:"aria-disabled",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",CHANGE_EVENT:"MDCSlider:change",INPUT_EVENT:"MDCSlider:input",LAST_TRACK_MARKER_SELECTOR:".l6:last-child",PIN_VALUE_MARKER_SELECTOR:".r6",STEP_DATA_ATTR:"data-step",THUMB_CONTAINER_SELECTOR:".q6",TRACK_MARKER_CONTAINER_SELECTOR:".m6",TRACK_SELECTOR:".j6"},ab={PAGE_FACTOR:4},sb=["mousedown","pointerdown","touchstart"],
tb=["mouseup","pointerup","touchend"],Ob={mousedown:"mousemove",pointerdown:"pointermove",touchstart:"touchmove"},Pb=function(P){function k(a){var g=P.call(this,h({},k.defaultAdapter,a))||this;return g.savedTabIndex_=NaN,g.active_=!1,g.inTransit_=!1,g.isDiscrete_=!1,g.hasTrackMarker_=!1,g.handlingThumbTargetEvt_=!1,g.min_=0,g.max_=100,g.step_=0,g.value_=0,g.disabled_=!1,g.preventFocusState_=!1,g.thumbContainerPointerHandler_=function(){return g.handlingThumbTargetEvt_=!0},g.interactionStartHandler_=
function(G){return g.handleDown_(G)},g.keydownHandler_=function(G){return g.handleKeydown_(G)},g.focusHandler_=function(){return g.handleFocus_()},g.blurHandler_=function(){return g.handleBlur_()},g.resizeHandler_=function(){return g.layout()},g}return e(k,P),Object.defineProperty(k,"cssClasses",{get:function(){return Ja},enumerable:!0,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return Da},enumerable:!0,configurable:!0}),Object.defineProperty(k,"numbers",{get:function(){return ab},
enumerable:!0,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},addClass:function(){},removeClass:function(){},getAttribute:function(){return null},setAttribute:function(){},removeAttribute:function(){},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabIndex:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},registerThumbContainerInteractionHandler:function(){},
deregisterThumbContainerInteractionHandler:function(){},registerBodyInteractionHandler:function(){},deregisterBodyInteractionHandler:function(){},registerResizeHandler:function(){},deregisterResizeHandler:function(){},notifyInput:function(){},notifyChange:function(){},setThumbContainerStyleProperty:function(){},setTrackStyleProperty:function(){},setMarkerValue:function(){},appendTrackMarkers:function(){},removeTrackMarkers:function(){},setLastTrackMarkersStyleProperty:function(){},isRTL:function(){return!1}}},
enumerable:!0,configurable:!0}),k.prototype.init=function(){var a=this;this.isDiscrete_=this.adapter_.hasClass(Ja.IS_DISCRETE);this.hasTrackMarker_=this.adapter_.hasClass(Ja.HAS_TRACK_MARKER);sb.forEach(function(g){a.adapter_.registerInteractionHandler(g,a.interactionStartHandler_);a.adapter_.registerThumbContainerInteractionHandler(g,a.thumbContainerPointerHandler_)});this.adapter_.registerInteractionHandler("keydown",this.keydownHandler_);this.adapter_.registerInteractionHandler("focus",this.focusHandler_);
this.adapter_.registerInteractionHandler("blur",this.blurHandler_);this.adapter_.registerResizeHandler(this.resizeHandler_);this.layout();this.isDiscrete_&&0===this.getStep()&&(this.step_=1)},k.prototype.destroy=function(){var a=this;sb.forEach(function(g){a.adapter_.deregisterInteractionHandler(g,a.interactionStartHandler_);a.adapter_.deregisterThumbContainerInteractionHandler(g,a.thumbContainerPointerHandler_)});this.adapter_.deregisterInteractionHandler("keydown",this.keydownHandler_);this.adapter_.deregisterInteractionHandler("focus",
this.focusHandler_);this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_);this.adapter_.deregisterResizeHandler(this.resizeHandler_)},k.prototype.setupTrackMarker=function(){if(this.isDiscrete_&&this.hasTrackMarker_&&0!==this.getStep()){var a=this.getMin(),g=this.getMax(),G=this.getStep();a=(g-a)/G;var V=Math.ceil(a)!==a;(V&&(a=Math.ceil(a)),this.adapter_.removeTrackMarkers(),this.adapter_.appendTrackMarkers(a),V)&&this.adapter_.setLastTrackMarkersStyleProperty("flex-grow",String((g-
a*G)/G+1))}},k.prototype.layout=function(){this.rect_=this.adapter_.computeBoundingRect();this.updateUIForCurrentValue_()},k.prototype.getValue=function(){return this.value_},k.prototype.setValue=function(a){this.setValue_(a,!1)},k.prototype.getMax=function(){return this.max_},k.prototype.setMax=function(a){if(a<this.min_)throw Error("Cannot set max to be less than the slider's minimum value");this.max_=a;this.setValue_(this.value_,!1,!0);this.adapter_.setAttribute(Da.ARIA_VALUEMAX,String(this.max_));
this.setupTrackMarker()},k.prototype.getMin=function(){return this.min_},k.prototype.setMin=function(a){if(a>this.max_)throw Error("Cannot set min to be greater than the slider's maximum value");this.min_=a;this.setValue_(this.value_,!1,!0);this.adapter_.setAttribute(Da.ARIA_VALUEMIN,String(this.min_));this.setupTrackMarker()},k.prototype.getStep=function(){return this.step_},k.prototype.setStep=function(a){if(0>a)throw Error("Step cannot be set to a negative number");this.isDiscrete_&&("number"!=
typeof a||1>a)&&(a=1);this.step_=a;this.setValue_(this.value_,!1,!0);this.setupTrackMarker()},k.prototype.isDisabled=function(){return this.disabled_},k.prototype.setDisabled=function(a){this.disabled_=a;this.toggleClass_(Ja.DISABLED,this.disabled_);this.disabled_?(this.savedTabIndex_=this.adapter_.getTabIndex(),this.adapter_.setAttribute(Da.ARIA_DISABLED,"true"),this.adapter_.removeAttribute("tabindex")):(this.adapter_.removeAttribute(Da.ARIA_DISABLED),isNaN(this.savedTabIndex_)||this.adapter_.setAttribute("tabindex",
String(this.savedTabIndex_)))},k.prototype.handleDown_=function(a){var g=this;if(!this.disabled_){this.preventFocusState_=!0;this.setInTransit_(!this.handlingThumbTargetEvt_);this.handlingThumbTargetEvt_=!1;this.setActive_(!0);var G=function(ia){g.handleMove_(ia)},V=Ob[a.type],ea=function sa(){g.handleUp_();g.adapter_.deregisterBodyInteractionHandler(V,G);tb.forEach(function(qa){return g.adapter_.deregisterBodyInteractionHandler(qa,sa)})};this.adapter_.registerBodyInteractionHandler(V,G);tb.forEach(function(sa){return g.adapter_.registerBodyInteractionHandler(sa,
ea)});this.setValueFromEvt_(a)}},k.prototype.handleMove_=function(a){a.preventDefault();this.setValueFromEvt_(a)},k.prototype.handleUp_=function(){this.setActive_(!1);this.adapter_.notifyChange()},k.prototype.getPageX_=function(a){return a.targetTouches&&0<a.targetTouches.length?a.targetTouches[0].pageX:a.pageX},k.prototype.setValueFromEvt_=function(a){a=this.getPageX_(a);a=this.computeValueFromPageX_(a);this.setValue_(a,!0)},k.prototype.computeValueFromPageX_=function(a){var g=this.max_,G=this.min_;
a=(a-this.rect_.left)/this.rect_.width;return this.adapter_.isRTL()&&(a=1-a),G+a*(g-G)},k.prototype.handleKeydown_=function(a){var g=this.getKeyId_(a);g=this.getValueForKeyId_(g);isNaN(g)||(a.preventDefault(),this.adapter_.addClass(Ja.FOCUS),this.setValue_(g,!0),this.adapter_.notifyChange())},k.prototype.getKeyId_=function(a){return"ArrowLeft"===a.key||37===a.keyCode?"ArrowLeft":"ArrowRight"===a.key||39===a.keyCode?"ArrowRight":"ArrowUp"===a.key||38===a.keyCode?"ArrowUp":"ArrowDown"===a.key||40===
a.keyCode?"ArrowDown":"Home"===a.key||36===a.keyCode?"Home":"End"===a.key||35===a.keyCode?"End":"PageUp"===a.key||33===a.keyCode?"PageUp":"PageDown"===a.key||34===a.keyCode?"PageDown":""},k.prototype.getValueForKeyId_=function(a){var g=this.max_,G=this.min_;g=this.step_||(g-G)/100;switch(this.adapter_.isRTL()&&("ArrowLeft"===a||"ArrowRight"===a)&&(g=-g),a){case "ArrowLeft":case "ArrowDown":return this.value_-g;case "ArrowRight":case "ArrowUp":return this.value_+g;case "Home":return this.min_;case "End":return this.max_;
case "PageUp":return this.value_+g*ab.PAGE_FACTOR;case "PageDown":return this.value_-g*ab.PAGE_FACTOR;default:return NaN}},k.prototype.handleFocus_=function(){this.preventFocusState_||this.adapter_.addClass(Ja.FOCUS)},k.prototype.handleBlur_=function(){this.preventFocusState_=!1;this.adapter_.removeClass(Ja.FOCUS)},k.prototype.setValue_=function(a,g,G){if(void 0===G&&(G=!1),a!==this.value_||G){G=this.min_;var V=this.max_;this.step_&&a!==G&&a!==V&&(a=this.quantize_(a));a<G?a=G:a>V&&(a=V);this.value_=
a;this.adapter_.setAttribute(Da.ARIA_VALUENOW,String(this.value_));this.updateUIForCurrentValue_();g&&(this.adapter_.notifyInput(),this.isDiscrete_&&this.adapter_.setMarkerValue(a))}},k.prototype.quantize_=function(a){return Math.round(a/this.step_)*this.step_},k.prototype.updateUIForCurrentValue_=function(){var a=this,g=this.min_,G=(this.value_-g)/(this.max_-g),V=G*this.rect_.width;this.adapter_.isRTL()&&(V=this.rect_.width-V);var ea=function(sa,qa){if(sa.document&&"function"==typeof sa.document.createElement&&
qa in y){sa=sa.document.createElement("div");var xa=y[qa];qa=xa.standard;xa=xa.prefixed;return qa in sa.style?qa:xa}return qa}(window,"transform"),ia=w(window,"transitionend");this.inTransit_&&this.adapter_.registerThumbContainerInteractionHandler(ia,function qa(){a.setInTransit_(!1);a.adapter_.deregisterThumbContainerInteractionHandler(ia,qa)});requestAnimationFrame(function(){a.adapter_.setThumbContainerStyleProperty(ea,"translateX("+V+"px) translateX(-50%)");a.adapter_.setTrackStyleProperty(ea,
"scaleX("+G+")")})},k.prototype.setActive_=function(a){this.active_=a;this.toggleClass_(Ja.ACTIVE,this.active_)},k.prototype.setInTransit_=function(a){this.inTransit_=a;this.toggleClass_(Ja.IN_TRANSIT,this.inTransit_)},k.prototype.toggleClass_=function(a,g){g?this.adapter_.addClass(a):this.adapter_.removeClass(a)},k}(O),Qb=function(P){function k(){return null!==P&&P.apply(this,arguments)||this}return e(k,P),k.attachTo=function(a){return new k(a)},Object.defineProperty(k.prototype,"value",{get:function(){return this.foundation_.getValue()},
set:function(a){this.foundation_.setValue(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"min",{get:function(){return this.foundation_.getMin()},set:function(a){this.foundation_.setMin(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"max",{get:function(){return this.foundation_.getMax()},set:function(a){this.foundation_.setMax(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"step",{get:function(){return this.foundation_.getStep()},
set:function(a){this.foundation_.setStep(a)},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"disabled",{get:function(){return this.foundation_.isDisabled()},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),k.prototype.initialize=function(){this.thumbContainer_=this.root_.querySelector(Da.THUMB_CONTAINER_SELECTOR);this.track_=this.root_.querySelector(Da.TRACK_SELECTOR);this.pinValueMarker_=this.root_.querySelector(Da.PIN_VALUE_MARKER_SELECTOR);this.trackMarkerContainer_=
this.root_.querySelector(Da.TRACK_MARKER_CONTAINER_SELECTOR)},k.prototype.getDefaultFoundation=function(){var a=this;return new Pb({hasClass:function(g){return a.root_.classList.contains(g)},addClass:function(g){return a.root_.classList.add(g)},removeClass:function(g){return a.root_.classList.remove(g)},getAttribute:function(g){return a.root_.getAttribute(g)},setAttribute:function(g,G){return a.root_.setAttribute(g,G)},removeAttribute:function(g){return a.root_.removeAttribute(g)},computeBoundingRect:function(){return a.root_.getBoundingClientRect()},
getTabIndex:function(){return a.root_.tabIndex},registerInteractionHandler:function(g,G){return a.listen(g,G)},deregisterInteractionHandler:function(g,G){return a.unlisten(g,G)},registerThumbContainerInteractionHandler:function(g,G){a.thumbContainer_.addEventListener(g,G)},deregisterThumbContainerInteractionHandler:function(g,G){a.thumbContainer_.removeEventListener(g,G)},registerBodyInteractionHandler:function(g,G){return document.body.addEventListener(g,G)},deregisterBodyInteractionHandler:function(g,
G){return document.body.removeEventListener(g,G)},registerResizeHandler:function(g){return window.addEventListener("resize",g)},deregisterResizeHandler:function(g){return window.removeEventListener("resize",g)},notifyInput:function(){return a.emit(Da.INPUT_EVENT,a)},notifyChange:function(){return a.emit(Da.CHANGE_EVENT,a)},setThumbContainerStyleProperty:function(g,G){a.thumbContainer_.style.setProperty(g,G)},setTrackStyleProperty:function(g,G){return a.track_.style.setProperty(g,G)},setMarkerValue:function(g){return a.pinValueMarker_.innerText=
g.toLocaleString()},appendTrackMarkers:function(g){for(var G=document.createDocumentFragment(),V=0;V<g;V++){var ea=document.createElement("div");ea.classList.add("l6");G.appendChild(ea)}a.trackMarkerContainer_.appendChild(G)},removeTrackMarkers:function(){for(;a.trackMarkerContainer_.firstChild;)a.trackMarkerContainer_.removeChild(a.trackMarkerContainer_.firstChild)},setLastTrackMarkersStyleProperty:function(g,G){a.root_.querySelector(Da.LAST_TRACK_MARKER_SELECTOR).style.setProperty(g,G)},isRTL:function(){return"rtl"===
getComputedStyle(a.root_).direction}})},k.prototype.initialSyncWithDOM=function(){var a=this.parseFloat_(this.root_.getAttribute(Da.ARIA_VALUENOW),this.value),g=this.parseFloat_(this.root_.getAttribute(Da.ARIA_VALUEMIN),this.min),G=this.parseFloat_(this.root_.getAttribute(Da.ARIA_VALUEMAX),this.max);g>=this.max?(this.max=G,this.min=g):(this.min=g,this.max=G);this.step=this.parseFloat_(this.root_.getAttribute(Da.STEP_DATA_ATTR),this.step);this.value=a;this.disabled=this.root_.hasAttribute(Da.ARIA_DISABLED)&&
"false"!==this.root_.getAttribute(Da.ARIA_DISABLED);this.foundation_.setupTrackMarker()},k.prototype.layout=function(){this.foundation_.layout()},k.prototype.stepUp=function(a){void 0===a&&(a=this.step||1);this.value+=a},k.prototype.stepDown=function(a){void 0===a&&(a=this.step||1);this.value-=a},k.prototype.parseFloat_=function(a,g){a=parseFloat(a);return"number"==typeof a&&isFinite(a)?a:g},k}(x);window.PLANETCALC={dialogIndex:2E3,init:function(P){function k(a){var g=a+"_menu",G=document.getElementById("btn_"+
g);G&&G.addEventListener("click",function(){if(!(V=window.app_menus[g])){var V,ea=document.getElementById(g);ea&&((V=PLANETCALC.menu(ea)).setIsHoisted(!0),V.setAnchorElement(G),window.app_menus[g]=V)}return V.open=!V.open,!1})}window.MathJax&&window.MathJax.Hub.Config({"HTML-CSS":{linebreaks:{automatic:!0,width:"container"}}});P=P||document;Q(P,"fe",u);Q(P,"j4",Nb);Q(P,"c2",L);Q(P,"u2",ka);Q(P,"j2",T);Q(P,"x6",la);Q(P,"_",jb);window.app_menus={};k("change_language");k("profile");k("main")},slider:function(P){return new Qb(P)},
menu:function(P){P=new bb(P);return P.showNear=F,P},select:function(P){return new jb(P)},dialog:function(P){P=new R(P);return P.foundation_.adapter_.isDialog=function(k){return!0},P},element:function(P,k,a){P=document.createElement(P);return P.className=k,a&&a.appendChild(P),P},snackbar:function(P){var k={dismiss:function(){P.classList.remove("le");P.__timerid=0},open:function(){P.classList.remove("le");P.classList.add("le")}};k.open();var a=P.querySelectorAll(".te");a.length?a.forEach(function(g){g.addEventListener("click",
function(){k.dismiss()})}):(P.__timerid&&clearTimeout(P.__timerid),a=setTimeout(function(){k.dismiss()},5E3),P.__timerid=a);return k}}}]);
function PCUserDataHandler(b){function c(r){for(var t=window.CurrentPageCalculators,u=0;u<t.length;++u)if(t[u].CalculatorID==r)return $(t[u].Dialog.GetElement()).find(".y9").first().text();return""}function d(r){var t=0,u;for(u in r)if("string"===typeof r[u]&&"[{"==r[u].substr(0,2))try{var F=JSON.parse(r[u]);t+=F.reduce(function(Q,p){return Q+(p.file?p.file.size:0)},0)}catch(Q){}return t}function e(r){q||"function"!=typeof PCUserDataHandlerImpl||(q=new PCUserDataHandlerImpl(b));q&&r(q)}var f=b.calcid,
m=this,l=PageCalculators.getById(f),w=null;$("#"+b.id).find(".pc-btn-new,.pc-btn-embed,.pc-btn-share").on("click",function(r){r=$(r.currentTarget);w=r.hasClass("pc-btn-share")?"share":r.hasClass("pc-btn-embed")?"embed":null;l.save();return!1});$("#"+b.id).find(".pc-btn-embed-wol").on("click",function(r){if(r=window.embeddialog){var t=dialoghandlerembed_calculator.data;t.calculator!=b.calcid&&(t.calculator=b.calcid,t.label=c(b.calcid),dialoghandlerembed_calculator.prepare(t));r.open()}else BSMakePOSTRequest("/frame/embed/",
{OnResponseText:function(u){u=$(document.body).append(u).find("#dialogembed_calculator");PLANETCALC.init(u[0]);u=PLANETCALC.dialog(u[0]);u.listen("MDCDialog:cancel",function(){dialoghandlerembed_calculator.oncommand("cancel")});window.embeddialog=u;u.open()}},{id:b.calcid})});$("#"+b.tableid).find(".pc-btn-save").on("click",function(){l.save(b.getTableHandler().getSelected()[0].id);return!1});l.addEventListener("save",function(r){var t=[];t.push({id:r.detail.data,calculator:f,data:r.detail.values});
r=t[0].data;var u=d(r);32768<u?alert(formatMessage(PCL.err_save_long_file,PSS.getHRSize(u),PSS.getHRSize(32768))):(r=PSS.utfSize(JSON.stringify(r)),65535<r?alert(formatMessage(PCL.err_data_too_long,PSS.getHRSize(r),PSS.getHRSize(65535))):(t=JSON.stringify(t),BSMakePOSTRequest("/service/userdata/save/",{OnResponse:function(F){l.setProfile(F[f],!0);switch(w){case "embed":m.embed(F[f].id);break;case "share":m.share(F[f].id)}w=null},OnError:function(F){if(5==F.code){var Q=document.location,p=F.domain+
"/",h=window.location.pathname.match(/\/(\d+)\//);Q.href=p+(h?h[1]:0)+"/?loginrequirednow=1&_ud="+F.data+"&_act="+w}w=null}},{data:t})))});var q=null;m.share=function(r){e(function(t){t.share(r)})};m.embed=function(r){e(function(t){t.embed(r)})};m.loadData=function(r){e(function(t){t.loadData(r)})};m.delete=function(r,t,u){e(function(F){F.delete(r,t,u)})};m.update=function(r,t,u){e(function(F){F.update(r,t,u)})};m.getRecords=function(r,t,u,F,Q,p){e(function(h){h.getRecords(r,t,u,F,Q,p)})}}
function CalculatorHandler(b,c){function d(h,y){h=h.Header.Columns;for(var K in y)h[K].visible=y[K]}function e(h,y){var K=h.Header;y.forEach(function(O){K.CloneColumn(O[0],O[1],O[2],O[3])})}function f(h){q.Dialog.calculate&&$(q.Dialog.GetElement()).prop("disabled",!h)}function m(h){$("#"+q.Dialog.GetElement().id+"_calculate").find("span").text(h)}function l(h){var y=b.getInputs(),K;for(K in y)h(y[K])}function w(h,y){q.HideCommonError();0!=r&&(1==r?(h&&q.setTimerIcon(!0),1!=b.infinite&&q.enableOutputs(!1)):
2==r&&(r=3,b.stop()),h&&(y?(t&&clearTimeout(t),t=setTimeout(function(){t=0;b.start()},y)):b.start()))}var q=this;q.CalculatorID=b.id;var r=0,t=0,u=!0,F=(b.asyncLoad||0)+1,Q=PSS.adapter(b.adapter),p={opts:function(h,y){q.Dialog[y].GetElementAccessor().showOptions(h)},newopts:function(h,y){q.Dialog[y].GetElementAccessor().replaceOptions(h)},show:function(h,y){y=q.Dialog[y];h?y.Show():y.Hide()},table:function(h,y){y=b.tables[y];h?y.ShowTable():y.HideTable()},graph:function(h,y){y=b.diagrams[y];h?y.Show():
y.Hide()},showboth:function(h,y){if(b.tables&&b.tables[y]){var K=b.tables[y];h?K.Show():K.Hide()}b.diagrams&&b.diagrams[y]&&(y=b.diagrams[y],h?y.Show():y.Hide())},columns:function(h,y){d(b.tables[y],h)},series:function(h,y){d(b.diagrams[y],h)},clones:function(h,y){e(b.tables[y],h)},sclones:function(h,y){e(b.diagrams[y],h)}};q.initdialog=function(h){q.Dialog=h;if(b.global){var y=window.CurrentPageCalculators;y?y.push(q):window.CurrentPageCalculators=[q]}f(!1);q.setTimerIcon(!0);b.init(q,h)};q.onReady=
function(){0==--F&&(r=1,f(!0),b.startOnLoad?q.Dialog.Validate()&&b.start():q.setTimerIcon(!1))};q.onStart=function(h){q.setTimerIcon(!0);h?(r=2,m(c.stop)):q.enableOutputs(!1)};q.onStop=function(h){t||q.setTimerIcon(!1);1!=r&&m(c.calculate);r=1;if(h)q.onError(h);else{if(q.mustfire)for(q.mustfire=!1,h=0;h<q.sinks.change.length;++h)q.sinks.change[h]();for(h=0;h<q.sinks.done.length;++h)try{q.sinks.done[h]()}catch(y){}t||q.enableOutputs(!0)}};q.onError=function(h){if(-1!=window.location.href.indexOf("debug"))throw h;
h.source&&q.Dialog[h.source]?q.Dialog[h.source].ShowError(h.message):q.ShowCommonError(h.message);q.enableOutputs(!1)};q.ShowCommonError=function(h){var y=document.getElementById("hlp_default_"+q.Dialog.GetElement().id);y?(y.innerHTML=h,h=$(y),h.parent().removeClass("x"),h.parent().prev().addClass("k8")):alert(h)};q.HideCommonError=function(){var h=document.getElementById("hlp_default_"+q.Dialog.GetElement().id);h&&(h.innerHTML="",h=$(h),h.parent().addClass("x"),h.parent().prev().removeClass("k8"))};
q.GetInputValues=function(){var h={};l(function(y){h[y.id]=q.Dialog[y.id].GetValue()});return h};q.setTimerIcon=function(h){var y=q.Dialog._progress_,K="block";y?y=y.GetElement():(y=document.getElementById(q.Dialog.GetElement().id+"_timerplace"),K="inline-block");y&&(y.style.display=h?K:"none")};q.enableOutputs=function(h){if(u!=h){u=h;var y=b.getOutputs(),K={opacity:h?1:0};y.forEach(function(O){O.visibleOnProgress||(O=$(O.GetElementToShow()),b.timeout?O.css({}).animate(K,250):O.css(K))})}};q.onkeypressed=
function(h,y){b.timeout||setTimeout(function(){q.Dialog.Validate()&&w(b.auto,0)},20);return!0};q.profile=0;q.sinks={change:[],done:[],profile:[],save:[]};q.mustfire=!1;q.addEventListener=function(h,y){(h=q.sinks[h])&&h.push(y)};q.removeEventListener=function(h,y){if(h=q.sinks[h])for(var K=0;K<h.length;++K)if(h[K]==y){h.splice(K,1);break}};q.setProfile=function(h,y){(q.profile=h)?(q.setInputData(q.profile.data),$(q.Dialog.GetElement()).find(".ba").html(PCF.formatProfile(h))):q.Dialog.Clear();q.update();
for(var K=0;K<q.sinks.profile.length;++K)q.sinks.profile[K]({detail:{profile:h,created:y}})};q.getProfile=function(){return q.profile};q.update=function(){q.mustfire=!1;q.Dialog.Validate()&&0!=r&&b.start()};q.getInputData=function(h){h=q.GetInputValues();return Q.encode(h)};q.setInputData=function(h){q.Dialog.SetValues(Q.decode(h))};q.loadFromUrl=function(){q.setInputData(PSS.getInputValues(q.CalculatorID));q.update()};q.save=function(h){for(var y=q.getInputData(),K=0;K<q.sinks.save.length;++K)q.sinks.save[K]({detail:{values:y,
data:h}})};q.oninit=function(h){q.onReady()};q.onchanged=function(h){q.Dialog[h].ValidateCurrent()&&q.Dialog.Validate()?0!=r&&(q.mustfire=!0,w(b.auto,b.timeout)):(q.mustfire=!1,q.enableControls(!1))};q.recalculate=function(h){q.Dialog.Validate()&&w(!0,b.timeout)};q.refresh=function(){q.Dialog.Validate()&&b.start()};q.oncommand=function(h){t&&(clearTimeout(t),t=0);2==r?(r=3,b.stop()):q.Dialog.Validate()&&b.start()};q.onSuccess=function(h){b.setResult(h,!0)};q.onProgress=function(h,y){b.setResult(y,
!1)};q.onDisplay=function(h,y){b.resetDisplay();for(var K in h)for(var O in h[K])p[O](h[K][O],K);q.Dialog.layout();y&&y(b.getInputValues())}}function CalcProgressData(){var b=this;b.shouldContinue=!1;b.shouldStop=!1;b.readyListener=null;b.ready=!1;b.progress=!1;b.controls=[];b.clear=function(){b.controls.forEach(function(c){c.context=null});b.progress=!1;b.shouldContinue=!1;b.shouldStop=!1}}
function CalcProgressControl(b){var c=this,d=b?b:new CalcProgressData,e=c.context=null,f=null;c.isInProgress=function(){return d.progress};d.controls.push(c);c.stop=function(){d.shouldStop=!0};c.repeat=function(m,l){d.shouldStop||(void 0!==m&&(c.context=m),f=null,e="number"==typeof l?[new Promise(function(w){setTimeout(w,l,l)})]:"object"==typeof l?l.length?l:[l]:null,d.shouldContinue=!0,d.progress=!0)};c.completed=function(){return!d.shouldContinue};c.stopped=function(){return d.shouldStop};c.shouldRepeat=
function(){var m=d.shouldContinue&&!d.shouldStop;d.shouldContinue=!1;d.shouldStop=!1;return m};c.onDataReady=function(){d.ready=!0;d.readyListener&&d.readyListener()};c.addEventListener=function(m,l){"ready"==m&&(d.readyListener=l);d.ready&&l()};c.clear=function(){d.clear()};c.getData=function(){return d};c.getSettled=function(){return f};c.afterPromises=function(m){e?Promise.allSettled(e).then(function(l){f=l;m(!1)}):m(!0)}}
function DisplayAggregator(){function b(f,m,l){e[f]||(e[f]={});m&&!e[f][m]&&(e[f][m]=l)}function c(f){var m={},l;for(l in f)m[l]=f[l];return m}var d=this,e={};d.getData=function(){return e};d.simple=function(f,m){return{GetValue:function(){return f},Display:function(l){b(m);e[m].show=!!l}}};d.options=function(f,m){f=d.simple(f,m);f.ReplaceOptions=function(l){b(m);e[m].newopts=c(l)};f.DisplayOptions=function(l){b(m);e[m].opts=c(l)};return f};d.table=function(f,m){return{GetValue:function(){return f},
Display:function(l){b(m);e[m].showboth=!!l},DisplayColumn:function(l,w){b(m,"clones",[]);b(m,"columns",{});e[m].columns[l]=!!w},CloneColumn:function(){b(m,"clones",[]);e[m].clones.push(Array.prototype.slice.call(arguments))},DisplaySeries:function(l,w){b(m,"sclones",[]);b(m,"series",{});e[m].series[l]=!!w},CloneSeries:function(){b(m,"sclones",[]);e[m].sclones.push(Array.prototype.slice.call(arguments))},DisplayTable:function(l){b(m);e[m].table=!!l},DisplayGraph:function(l){b(m);e[m].graph=!!l}}}}
function CalcController(b,c){function d(F){b.onError(F)}function e(F){return Planetcalc[F+c]}function f(F){return 1==F.length?F[0]:F.reduce(function(Q,p){for(var h in p)Q[h]=p[h];return Q},{})}function m(F,Q){for(var p in F){var h=F[p];if("object"===typeof h&&Q(h))return!0}}function l(F,Q,p){try{var h=e("Display");if(h){var y=new DisplayAggregator;h.call(Planetcalc,F,y);var K=y.getData();F=!1;Q?m(K,function(O){O.opts&&delete O.opts;O.newopts&&delete O.newopts}):p&&(F=m(K,function(O){return O.opts||
O.newopts}));b.onDisplay(K,F?p:null);return F}}catch(O){d(O)}return!1}function w(F,Q,p){var h=e("Data");h?h.call(Planetcalc,F,Q,p):Q({})}function q(F,Q,p,h){try{var y=e("Calculate").call(Planetcalc,F,h);y&&y.then&&"function"===typeof y.then?y.then(Q).catch(p):Q(y)}catch(K){p(K)}}function r(F){q(F,function(Q){l(f([F,Q]),!0);b.onSuccess(Q)},d,function(Q,p){l(f([F,p]),!0);b.onProgress(Q,p)})}function t(F){for(var Q in F)return!0;return!1}function u(F){w(F,function(Q){if(t(Q)){var p=f([F,Q]);l(p,!1,function(h){r(f([h,
Q]))})||r(p)}else r(F)},d)}this.getByName=e;this.onCalculate=function(F){l(F,!1,function(Q){u(Q)})||u(F)}}
var PCMarshal={proxy:{bignumber:function(b){return b.toString()},math:function(b){var c=typeof b;return{t:c,v:"object"==c?PCM.getMath(b):b}}},stub:{bignumber:function(b){return PCR.parse(b)},math:function(b){if("object"==b.t){var c=new PCM.grammar;b=new PCI.parserLine(b.v);c=PCI.match(b,c,c._getRootRule());return PCM.translate(c)}return b.v}},process:{record:function(b,c){var d={},e;for(e in b)d[e]=c[e]?c[e](b[e]):b[e];return d},recordset:function(b,c){for(var d=[],e=0;e<b.length;++e)d[e]=PCMarshal.process.record(b[e],
c);return d},array:function(b,c){for(var d=[],e=0;e<b.length;++e)d[e]=c(b[e]);return d},value:function(b,c){return c[n]?c[n](b):b}}},PCcsv="object"==typeof PCcsv?PCcsv:function(){function b(c){if(window.Papa)c();else{var d=document.createElement("script");d.src="/plugins/papaparse/papaparse.min.js";d.onload=c;document.body.appendChild(d)}}return{load:function(c,d){b(function(){Papa.parse(c,{complete:d,skipEmptyLines:!0,delimitersToGuess:["\t","|",";",",",Papa.RECORD_SEP,Papa.UNIT_SEP]})})},save:function(c,
d,e){var f=e?{columns:e}:void 0;b(function(){d(Papa.unparse(c,f))})},save_to_file:function(c,d,e){this.save(c,function(f){var m=document.createElement("a");m.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(f));m.setAttribute("download",d);m.style.display="none";document.body.appendChild(m);m.click();document.body.removeChild(m)},e)}}}();
!function(b){function c(e){if(d[e])return d[e].exports;var f=d[e]={i:e,l:!1,exports:{}};return b[e].call(f.exports,f,f.exports,c),f.l=!0,f.exports}var d={};c.m=b;c.c=d;c.d=function(e,f,m){c.o(e,f)||Object.defineProperty(e,f,{enumerable:!0,get:m})};c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};c.t=function(e,f){if((1&f&&(e=c(e)),8&f)||4&f&&"object"==typeof e&&e&&e.__esModule)return e;
var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:e}),2&f&&"string"!=typeof e)for(var l in e)c.d(m,l,function(w){return e[w]}.bind(null,l));return m};c.n=function(e){var f=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(f,"a",f),f};c.o=function(e,f){return Object.prototype.hasOwnProperty.call(e,f)};c.p="";c(c.s=1)}([,function(b,c,d){function e(B,z){var A="function"==typeof Symbol&&B[Symbol.iterator];if(!A)return B;var I;B=A.call(B);
var M=[];try{for(;(void 0===z||0<z--)&&!(I=B.next()).done;)M.push(I.value)}catch(W){var L={error:W}}finally{try{I&&!I.done&&(A=B.return)&&A.call(B)}finally{if(L)throw L.error;}}return M}function f(){for(var B=[],z=0;z<arguments.length;z++)B=B.concat(e(arguments[z]));return B}function m(B){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(B)}
function l(B,z){for(var A=0;A<z.length;A++){var I=z[A];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);Object.defineProperty(B,(M=I.key,L=void 0,L=function(W,X){if("object"!==m(W)||null===W)return W;var D=W[Symbol.toPrimitive];if(void 0!==D){W=D.call(W,X||"default");if("object"!==m(W))return W;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===X?String:Number)(W)}(M,"string"),"symbol"===m(L)?L:String(L)),I)}var M,L}function w(B,z){return(w=
Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,I){return A.__proto__=I,A})(B,z)}function q(B){var z=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}();return function(){var A=r(B);if(z){var I=r(this).constructor;A=Reflect.construct(A,arguments,I)}else A=A.apply(this,arguments);if(!A||"object"!==
m(A)&&"function"!=typeof A){if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");A=this}return A}}function r(B){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(B)}function t(){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(B,z,A){var I;for(I=B;!Object.prototype.hasOwnProperty.call(I,
z)&&null!==(I=Q(I)););if(I)return I=Object.getOwnPropertyDescriptor(I,z),I.get?I.get.call(3>arguments.length?B:A):I.value}).apply(this,arguments)}function u(B,z){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,I){return A.__proto__=I,A})(B,z)}function F(B){var z=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),
!0}catch(A){return!1}}();return function(){var A=Q(B);if(z){var I=Q(this).constructor;A=Reflect.construct(A,arguments,I)}else A=A.apply(this,arguments);if(!A||"object"!==p(A)&&"function"!=typeof A){if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");A=this}return A}}function Q(B){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||
Object.getPrototypeOf(z)})(B)}function p(B){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(B)}function h(B,z){if(!(B instanceof z))throw new TypeError("Cannot call a class as a function");}function y(B,z){for(var A=0;A<z.length;A++){var I=z[A];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);Object.defineProperty(B,
(M=I.key,L=void 0,L=function(W,X){if("object"!==p(W)||null===W)return W;var D=W[Symbol.toPrimitive];if(void 0!==D){W=D.call(W,X||"default");if("object"!==p(W))return W;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===X?String:Number)(W)}(M,"string"),"symbol"===p(L)?L:String(L)),I)}var M,L}function K(B,z,A){return z&&y(B.prototype,z),A&&y(B,A),Object.defineProperty(B,"prototype",{writable:!1}),B}d.r(c);var O=function(){function B(z){void 0===z&&(z={});this.adapter_=
z}return Object.defineProperty(B,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(B,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(B,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(B,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),B.prototype.init=function(){},B.prototype.destroy=function(){},B}();b=function(){function B(z,A){for(var I=[],M=2;M<
arguments.length;M++)I[M-2]=arguments[M];this.root_=z;this.initialize.apply(this,f(I));this.foundation_=void 0===A?this.getDefaultFoundation():A;this.foundation_.init();this.initialSyncWithDOM()}return B.attachTo=function(z){return new B(z,new O({}))},B.prototype.initialize=function(){for(var z=0;z<arguments.length;z++);},B.prototype.getDefaultFoundation=function(){throw Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class");},B.prototype.initialSyncWithDOM=
function(){},B.prototype.destroy=function(){this.foundation_.destroy()},B.prototype.listen=function(z,A){this.root_.addEventListener(z,A)},B.prototype.unlisten=function(z,A){this.root_.removeEventListener(z,A)},B.prototype.emit=function(z,A,I){var M;void 0===I&&(I=!1);"function"==typeof CustomEvent?M=new CustomEvent(z,{bubbles:I,detail:A}):(M=document.createEvent("CustomEvent")).initCustomEvent(z,I,!1,A);this.root_.dispatchEvent(M)},B}();var x={BUTTON_EDIT_SELECTOR:".pc-btn-edit",BUTTON_REMOVE_SELECTOR:".pc-btn-delete",
CHECKBOX_SELECTOR:"input[type='checkbox'],input[type=radio]",TITLE_SELECTOR:".o",ITEMS_TITLE_SELECTOR:".n9",SORT_COLUMN_HEADER_SELECTOR:".pc-column-header[aria-sort]",COLUMN_HEADER_SELECTOR:".pc-column-header",REQUEST_DATA_EVENT:"request_data",DELETE_EVENT:"delete",EDIT_EVENT:"edit",SELECT_EVENT:"selected",PAGING_SELECTOR:".w",SELECT_SELECTOR:"select",CURRENT_PAGE_SELECTOR:".cb",PATTERN_ATTRIBUTE:"data-pattern",PAGESIZE_ATTRIBUTE:"data-pagesize",BUTTON_PREV_SELECTOR:".pc-button-prev",SORT_ASC_SELECTOR:".y",
SORT_DESC_SELECTOR:".hb",SORT_DESC:"descending",SORT_ASC:"ascending",SORT_NONE:"none",SORT_ATTRIBUTE:"aria-sort",BUTTON_NEXT_SELECTOR:".pc-button-next",BUTTON_SINGLESELECT:".pc-btn__single",BUTTON_MULTISELECT:".pc-btn__multi",LINE_EDIT_SELECTOR:".pc-btn-edit-line",FOCUS_SELECTOR:".pc-grid-focus",SELECTION_FRAME_SELECTOR:".cf",PRESELECTION_FRAME_SELECTOR:".ef",SELECTION_HANDLE_SELECTOR:".ff",SELECTION_TYPE_FRAME:"frame",SELECTION_TYPE_CHECKBOX:"check",CELL_SELECT_EVENT:"selected.cell",PASTE_EVENT:"paste"},
H={HIDDEN:"x",SELECTED:"j7"},J=function(B){function z(){var L,W=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");return(L=M.call(this,Object.assign(z.defaultAdapter,W))).startIndex_=0,L.pageSize_=20,L.total_=0,L.allocatedRows_=1,L.visibleRows_=0,L.selected_={},L.selectedCount_=0,L.sortColumn_=-1,L.sortMode_=void 0,L.sortColumnClick_=function(X){L.onSortColumnClick_(X)},L.selectAllChanged_=function(X){L.onSelectAllChanged_(X)},
L.editClicked_=function(X){L.onEditClicked_(X)},L.removeClicked_=function(X){L.onRemoveClicked_(X)},L.selectRowChanged_=function(X){L.onSelectRowChanged_(X)},L.pageSizeChanged_=function(X){L.onPageSizeChanged_(X)},L.nextPageClicked_=function(X){L.onNextPageClicked_(X)},L.prevPageClicked_=function(X){L.onPrevPageClicked_(X)},L}!function(L,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(W&&W.prototype,{constructor:{value:L,
writable:!0,configurable:!0}});Object.defineProperty(L,"prototype",{writable:!1});W&&w(L,W)}(z,B);var A,I,M=q(z);return I=[{key:"cssClasses",get:function(){return H}},{key:"strings",get:function(){return x}},{key:"fakeButton",get:function(){return{registerClickHandler:function(){},deregisterClickHandler:function(){},disabled:!1}}},{key:"defaultAdapter",get:function(){return{getColumnClickEventData:function(){return{index:0,asc:void 0}},changeColumnSortOrder:function(){},requestData:function(){},notifyDelete:function(){},
notifyEdit:function(){},notifySelected:function(){},setRowSelected:function(){},setCheckAll:function(){},showHeader:function(){},showItemsHeader:function(){},setSelectedItemsText:function(){},showRows:function(){},appendRows:function(){},updatePageIndicator:function(){},showPageIndicator:function(){},getSelectRowEventData:function(){return{index:0,checked:!1,edit:!1}},setCellValue:function(){},getEditButton:function(){return z.fakeButton},getRemoveButton:function(){return z.fakeButton},getPrevButton:function(){return z.fakeButton},
getNextButton:function(){return z.fakeButton},getPageSelectedEventData:function(){return{pageSize:0}},registerColumnHeaderClickHandler:function(){},deregisterColumnHeaderClickHandler:function(){},registerSelectAllHandler:function(){},deregisterSelectAllHandler:function(){},registerSelectRowHandler:function(){},deregisterSelectRowHandler:function(){},registerSetPageSizeHandler:function(){},deregisterSetPageSizeHandler:function(){},isSingleSelection:function(){return!1},getRowStatistics:function(){return{total:0,
visible:0}}}}}],A=[{key:"init",value:function(){this.adapter_.registerColumnHeaderClickHandler(this.sortColumnClick_);this.adapter_.registerSelectAllHandler(this.selectAllChanged_);this.adapter_.getEditButton().registerClickHandler(this.editClicked_);this.adapter_.getRemoveButton().registerClickHandler(this.removeClicked_);var L=this.adapter_.getRowStatistics();this.allocatedRows_=L.total;this.visibleRows_=L.visible;for(var W=0;W<L.total;++W)this.adapter_.registerSelectRowHandler(W,this.selectRowChanged_);
this.adapter_.registerSetPageSizeHandler(this.pageSizeChanged_);this.adapter_.getNextButton().registerClickHandler(this.nextPageClicked_);this.adapter_.getPrevButton().registerClickHandler(this.prevPageClicked_)}},{key:"destroy",value:function(){this.adapter_.deregisterColumnHeaderClickHandler(this.sortColumnClick_);this.adapter_.deregisterSelectAllHandler(this.selectAllChanged_);this.adapter_.getEditButton().deregisterClickHandler(this.editClicked_);this.adapter_.getRemoveButton().deregisterClickHandler(this.removeClicked_);
for(var L=0;L<this.allocatedRows_;++L)this.adapter_.deregisterSelectRowHandler(L,this.selectRowChanged_);this.adapter_.deregisterSetPageSizeHandler(this.pageSizeChanged_);this.adapter_.getNextButton().deregisterClickHandler(this.nextPageClicked_);this.adapter_.getPrevButton().deregisterClickHandler(this.prevPageClicked_)}},{key:"onSortColumnClick_",value:function(L){var W=this.adapter_.getColumnClickEventData(L);L=W.index;W=!0!==W.asc;this.sortColumn_!=L&&this.adapter_.changeColumnSortOrder(this.sortColumn_,
void 0);this.sortColumn_=L;this.sortMode_=W;this.adapter_.changeColumnSortOrder(L,W);this.adapter_.requestData(this.getStartIndex(),this.getPageSize(),L,W)}},{key:"onSelectAllChanged_",value:function(L){L=this.adapter_.getSelectRowEventData(L).checked;this.allRowSelection_(L)}},{key:"changeRowSelection_",value:function(L,W){if(W&&void 0===this.selected_[L]){if(this.adapter_.isSingleSelection()){for(var X in this.selected_){this.adapter_.setRowSelected(X,!1);delete this.selected_[X];break}this.selectedCount_=
1}else this.selectedCount_++;return this.selected_[L]=1,this.adapter_.setRowSelected(L,W),!0}return!(W||!this.selected_[L]||(this.selectedCount_--,delete this.selected_[L],this.adapter_.setRowSelected(L,W),0))}},{key:"onSelectRowChanged_",value:function(L){L=this.adapter_.getSelectRowEventData(L);var W=L.index,X=L.checked;L.edit?this.adapter_.notifyEdit(W+this.getStartIndex()):this.setRowSelected(W,X)&&this.notifySelected_()}},{key:"setRowSelected",value:function(L,W){var X=this.selectedCount_;L=
this.changeRowSelection_(L,W);return this.enableSelectionButtons_(X),L}},{key:"getStartIndex",value:function(){return this.startIndex_}},{key:"getPageSize",value:function(){return this.pageSize_}},{key:"getSortColumn",value:function(){return this.sortColumn_}},{key:"getSortDirection",value:function(){return this.sortMode_}},{key:"getTotalCount",value:function(){return this.total_}},{key:"setPageSize",value:function(L){this.pageSize_=L}},{key:"setInfo",value:function(L,W){if(this.startIndex_=L,this.total_=
W,0<W){var X=L+this.visibleRows_;this.adapter_.updatePageIndicator(L+1,X,W);this.adapter_.getPrevButton().disabled=0==L;this.adapter_.getNextButton().disabled=X==W}this.adapter_.showPageIndicator(0<W);this.allRowSelection_(!1)}},{key:"setData",value:function(L,W,X){if(this.allocatedRows_<L.length){this.adapter_.appendRows(L.length-this.allocatedRows_);for(var D=this.allocatedRows_;D<L.length;++D)this.adapter_.registerSelectRowHandler(D,this.selectRowChanged_);this.allocatedRows_=L.length}for(D=0;D<
L.length;++D)for(var U=L[D],Y=0;Y<U.length;++Y)this.adapter_.setCellValue(D,Y,U[Y]);this.visibleRows_<L.length?this.adapter_.showRows(!0,this.visibleRows_,L.length-this.visibleRows_):this.visibleRows_>L.length&&this.adapter_.showRows(!1,L.length,this.visibleRows_-L.length);this.visibleRows_=L.length;this.setInfo(W,X)}},{key:"setRowData",value:function(L,W){for(var X=0;X<W.length;++X)this.adapter_.setCellValue(L,X,W[X])}},{key:"allRowSelection_",value:function(L){for(var W=this.selectedCount_,X=L?
this.visibleRows_:0,D=0;D<this.visibleRows_&&this.selectedCount_!=X;++D)this.changeRowSelection_(D,L);this.enableSelectionButtons_(W)}},{key:"enableButtons_",value:function(L,W){for(var X=0;X<L.length;++X)L[X].disabled=!W}},{key:"enableSelectionButtons_",value:function(L){this.selectedCount_!=L&&(0<this.selectedCount_&&this.adapter_.setSelectedItemsText(PCL.items_selected.replace("%1",this.selectedCount_)),(L&&!this.selectedCount_||!L&&this.selectedCount_)&&(this.adapter_.isSingleSelection()||(this.adapter_.showHeader(0==
this.selectedCount_),this.adapter_.showItemsHeader(0<this.selectedCount_)),this.adapter_.getRemoveButton().disabled=0==this.selectedCount_,this.enableButtons_(this.adapter_.getMultiSelectButtons(),0<this.selectedCount_)),this.enableButtons_(this.adapter_.getSingleSelectButtons(),1==this.selectedCount_),this.adapter_.getEditButton().disabled=1!=this.selectedCount_,this.selectedCount_==this.visibleRows_?this.adapter_.setCheckAll(!0):this.adapter_.setCheckAll(!1))}},{key:"getSelectedArray_",value:function(){var L=
[],W;for(W in this.selected_)L.push(Number(W)+this.startIndex_);return L}},{key:"onEditClicked_",value:function(){var L=this.getSelectedArray_();1===L.length&&this.adapter_.notifyEdit(L[0])}},{key:"onRemoveClicked_",value:function(){var L=this.getSelectedArray_();this.adapter_.notifyDelete(L)}},{key:"onPageSizeChanged_",value:function(L){L=Number(this.adapter_.getPageSelectedEventData(L).pageSize);L!=this.pageSize_&&(this.pageSize_=L,this.adapter_.requestData(this.startIndex_-this.startIndex_%L,L,
this.sortColumn_,this.sortMode_))}},{key:"onNextPageClicked_",value:function(L){this.adapter_.requestData(this.startIndex_+this.pageSize_,this.pageSize_,this.sortColumn_,this.sortMode_)}},{key:"onPrevPageClicked_",value:function(L){this.adapter_.requestData(this.startIndex_>=this.pageSize_?this.startIndex_-this.pageSize_:0,this.pageSize_,this.sortColumn_,this.sortMode_)}},{key:"setSortColumn",value:function(L,W){this.sortColumn_=L;this.sortMode_=W}},{key:"notifySelected_",value:function(){var L=this.getSelectedArray_();
this.adapter_.notifySelected(L)}}],l(z.prototype,A),I&&l(z,I),Object.defineProperty(z,"prototype",{writable:!1}),z}(O),C=function(){function B(z){h(this,B);this.button_=z}return K(B,[{key:"disabled",get:function(){return!!this.button_&&this.button_.disabled},set:function(z){this.button_&&(this.button_.disabled=z)}},{key:"registerClickHandler",value:function(z){this.button_&&this.button_.addEventListener("click",z)}},{key:"unregisterClickHandler",value:function(z){this.button_&&this.button_.removeEventListener("click",
z)}}]),B}(),E=function(B){function z(){return h(this,z),A.apply(this,arguments)}!function(I,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,writable:!0,configurable:!0}});Object.defineProperty(I,"prototype",{writable:!1});M&&u(I,M)}(z,B);var A=F(z);return K(z,[{key:"initialize",value:function(){this.buttonEdit_=this.root_.querySelector(x.BUTTON_EDIT_SELECTOR);this.buttonRemove_=
this.root_.querySelector(x.BUTTON_REMOVE_SELECTOR);this.buttonImport_=this.root_.querySelector(x.BUTTON_IMPORT_SELECTOR);this.checkAll_=this.root_.querySelector("thead").querySelector(x.CHECKBOX_SELECTOR)||{addEventListener:function(){},removeEventListener:function(){}};this.title_=this.root_.querySelector(x.TITLE_SELECTOR);this.titleItems_=this.root_.querySelector(x.ITEMS_TITLE_SELECTOR);this.columns_=this.root_.querySelectorAll(x.COLUMN_HEADER_SELECTOR);this.sortColumns_=this.root_.querySelectorAll(x.SORT_COLUMN_HEADER_SELECTOR);
this.body_=this.root_.querySelector("tbody");this.header_=this.root_.querySelector("header");this.paging_=this.root_.querySelector(x.PAGING_SELECTOR);this.pageSizeSelect_=this.paging_.querySelector(x.SELECT_SELECTOR);this.currentPage_=this.paging_.querySelector(x.CURRENT_PAGE_SELECTOR);this.currentPagePattern_=this.currentPage_.getAttribute(x.PATTERN_ATTRIBUTE);this.buttonPrev_=this.paging_.querySelector(x.BUTTON_PREV_SELECTOR);this.buttonNext_=this.paging_.querySelector(x.BUTTON_NEXT_SELECTOR);this.buttonsSingle_=
this.createButtons_(x.BUTTON_SINGLESELECT);this.buttonsMulti_=this.createButtons_(x.BUTTON_MULTISELECT);var I=this.root_.querySelector("table").className;this.singleSelect_=I&&-1!=I.indexOf(H.SINGLESELECT)}},{key:"destroy",value:function(){t(Q(z.prototype),"destroy",this).call(this)}},{key:"initialSyncWithDOM",value:function(){this.foundation_.setPageSize(Number(this.pageSizeSelect_.value));for(var I=this.isSelectionEnabled()?1:0,M=0;M<this.columns_.length;++M){var L=this.columns_[M].getAttribute(x.SORT_ATTRIBUTE),
W=M-I;if(L==x.SORT_ASC){this.foundation_.setSortColumn(W,!0);break}if(L==x.SORT_DESC){this.foundation_.setSortColumn(W,!1);break}}}},{key:"pageSize",get:function(){return this.foundation_.getPageSize()}},{key:"startIndex",get:function(){return this.foundation_.getStartIndex()}},{key:"setData",value:function(I,M,L){this.foundation_.setData(I,M,L)}},{key:"setInfo",value:function(I,M){this.foundation_.setInfo(I,M)}},{key:"setRowData",value:function(I,M){this.foundation_.setRowData(I,M)}},{key:"sortColumn",
get:function(){return this.foundation_.getSortColumn()}},{key:"sortAsc",get:function(){return this.foundation_.getSortDirection()}},{key:"totalCount",get:function(){return this.foundation_.getTotalCount()}},{key:"selectedIndexes",get:function(){return this.foundation_.getSortColumn()}},{key:"getDefaultFoundation",value:function(){var I=this;return new J(Object.assign({getColumnClickEventData:function(M){for(M=M.target;M.parentNode&&"TH"!=M.nodeName.toUpperCase();)M=M.parentNode;for(var L=0;L<I.columns_.length;++L)if(I.columns_[L]==
M)return{index:L-(I.isSelectionEnabled()?1:0),asc:M.getAttribute(x.SORT_ATTRIBUTE)==x.SORT_ASC}},changeColumnSortOrder:function(M,L){M+=I.isSelectionEnabled()?1:0;if(0<=M&&M<I.columns_.length){var W=I.columns_[M].querySelector(x.SORT_ASC_SELECTOR),X=I.columns_[M].querySelector(x.SORT_DESC_SELECTOR);I.showElement_(W,!0===L);I.showElement_(X,!1===L);!0===L?I.columns_[M].setAttribute(x.SORT_ATTRIBUTE,x.SORT_ASC):!1===L?I.columns_[M].setAttribute(x.SORT_ATTRIBUTE,x.SORT_DESC):I.columns_[M].setAttribute(x.SORT_ATTRIBUTE,
x.SORT_NONE)}},requestData:function(M,L,W,X){I.emit(x.REQUEST_DATA_EVENT,{table:I,start:M,size:L,sortAsc:X,sortColumn:W})},notifyDelete:function(M){I.emit(x.DELETE_EVENT,{table:I,rows:M})},notifyEdit:function(M){I.emit(x.EDIT_EVENT,{table:I,row:M})},setCheckAll:function(M){I.checkAll_.checked=M},setRowSelected:function(M,L){var W=I.body_.querySelectorAll("tr");W.length>M&&(I.rowCheckbox_(M).checked=L,I.setClass_(W[M],L,H.SELECTED))},notifySelected:function(M){I.emit(x.SELECT_EVENT,{table:I,rows:M})},
showHeader:function(M){I.showElement_(I.title_,M)},showItemsHeader:function(M){I.showElement_(I.titleItems_,M);I.setClass_(I.header_,M,H.SELECTED)},setSelectedItemsText:function(M){I.titleItems_.innerHTML=M},showRows:function(M,L,W){for(var X=L;X<I.body_.rows.length&&X<L+W;++X)I.showElement_(I.body_.rows[X],M)},appendRows:function(M){for(var L=I.body_.rows[I.body_.rows.length-1],W=0;W<M;++W){var X=L.cloneNode(!0);I.body_.appendChild(X)}},updatePageIndicator:function(M,L,W){I.currentPage_.innerHTML=
I.currentPagePattern_.replace("%1",M+"-"+L).replace("%2",W)},showPageIndicator:function(M){I.showElement_(I.paging_,M)},getSelectRowEventData:function(M){for(var L=M.target,W={checked:L.checked};L.parentNode&&"TH"!=(L=L.parentNode).nodeName.toUpperCase();)if("TR"==L.nodeName.toUpperCase())for(var X=I.body_.querySelectorAll("tr"),D=0;D<X.length;++D)if(X[D]===L){W.index=D;break}return W.edit=-1!=M.currentTarget.className.indexOf(x.LINE_EDIT_SELECTOR.substr(1)),W},setCellValue:function(M,L,W){var X=
I.body_.querySelectorAll("tr");X.length>M&&(M=X[M].querySelectorAll("td"),L+=I.isSelectionEnabled()?1:0,M.length>L&&(M[L].innerHTML=W))},getRemoveButton:function(){return new C(I.buttonRemove_)},getEditButton:function(){return new C(I.buttonEdit_)},registerColumnHeaderClickHandler:function(M){for(var L=0;L<I.sortColumns_.length;++L)I.sortColumns_[L].addEventListener("click",M)},deregisterColumnHeaderClickHandler:function(M){for(var L=0;L<I.sortColumns_.length;++L)I.sortColumns_[L].removeEventListener("click",
M)},registerSelectAllHandler:function(M){I.checkAll_.addEventListener("change",M)},deregisterSelectAllHandler:function(M){I.checkAll_.removeEventListener("change",M)},registerSelectRowHandler:function(M,L){I.rowCheckbox_(M).addEventListener("change",L);I.rowEditButton_(M).addEventListener("click",L)},deregisterSelectRowHandler:function(M,L){I.rowCheckbox_(M).removeEventListener("change",L);I.rowEditButton_(M).removeEventListener("click",L)},getPrevButton:function(){return new C(I.buttonPrev_)},getNextButton:function(){return new C(I.buttonNext_)},
getPageSelectedEventData:function(M){return{pageSize:M.target.value}},registerSetPageSizeHandler:function(M){I.pageSizeSelect_.addEventListener("change",M)},deregisterSetPageSizeHandler:function(M){I.pageSizeSelect_.removeEventListener("change",M)},getSingleSelectButtons:function(){return I.buttonsSingle_},getMultiSelectButtons:function(){return I.buttonsMulti_},isSingleSelection:function(){return I.isSingleSelection()},getRowStatistics:function(){return I.getRowStatistics_()}}))}},{key:"rowControl_",
value:function(I,M){var L=this.body_.querySelectorAll("tr");if(L&&L.length>I)return L[I].querySelector(M)||{addEventListener:function(){},removeEventListener:function(){}}}},{key:"rowCheckbox_",value:function(I){return this.rowControl_(I,x.CHECKBOX_SELECTOR)}},{key:"rowEditButton_",value:function(I){return this.rowControl_(I,x.LINE_EDIT_SELECTOR)}},{key:"showElement_",value:function(I,M){this.setClass_(I,!M,H.HIDDEN)}},{key:"setClass_",value:function(I,M,L){I&&(M?I.classList.add(L):I.classList.remove(L))}},
{key:"isSingleSelection",value:function(){return this.singleSelect_}},{key:"isSelectionEnabled",value:function(){return void 0===this.firstRowCheckbox_&&(this.firstRowCheckbox_=this.rowCheckbox_(0)),void 0!==this.firstRowCheckbox_.tagName}},{key:"createButtons_",value:function(I){var M=[];I=this.root_.querySelectorAll(I);for(var L=0;L<I.length;++L)M.push(new C(I[L]));return M}},{key:"selected",get:function(){return this.foundation_.getSelectedArray_()}},{key:"setRowSelected",value:function(I,M,L){if(L)for(L=
0;L<this.foundation_.visibleRows_;++L)L!=I&&this.foundation_.setRowSelected(L,!M);this.foundation_.setRowSelected(I,M)}},{key:"clearSelection",value:function(){for(var I=0;I<this.foundation_.selected_.length;++I)this.foundation_.setRowSelected(I,!1)}},{key:"isHiddenElement_",value:function(I){return I.classList.contains(H.HIDDEN)}},{key:"getRowStatistics_",value:function(){for(var I={visible:0,total:this.body_.rows.length},M=0;M<I.total;++M)this.isHiddenElement_(this.body_.rows[M])||I.visible++;return I}}],
[{key:"attachTo",value:function(I){return new z(I)}}]),z}(b);window.PLANETCALC.tablegrid=function(B,z){return new E(B)}}]);
function DialogHandlerImportData(b,c){function d(F){var Q=$(q.Dialog.GetElement()),p=["none","inline"];Q.find("span.data-import").css("display",p[F?1:0]);Q.find("span.data-import-errors").css("display",p[F?0:1])}function e(){t.forEach(function(F){F.Hide()});u.forEach(function(F){F.Show()});d(1)}function f(F,Q,p,h){var y=0;void 0!==p&&(y=p[h]);return y?'<td class="uc" title="'+Q[y].replace('"','\\"')+'">'+F+"<sup>"+y+"</sup></td>":"<td>"+F+"</td>"}function m(F,Q,p,h,y){t.forEach(function(z){z.Show()});
u.forEach(function(z){z.Hide()});d(0);var K=-1,O={};for(E in Q){var x=Number(E);K<x-1&&(0!=x-1||!y)&&(O[x-1]=p[x-1]);K<x&&(O[x]=p[x]);K<x+1&&x+1<p.length&&(O[x+1]=p[x+1],K=x+1)}var H='<div class="n" style="max-height:20em;"><table><tr><th>#</th>';h.forEach(function(z){H+="<th>"+z+"</th>"});H+="</tr>";var J=0;K='<tr><td colspan="'+(h.length+1)+'">...</td></tr>';y=y?0:1;for(var C in O){var E=Number(C);x=E+y;x!=J+1&&(H+=K);H+="<tr>"+f(x,F,Q[E],"0");J=O[E];for(var B=0;B<h.length;++B)H+=f(J[B],F,Q[E],
h[B]);H+="</tr>";J=x}J-y<p.length-1&&(H+=K);H+='</table></div><div class="k8 e4">';for(B=1;B<F.length;++B)H+="<p><sup>"+B+"</sup> "+F[B]+"</p>";H+="</div>";q.Dialog.errors.SetValue(H)}function l(F,Q){var p=F.indexOf(Q);-1==p&&(p=F.length,F.push(Q));return p}function w(F){var Q=[],p={},h=[""];F.errors.length&&F.errors.forEach(function(I){void 0!==I.row&&(p[I.row]={0:l(h,I.message)})});var y=F.data,K=!0;if(y.length){for(var O=y[0],x=0;x<O.length;++x)if(-1==c.indexOf(O[x])){K=!1;break}O=K?O:c;var H=
10;for(x=K?1:0;x<y.length;++x){for(var J={},C={},E=0;E<O.length;++E){var B=O[E];J[B]=y[x][E];var z=q.validators[B];z&&H&&(z=z.Validate(J[B]))&&(C[B]=l(h,z))}for(var A in C){H--;p[x]=C;break}q.EditHandler.Dialog.SetValues(J);Q.push(q.EditHandler.Dialog.GetValues())}}1<h.length?m(h,p,F.data,O,K):(r(Q),q.Dialog.Hide())}var q=this;q.EditHandler=b;var r,t=[],u=[];q.Show=function(F){var Q=q.Dialog;r=F;Q.SetDefaultValues();e();Q.Show()};q.initdialog=function(F){this.Dialog=F;t=[F.back,F.errors];u=[F.ok,
F.from_file,F.data];F=F.data.validator.validators;for(var Q={},p=0;p<c.length;++p)F[p]&&(Q[c[p]]=F[p]);q.validators=Q};q.onkeypressed=function(F,Q){return!0};q.onchanged=function(F){return"from_file"==F?(F=q.Dialog.from_file.GetElement(),PCcsv.load(F.files[0],w),F.value="",!0):q.Dialog.Validate()};q.oncommand=function(F){clearLastError();switch(F){case "ok":if(!q.Dialog.Validate())break;PCcsv.load(q.Dialog.data.GetValue(),w);break;case "back":e();break;default:q.Dialog.Hide()}}}
function FilterAccessor(b,c){var d=this;d.GetElement=function(){return b.GetElement()};d.GetValue=function(){return b.GetValue()};d.ResetValue=function(){b.ResetValue()};d.SetValue=function(e){b.SetValue(e)};d.GetParent=function(){return b.GetParent()};d.Filter=function(e){var f=d.GetValue();return f&&""!=f?e[c]==f:!0};d.GetRawValue=function(){return d.GetValue()}}
function ElementAccessorDynamicSelect(b,c,d,e,f,m,l,w){function q(){r.URL&&BSMakePOSTRequest(r.URL,{OnResponse:function(F){if(r.sort){var Q=new Recordset;Q.LoadFromArray(F);Q.SortAsc(r.fieldid);r.valuesarray=Q.GetRecordArray()}else r.valuesarray=F;w&&(r.valuesarray=w(r.valuesarray));r.valuesmap={};for(F=0;F<r.valuesarray.length;++F)r.valuesmap[r.valuesarray[F][r.pkFieldName]]=r.valuesarray[F];Q="";var p=!1,h=!1;for(F=0;F<r.valuesarray.length;++F){var y=r.valuesarray[F],K="";r.currentvalue[r.pkFieldName]==
y[r.pkFieldName]?(K='selected="selected"',p=!0):p||r.currentvalue[r.pkFieldName]!=y[r.fieldid]||(K="%selectedbyname%",h=!0);Q+='<OPTION VALUE="'+y[r.pkFieldName]+'" '+K+">"+y[r.fieldid]+"</OPTION>"}h&&(Q=Q.replace("%selectedbyname%",p?"":'selected="selected"'));Q.length&&(BSReplaceOptions(r.GetElement(),Q),t&&t(),r.GetElement().addEventListener("change",u));r.completed();r.completed=u}},r.params)}var r=this;b&&(r.URL=BSGetDataSourceOrigin()+b);r.PatchDefaultValue=function(F){if("object"==typeof F)return F;
var Q='({"'+r.pkFieldName+'" : ',p="string"==typeof F?'"':"";Q=Q+(p+F+p)+"})";eval(Q);return eval(Q)};r.params=c;r.fieldid=d;r.pkFieldName=""==f?d:f;r.currentvalue=r.PatchDefaultValue(e);r.initialvalue=r.currentvalue;r.valuesarray=[];r.sort=l;r.valuesmap={};var t=null,u=function(){t&&t()};r.completed=u;r.init=function(F,Q){r.completed=Q;q()};r.addEventListener=function(F,Q){"change"==F&&(t=Q)};r.changeSources=function(){return[r]};r.SetParams=function(F){r.params=F;q()};r.Query=function(F,Q){r.params=
Q;r.URL=BSGetDataSourceOrigin()+F;q()};r.GetElement=function(){return document.getElementById(r.id)};r.ResetValue=function(){r.SetValue(r.initialvalue)};r.GetValue=function(){var F=r.GetElement().value;F=r.valuesmap[F];return void 0!==F?F:""};r.GetRawValue=function(){return r.GetValue()};r.SetValue=function(F){"undefined"!=typeof r.GetElement().type&&(r.currentvalue=r.PatchDefaultValue(F),void 0!=r.valuesarray[r.currentvalue[r.pkFieldName]]?r.OnResponse(r.valuesarray):q())}}
function ElementAccessorSelectHandbook(b,c,d,e,f,m,l,w,q,r,t){var u=this;b&&(u.URL=BSGetDataSourceOrigin()+b);u.PatchDefaultValue=function(p){if("object"==typeof p)return p;var h='({"'+u.pkFieldName+'" : ',y="string"==typeof p?'"':"";h=h+(y+p+y)+"})";eval(h);return eval(h)};u.created=!1;u.params=c;u.fieldid=d;u.pkFieldName=""==f?d:f;u.currentvalue=u.PatchDefaultValue(e);u.initialvalue=u.currentvalue;u.valuesarray=[];u.valuesmap={};u.sort=l;u.filter={filter:function(p){return!0},data:{}};u.changeSources=
function(){return[u]};var F=null;u.addEventListener=function(p,h){"change"==p&&(F=h)};var Q=function(){F&&F()};u.completed=Q;u.init=function(p,h){u.completed=h;w&&w.forEach(function(y){var K=document.getElementById(u.id+"_"+y);K&&(u.filter.data[y]=K.value,K.addEventListener("change",function(){u.filter.data[y]=this.value;u.Refresh()}))});u.URL&&BSMakePOSTRequest(u.URL,u,u.params)};u.SetFilter=function(p){u.filter=p};u.SetParams=function(p){u.params=p;u.URL&&BSMakePOSTRequest(u.URL,u,u.params)};u.Query=
function(p,h){u.params=h;u.URL=BSGetDataSourceOrigin()+p;BSMakePOSTRequest(u.URL,u,u.params)};u.OnResponse=function(p){if(u.sort){var h=new Recordset;h.LoadFromArray(p);h.SortAsc(u.fieldid);u.valuesarray=h.GetRecordArray()}else u.valuesarray=p;t&&(u.valuesarray=t(u.valuesarray));u.valuesmap={};for(p=0;p<u.valuesarray.length;++p)u.valuesmap[u.valuesarray[p][u.pkFieldName]]=u.valuesarray[p];u.Refresh()};u.Refresh=function(){for(var p="",h=0,y=0;y<u.valuesarray.length;++y){var K=u.valuesarray[y];if(u.objectEquals(K,
u.filter.data)){var O=null,x=null;u.currentvalue[u.pkFieldName]==K[u.pkFieldName]&&(h=y);q&&(O=K[q]+"_thumb.png");if(r){x=r;for(var H in K)x=x.replace(new RegExp("%"+H+"%","g"),K[H])}p+='<li class="a1" role="option" id="grains" tabindex="0">';var J="";O&&(J='<img src="'+O+'" alt="'+K[u.fieldid]+'" class="j9"/>');J+=K[u.fieldid];x&&(J+='<span class="mdc-list-item__text__secondary">'+x+"</span>");p+=J+"</li>"}}u.GetElement().getElementsByClassName("z0")[0].innerHTML=p;u.control=PLANETCALC.select(u.GetElement());
u.control.listen("MDCSelect:change",Q);u.control.selectedIndex=h;u.completed();u.completed=Q};u.GetElement=function(){return document.getElementById(u.id)};u.ResetValue=function(){u.SetValue(u.initialvalue)};u.GetValue=function(){if(u.control)return u.valuesarray[u.control.selectedIndex]};u.GetRawValue=function(){return u.GetValue()};u.SetValue=function(p){if("undefined"!=typeof u.GetElement().type&&(u.currentvalue=u.PatchDefaultValue(p),u.control)){p=u.currentvalue[u.pkFieldName];for(var h=0;h<u.valuesarray.length;++h)if(u.valuesarray[h][u.pkFieldName]==
p){u.control.selectedIndex=h;break}}};u.GetParent=function(){return u.GetElement().parentNode.parentNode};u.objectEquals=function(p,h){for(var y in h)if(p[y]!=h[y])return!1;return!0}}
function ElementAccessorInputTable(b){var c=this;c.changeSources=function(){return[b]};c.GetElement=function(){return document.getElementById(c.id)};c.GetHandler=function(){return b};c.GetValue=function(){return c.GetHandler().accessor.data};c.GetRawValue=function(){return c.GetValue()};c.ResetValue=function(){c.GetHandler().accessor.data=[];c.GetHandler().Refresh()};c.SetValue=function(d){c.ResetValue();Array.isArray(d)&&(c.GetHandler().accessor.data=d);c.GetHandler().Refresh()};c.GetParent=function(){return c.GetElement()}}
function ValidatorImport(){this.validators=arguments;var b=new ValidatorNonempty;this.Validate=function(c){return b.Validate(c)}}function RecordFieldFormatterCSVImportStatus(){var b=new FormatterImage("Error"),c=new FormatterImage("Success");this.Format=function(d,e){return 0==e[d]?c.Format("/img/success.png"):b.Format("/img/error.png")}}function RecordFieldFormatterCSVImportValue(){this.Format=function(b,c){var d="__error_"+b;b=c[b];c[d]&&(b+='<p class="csverror">'+eval(c[d])+"</p>");return b}}
function AjaxTableHandbookData(b,c,d,e){var f=this;f.inheritFrom=AjaxTable;f.inheritFrom(b,c,d,e);f.LinkedRecordset=new Recordset("");f.OnResponse=function(m){m.linked&&f.LinkedRecordset.LoadFromArray(m.linked);f.Update(m)};f.GetRecord=function(m){var l=f.Recordset.GetRecord(m);return l?l:f.LinkedRecordset.GetRecord(m)}}
function DisplayWrapperValue(b){var c=this;c.visible=!0;c.Display=function(d){c.visible=d};c.GetValue=function(){return b};c.DisplayOptions=function(){};c.ReplaceOptions=function(){}}
function TableBaseHandler(b){function c(){f.Refresh();e()}function d(l){var w=[];l=l.detail.rows;for(var q=0;q<l.length;++q)w.push(f.records[l[q]-f.table.startIndex]);return w}function e(){f.handlers.forEach(function(l){l({target:f,currentTarget:f,value:f.records})})}var f=this;f.handlers=[];f.accessor=b.accessor;f.records=[];f.formatters=b.formatters;f.adapter=PSS.adapter(f.accessor.persistent?b.adapter:null);f.table=PLANETCALC.tablegrid(b.table,b.xcel);f.table.listen("request_data",function(l){f.refresh(l.detail.start,
l.detail.size,l.detail.sortColumn,l.detail.sortAsc)});b.dialog&&f.table.listen("edit",function(l){b.dialog.Edit(f.records[l.detail.row-f.table.startIndex],function(w){f.accessor.update(l.detail.row,f.adapter.encode(w),c)})});var m=$(b.table);if(b.dialog)m.find(".pc-btn-add").on("click",function(){b.dialog.New(function(l){f.accessor.insert(f.adapter.encode(l),c)})});if(b.import)m.find(".pc-btn-import").on("click",function(){b.import.Show(function(l){f.accessor.insertMany(l.map(f.adapter.encode),c)})});
f.table.listen("delete",function(l){f.accessor.delete(l.detail.rows,d(l).map(f.adapter.encode),c)});f.accessor.select&&f.table.listen("selected",function(l){f.accessor.select(l.detail.rows,d(l))});f.Refresh()}TableBaseHandler.prototype.getSelected=function(){for(var b=[],c=this.table.selected,d=0;d<c.length;++d)b.push(this.records[c[d]-this.table.startIndex]);return b};TableBaseHandler.prototype.Refresh=function(){this.refresh(this.table.startIndex,this.table.pageSize,this.table.sortColumn,this.table.sortAsc)};
TableBaseHandler.prototype.updateRow=function(b,c){var d=PCF.formatRecords([c],this.formatters,0,1)[0];this.records[b]=c;this.table.setRowData(b,d)};TableBaseHandler.prototype.refresh=function(b,c,d,e){var f=this;f.accessor.getRecords(b,c,d,e,f.formatters,function(m,l,w){m?(f.records=m.map(f.adapter.decode),f.table.setData(PCF.formatRecords(f.records,f.formatters,0,m.length),l,w)):f.table.setInfo(l,w)})};TableBaseHandler.prototype.addEventListener=function(b,c){"change"==b&&this.handlers.push(c)};
TableBaseHandler.prototype.removeEventListener=function(b,c){"change"==b&&(b=this.handlers.indexOf(c),-1!=b&&this.handlers.splice(b,1))};
function InputTableHandler(b){function c(){void 0!==e&&void 0!==f&&PCF.sortRecords(d.data,m,e,f)}var d=this;d.data=b.init();var e,f,m;d.update=function(l,w,q){d.data[l]=w;c();q()};d.insert=function(l,w){d.update(d.data.length,l,w)};d.insertMany=function(l,w){for(var q=0;q<l.length;++q)d.data[d.data.length]=l[q];c();w()};d.delete=function(l,w,q){l.sort(function(r,t){return t-r});for(w=0;w<l.length;++w)d.data.splice(l[w],1);q()};d.getRecords=function(l,w,q,r,t,u){m=t;l>=d.data.length&&(d.data.length<
w?l=0:(l=d.data.length-w,l-=l%w));0<=q&&q<t.length&&void 0!==r&&(q!==e||r!==f)&&(PCF.sortRecords(d.data,t,q,r),e=q,f=r);u(d.data.slice(l,l+w),l,d.data.length)}}
function DisplayWrapperTable(b,c,d){this.Columns=b?b.Header.Columns:null;this.Series=d?d.Header.Columns:null;this.DisplaySeries=function(e,f){d&&(d.Header.Columns[e].visible=f)};this.DisplayColumn=function(e,f){return b.Header.Columns[e].visible=f};this.CloneSeries=function(e,f,m,l){d&&d.Header.CloneColumn(e,f,m,l)};this.CloneColumn=function(e,f,m,l){return b.Header.CloneColumn(e,f,m,l)};this.Display=function(e){e?b&&b.Show():b&&b.Hide()};this.DisplayTable=function(e){e?b&&b.ShowTable():b&&b.HideTable()};
this.DisplayGraph=function(e){e?d&&d.Show():d&&d.Hide()}}
!function(b){function c(e){if(d[e])return d[e].exports;var f=d[e]={i:e,l:!1,exports:{}};return b[e].call(f.exports,f,f.exports,c),f.l=!0,f.exports}var d={};c.m=b;c.c=d;c.d=function(e,f,m){c.o(e,f)||Object.defineProperty(e,f,{enumerable:!0,get:m})};c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};c.t=function(e,f){if((1&f&&(e=c(e)),8&f)||4&f&&"object"==typeof e&&e&&e.__esModule)return e;
var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:e}),2&f&&"string"!=typeof e)for(var l in e)c.d(m,l,function(w){return e[w]}.bind(null,l));return m};c.n=function(e){var f=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(f,"a",f),f};c.o=function(e,f){return Object.prototype.hasOwnProperty.call(e,f)};c.p="";c(c.s=3)}([function(b,c,d){(function(e){var f=function(l){function w(v,N,R,S){if(void 0===v)N=w[0];else if(void 0===N||10==+N&&
!R)N=ba(v);else{var aa=R||"0123456789abcdefghijklmnopqrstuvwxyz";v=String(v);S||(v=v.toLowerCase(),aa=aa.toLowerCase());var ca=v.length,ka=Math.abs(N);R={};for(S=0;S<aa.length;S++)R[aa[S]]=S;for(S=0;S<ca;S++)if("-"!==(fa=v[S])&&fa in R&&R[fa]>=ka&&("1"!==fa||1!==ka))throw Error(fa+" is not a valid digit in base "+N+".");N=ba(N);aa=[];for(S=(ca="-"===v[0])?1:0;S<v.length;S++){var fa;if((fa=v[S])in R)aa.push(ba(R[fa]));else{if("<"!==fa)throw Error(fa+" is not a valid character");fa=S;do S++;while(">"!==
v[S]&&S<v.length);aa.push(ba(v.slice(fa+1,S)))}}N=ma(aa,N,ca)}return N}function q(v,N){this.value=v;this.sign=N;this.isSmall=!1}function r(v){this.value=v;this.sign=0>v;this.isSmall=!0}function t(v){this.value=v}function u(v){return-9007199254740992<v&&9007199254740992>v}function F(v){return 1E7>v?[v]:1E14>v?[v%1E7,Math.floor(v/1E7)]:[v%1E7,Math.floor(v/1E7)%1E7,Math.floor(v/1E14)]}function Q(v){p(v);var N=v.length;if(4>N&&0>L(v,da))switch(N){case 0:return 0;case 1:return v[0];case 2:return v[0]+
1E7*v[1];default:return v[0]+1E7*(v[1]+1E7*v[2])}return v}function p(v){for(var N=v.length;0===v[--N];);v.length=N+1}function h(v){for(var N=Array(v),R=-1;++R<v;)N[R]=0;return N}function y(v){return 0<v?Math.floor(v):Math.ceil(v)}function K(v,N){var R,S,aa=v.length,ca=N.length,ka=Array(aa),fa=0;for(S=0;S<ca;S++)fa=1E7<=(R=v[S]+N[S]+fa)?1:0,ka[S]=R-1E7*fa;for(;S<aa;)fa=1E7===(R=v[S]+fa)?1:0,ka[S++]=R-1E7*fa;return 0<fa&&ka.push(fa),ka}function O(v,N){return v.length>=N.length?K(v,N):K(N,v)}function x(v,
N){var R,S=v.length,aa=Array(S);for(R=0;R<S;R++){var ca=v[R]-1E7+N;N=Math.floor(ca/1E7);aa[R]=ca-1E7*N;N+=1}for(;0<N;)aa[R++]=N%1E7,N=Math.floor(N/1E7);return aa}function H(v,N){var R,S,aa=v.length,ca=N.length,ka=Array(aa),fa=0;for(R=0;R<ca;R++)0>(S=v[R]-fa-N[R])?(S+=1E7,fa=1):fa=0,ka[R]=S;for(R=ca;R<aa;R++){if(!(0>(S=v[R]-fa))){ka[R++]=S;break}S+=1E7;ka[R]=S}for(;R<aa;R++)ka[R]=v[R];return p(ka),ka}function J(v,N,R){var S=v.length,aa=Array(S),ca=-N;for(N=0;N<S;N++){var ka=v[N]+ca;ca=Math.floor(ka/
1E7);ka%=1E7;aa[N]=0>ka?ka+1E7:ka}return"number"==typeof(aa=Q(aa))?(R&&(aa=-aa),new r(aa)):new q(aa,R)}function C(v,N){var R,S=v.length,aa=N.length,ca=h(S+aa);for(R=0;R<S;++R){var ka=v[R];for(var fa=0;fa<aa;++fa){var ua=ka*N[fa]+ca[R+fa];var ja=Math.floor(ua/1E7);ca[R+fa]=ua-1E7*ja;ca[R+fa+1]+=ja}}return p(ca),ca}function E(v,N){var R,S=v.length,aa=Array(S),ca=0;for(R=0;R<S;R++){var ka=v[R]*N+ca;ca=Math.floor(ka/1E7);aa[R]=ka-1E7*ca}for(;0<ca;)aa[R++]=ca%1E7,ca=Math.floor(ca/1E7);return aa}function B(v,
N){for(var R=[];0<N--;)R.push(0);return R.concat(v)}function z(v,N,R){return new q(1E7>v?E(N,v):C(N,F(v)),R)}function A(v){var N,R,S=v.length,aa=h(S+S);for(N=0;N<S;N++){var ca=-((R=v[N])*R);for(var ka=N;ka<S;ka++){var fa=R*v[ka]*2+aa[N+ka]+ca;ca=Math.floor(fa/1E7);aa[N+ka]=fa-1E7*ca}aa[N+S]=ca}return p(aa),aa}function I(v,N){var R,S;var aa=v.length;var ca=h(aa);var ka=0;for(--aa;0<=aa;--aa)ka=(S=1E7*ka+v[aa])-(R=y(S/N))*N,ca[aa]=0|R;return[ca,0|ka]}function M(v,N){N=ba(N);if(ta)return[new t(v.value/
N.value),new t(v.value%N.value)];var R=v.value;var S=N.value;if(0===S)throw Error("Cannot divide by zero");if(v.isSmall)return N.isSmall?[new r(y(R/S)),new r(R%S)]:[w[0],v];if(N.isSmall){if(1===S)return[v,w[0]];if(-1==S)return[v.negate(),w[0]];S=Math.abs(S);if(1E7>S)return R=Q((S=I(R,S))[0]),S=S[1],v.sign&&(S=-S),"number"==typeof R?(v.sign!==N.sign&&(R=-R),[new r(R),new r(S)]):[new q(R,v.sign!==N.sign),new r(S)];S=F(S)}var aa=L(R,S);if(-1===aa)return[w[0],v];if(0===aa)return[w[v.sign===N.sign?1:-1],
w[0]];R=(S=200>=R.length+S.length?function(ca,ka){var fa,ua,ja;var ra=ca.length;var ya=ka.length,Ea=h(ka.length),za=ka[ya-1],Fa=Math.ceil(1E7/(2*za));ca=E(ca,Fa);ka=E(ka,Fa);ca.length<=ra&&ca.push(0);ka.push(0);za=ka[ya-1];for(fa=ra-ya;0<=fa;fa--){ra=9999999;ca[fa+ya]!==za&&(ra=Math.floor((1E7*ca[fa+ya]+ca[fa+ya-1])/za));var Ga=ua=0;var Ca=ka.length;for(ja=0;ja<Ca;ja++){ua+=ra*ka[ja];var Aa=Math.floor(ua/1E7);Ga+=ca[fa+ja]-(ua-1E7*Aa);ua=Aa;0>Ga?(ca[fa+ja]=Ga+1E7,Ga=-1):(ca[fa+ja]=Ga,Ga=0)}for(;0!==
Ga;){--ra;for(ja=ua=0;ja<Ca;ja++)0>(ua+=ca[fa+ja]-1E7+ka[ja])?(ca[fa+ja]=ua+1E7,ua=0):(ca[fa+ja]=ua,ua=1);Ga+=ua}Ea[fa]=ra}return ca=I(ca,Fa)[0],[Q(Ea),Q(ca)]}(R,S):function(ca,ka){for(var fa,ua,ja,ra=ca.length,ya=ka.length,Ea=[],za=[];ra;)if(za.unshift(ca[--ra]),p(za),0>L(za,ka))Ea.push(0);else{fa=1E7*za[(ua=za.length)-1]+za[ua-2];ja=1E7*ka[ya-1]+ka[ya-2];ua>ya&&(fa=1E7*(fa+1));fa=Math.ceil(fa/ja);do{if(0>=L(ja=E(ka,fa),za))break;fa--}while(fa);Ea.push(fa);za=H(za,ja)}return Ea.reverse(),[Q(Ea),
Q(za)]}(R,S))[0];N=v.sign!==N.sign;S=S[1];v=v.sign;return"number"==typeof R?(N&&(R=-R),R=new r(R)):R=new q(R,N),"number"==typeof S?(v&&(S=-S),S=new r(S)):S=new q(S,v),[R,S]}function L(v,N){if(v.length!==N.length)return v.length>N.length?1:-1;for(var R=v.length-1;0<=R;R--)if(v[R]!==N[R])return v[R]>N[R]?1:-1;return 0}function W(v){v=v.abs();return!v.isUnit()&&(!!(v.equals(2)||v.equals(3)||v.equals(5))||!(v.isEven()||v.isDivisibleBy(3)||v.isDivisibleBy(5))&&(!!v.lesser(49)||void 0))}function X(v,N){for(var R,
S,aa,ca=v.prev(),ka=ca,fa=0;ka.isEven();)ka=ka.divide(2),fa++;S=0;a:for(;S<N.length;S++)if(!v.lesser(N[S])&&!(aa=f(N[S]).modPow(ka,v)).isUnit()&&!aa.equals(ca)){for(R=fa-1;0!=R&&!(aa=aa.square().mod(v)).isUnit();R--)if(aa.equals(ca))continue a;return!1}return!0}function D(v,N,R){N=ba(N);var S=v.isNegative(),aa=N.isNegative();v=S?v.not():v;var ca=aa?N.not():N;for(N=[];!v.isZero()||!ca.isZero();){var ka=(v=M(v,na))[1].toJSNumber();S&&(ka=na-1-ka);var fa=(ca=M(ca,na))[1].toJSNumber();aa&&(fa=na-1-fa);
v=v[0];ca=ca[0];N.push(R(ka,fa))}R=0!==R(S?1:0,aa?1:0)?f(-1):f(0);for(S=N.length-1;0<=S;--S)R=R.multiply(na).add(f(N[S]));return R}function U(v){v=v.value;v="number"==typeof v?v|1073741824:"bigint"==typeof v?v|BigInt(1073741824):v[0]+1E7*v[1]|1073758208;return v&-v}function Y(v,N){return v=ba(v),N=ba(N),v.greater(N)?v:N}function T(v,N){return v=ba(v),N=ba(N),v.lesser(N)?v:N}function Z(v,N){if(v=ba(v).abs(),N=ba(N).abs(),v.equals(N))return v;if(v.isZero())return N;if(N.isZero())return v;for(var R,
S,aa=w[1];v.isEven()&&N.isEven();)R=T(U(v),U(N)),v=v.divide(R),N=N.divide(R),aa=aa.multiply(R);for(;v.isEven();)v=v.divide(U(v));do{for(;N.isEven();)N=N.divide(U(N));v.greater(N)&&(S=N,N=v,v=S);N=N.subtract(v)}while(!N.isZero());return aa.isUnit()?v:v.multiply(aa)}function ma(v,N,R){var S,aa=w[0],ca=w[1];for(S=v.length-1;0<=S;S--)aa=aa.add(v[S].times(ca)),ca=ca.times(N);return R?aa.negate():aa}function ha(v,N){if((N=f(N)).isZero()){if(v.isZero())return{value:[0],isNegative:!1};throw Error("Cannot convert nonzero numbers to base 0.");
}if(N.equals(-1)){if(v.isZero())return{value:[0],isNegative:!1};if(v.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-v.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};N=Array.apply(null,Array(v.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return N.unshift([1]),{value:[].concat.apply([],N),isNegative:!1}}var R=!1;if(v.isNegative()&&N.isPositive()&&(R=!0,v=v.abs()),N.isUnit())return v.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(v.toJSNumber())).map(Number.prototype.valueOf,
1),isNegative:R};for(var S,aa=[];v.isNegative()||0<=v.compareAbs(N);)S=v.divmod(N),v=S.quotient,S=S.remainder,S.isNegative()&&(S=N.minus(S).abs(),v=v.next()),aa.push(S.toJSNumber());return aa.push(v.toJSNumber()),{value:aa.reverse(),isNegative:R}}function la(v,N,R){v=ha(v,N);return(v.isNegative?"-":"")+v.value.map(function(S){var aa=R;return S<(aa=aa||"0123456789abcdefghijklmnopqrstuvwxyz").length?aa[S]:"<"+S+">"}).join("")}function pa(v){if(u(+v)){var N=+v;if(N===y(N))return ta?new t(BigInt(N)):
new r(N);throw Error("Invalid integer: "+v);}(N="-"===v[0])&&(v=v.slice(1));var R=v.split(/e/i);if(2<R.length)throw Error("Invalid integer: "+R.join("e"));if(2===R.length){v=R[1];if("+"===v[0]&&(v=v.slice(1)),(v=+v)!==y(v)||!u(v))throw Error("Invalid integer: "+v+" is not a valid exponent.");R=R[0];var S=R.indexOf(".");if(0<=S&&(v-=R.length-S-1,R=R.slice(0,S)+R.slice(S+1)),0>v)throw Error("Cannot include negative exponent part for integers");v=R+Array(v+1).join("0")}if(!/^([0-9][0-9]*)$/.test(v))throw Error("Invalid integer: "+
v);if(ta)return new t(BigInt(N?"-"+v:v));R=[];S=v.length;for(var aa=S-7;0<S;)R.push(+v.slice(aa,S)),0>(aa-=7)&&(aa=0),S-=7;return p(R),new q(R,N)}function ba(v){if("number"==typeof v)if(ta)v=new t(BigInt(v));else if(u(v)){if(v!==y(v))throw Error(v+" is not an integer.");v=new r(v)}else v=pa(v.toString());else v="string"==typeof v?pa(v):"bigint"==typeof v?new t(v):v;return v}var da=F(9007199254740992),ta="function"==typeof BigInt;q.prototype=Object.create(w.prototype);r.prototype=Object.create(w.prototype);
t.prototype=Object.create(w.prototype);q.prototype.add=function(v){v=ba(v);if(this.sign!==v.sign)return this.subtract(v.negate());var N=this.value,R=v.value;return v.isSmall?new q(x(N,Math.abs(R)),this.sign):new q(O(N,R),this.sign)};q.prototype.plus=q.prototype.add;r.prototype.add=function(v){v=ba(v);var N=this.value;if(0>N!==v.sign)return this.subtract(v.negate());var R=v.value;if(v.isSmall){if(u(N+R))return new r(N+R);R=F(Math.abs(R))}return new q(x(R,Math.abs(N)),0>N)};r.prototype.plus=r.prototype.add;
t.prototype.add=function(v){return new t(this.value+ba(v).value)};t.prototype.plus=t.prototype.add;q.prototype.subtract=function(v){var N=ba(v);if(this.sign!==N.sign)return this.add(N.negate());v=this.value;var R=N.value;if(N.isSmall)v=J(v,Math.abs(R),this.sign);else{N=this.sign;var S;v=(0<=L(v,R)?S=H(v,R):(S=H(R,v),N=!N),"number"==typeof(S=Q(S))?(N&&(S=-S),new r(S)):new q(S,N))}return v};q.prototype.minus=q.prototype.subtract;r.prototype.subtract=function(v){v=ba(v);var N=this.value;if(0>N!==v.sign)return this.add(v.negate());
var R=v.value;return v.isSmall?new r(N-R):J(R,Math.abs(N),0<=N)};r.prototype.minus=r.prototype.subtract;t.prototype.subtract=function(v){return new t(this.value-ba(v).value)};t.prototype.minus=t.prototype.subtract;q.prototype.negate=function(){return new q(this.value,!this.sign)};r.prototype.negate=function(){var v=this.sign,N=new r(-this.value);return N.sign=!v,N};t.prototype.negate=function(){return new t(-this.value)};q.prototype.abs=function(){return new q(this.value,!1)};r.prototype.abs=function(){return new r(Math.abs(this.value))};
t.prototype.abs=function(){return new t(0<=this.value?this.value:-this.value)};q.prototype.multiply=function(v){var N,R;var S=ba(v);v=this.value;var aa=S.value,ca=this.sign!==S.sign;if(S.isSmall){if(0===aa)return w[0];if(1===aa)return this;if(-1===aa)return this.negate();if(1E7>(S=Math.abs(aa)))return new q(E(v,S),ca);aa=F(S)}return N=v.length,R=aa.length,new q(0<-.012*N-.012*R+1.5E-5*N*R?function ja(fa,ua){var ra=Math.max(fa.length,ua.length);if(30>=ra)return C(fa,ua);ra=Math.ceil(ra/2);var ya=fa.slice(ra);
fa=fa.slice(0,ra);var Ea=ua.slice(ra),za=ua.slice(0,ra);ua=ja(fa,za);var Fa=ja(ya,Ea);ya=ja(O(fa,ya),O(za,Ea));ra=O(O(ua,B(H(H(ya,ua),Fa),ra)),B(Fa,2*ra));return p(ra),ra}(v,aa):C(v,aa),ca)};q.prototype.times=q.prototype.multiply;r.prototype._multiplyBySmall=function(v){return u(v.value*this.value)?new r(v.value*this.value):z(Math.abs(v.value),F(Math.abs(this.value)),this.sign!==v.sign)};q.prototype._multiplyBySmall=function(v){return 0===v.value?w[0]:1===v.value?this:-1===v.value?this.negate():z(Math.abs(v.value),
this.value,this.sign!==v.sign)};r.prototype.multiply=function(v){return ba(v)._multiplyBySmall(this)};r.prototype.times=r.prototype.multiply;t.prototype.multiply=function(v){return new t(this.value*ba(v).value)};t.prototype.times=t.prototype.multiply;q.prototype.square=function(){return new q(A(this.value),!1)};r.prototype.square=function(){var v=this.value*this.value;return u(v)?new r(v):new q(A(F(Math.abs(this.value))),!1)};t.prototype.square=function(v){return new t(this.value*this.value)};q.prototype.divmod=
function(v){v=M(this,v);return{quotient:v[0],remainder:v[1]}};t.prototype.divmod=r.prototype.divmod=q.prototype.divmod;q.prototype.divide=function(v){return M(this,v)[0]};t.prototype.over=t.prototype.divide=function(v){return new t(this.value/ba(v).value)};r.prototype.over=r.prototype.divide=q.prototype.over=q.prototype.divide;q.prototype.mod=function(v){return M(this,v)[1]};t.prototype.mod=t.prototype.remainder=function(v){return new t(this.value%ba(v).value)};r.prototype.remainder=r.prototype.mod=
q.prototype.remainder=q.prototype.mod;q.prototype.pow=function(v){var N;var R=ba(v);var S=this.value;v=R.value;if(0===v)return w[1];if(0===S)return w[0];if(1===S)return w[1];if(-1===S)return R.isEven()?w[1]:w[-1];if(R.sign)return w[0];if(!R.isSmall)throw Error("The exponent "+R.toString()+" is too large.");if(this.isSmall&&u(N=Math.pow(S,v)))return new r(y(N));N=this;for(R=w[1];1&v&&(R=R.times(N),--v),0!==v;)v/=2,N=N.square();return R};r.prototype.pow=q.prototype.pow;t.prototype.pow=function(v){var N=
ba(v),R=this.value;v=N.value;var S=BigInt(0),aa=BigInt(1),ca=BigInt(2);if(v===S)return w[1];if(R===S)return w[0];if(R===aa)return w[1];if(R===BigInt(-1))return N.isEven()?w[1]:w[-1];if(N.isNegative())return new t(S);N=this;for(R=w[1];(v&aa)===aa&&(R=R.times(N),--v),v!==S;)v/=ca,N=N.square();return R};q.prototype.modPow=function(v,N){if(v=ba(v),(N=ba(N)).isZero())throw Error("Cannot take modPow with modulus 0");var R=w[1],S=this.mod(N);for(v.isNegative()&&(v=v.multiply(w[-1]),S=S.modInv(N));v.isPositive();){if(S.isZero())return w[0];
v.isOdd()&&(R=R.multiply(S).mod(N));v=v.divide(2);S=S.square().mod(N)}return R};t.prototype.modPow=r.prototype.modPow=q.prototype.modPow;q.prototype.compareAbs=function(v){v=ba(v);var N=this.value,R=v.value;return v.isSmall?1:L(N,R)};r.prototype.compareAbs=function(v){v=ba(v);var N=Math.abs(this.value),R=v.value;return v.isSmall?N===(R=Math.abs(R))?0:N>R?1:-1:-1};t.prototype.compareAbs=function(v){var N=this.value;v=ba(v).value;return(N=0<=N?N:-N)===(v=0<=v?v:-v)?0:N>v?1:-1};q.prototype.compare=function(v){if(v===
1/0)return-1;if(v===-1/0)return 1;v=ba(v);var N=this.value,R=v.value;return this.sign!==v.sign?v.sign?1:-1:v.isSmall?this.sign?-1:1:L(N,R)*(this.sign?-1:1)};q.prototype.compareTo=q.prototype.compare;r.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;v=ba(v);var N=this.value,R=v.value;return v.isSmall?N==R?0:N>R?1:-1:0>N!==v.sign?0>N?-1:1:0>N?1:-1};r.prototype.compareTo=r.prototype.compare;t.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var N=this.value;
v=ba(v).value;return N===v?0:N>v?1:-1};t.prototype.compareTo=t.prototype.compare;q.prototype.equals=function(v){return 0===this.compare(v)};t.prototype.eq=t.prototype.equals=r.prototype.eq=r.prototype.equals=q.prototype.eq=q.prototype.equals;q.prototype.notEquals=function(v){return 0!==this.compare(v)};t.prototype.neq=t.prototype.notEquals=r.prototype.neq=r.prototype.notEquals=q.prototype.neq=q.prototype.notEquals;q.prototype.greater=function(v){return 0<this.compare(v)};t.prototype.gt=t.prototype.greater=
r.prototype.gt=r.prototype.greater=q.prototype.gt=q.prototype.greater;q.prototype.lesser=function(v){return 0>this.compare(v)};t.prototype.lt=t.prototype.lesser=r.prototype.lt=r.prototype.lesser=q.prototype.lt=q.prototype.lesser;q.prototype.greaterOrEquals=function(v){return 0<=this.compare(v)};t.prototype.geq=t.prototype.greaterOrEquals=r.prototype.geq=r.prototype.greaterOrEquals=q.prototype.geq=q.prototype.greaterOrEquals;q.prototype.lesserOrEquals=function(v){return 0>=this.compare(v)};t.prototype.leq=
t.prototype.lesserOrEquals=r.prototype.leq=r.prototype.lesserOrEquals=q.prototype.leq=q.prototype.lesserOrEquals;q.prototype.isEven=function(){return 0==(1&this.value[0])};r.prototype.isEven=function(){return 0==(1&this.value)};t.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)};q.prototype.isOdd=function(){return 1==(1&this.value[0])};r.prototype.isOdd=function(){return 1==(1&this.value)};t.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)};q.prototype.isPositive=
function(){return!this.sign};r.prototype.isPositive=function(){return 0<this.value};t.prototype.isPositive=r.prototype.isPositive;q.prototype.isNegative=function(){return this.sign};r.prototype.isNegative=function(){return 0>this.value};t.prototype.isNegative=r.prototype.isNegative;q.prototype.isUnit=function(){return!1};r.prototype.isUnit=function(){return 1===Math.abs(this.value)};t.prototype.isUnit=function(){return this.abs().value===BigInt(1)};q.prototype.isZero=function(){return!1};r.prototype.isZero=
function(){return 0===this.value};t.prototype.isZero=function(){return this.value===BigInt(0)};q.prototype.isDivisibleBy=function(v){v=ba(v);return!v.isZero()&&(!!v.isUnit()||(0===v.compareAbs(2)?this.isEven():this.mod(v).isZero()))};t.prototype.isDivisibleBy=r.prototype.isDivisibleBy=q.prototype.isDivisibleBy;q.prototype.isPrime=function(v){var N=W(this);if(void 0!==N)return N;N=this.abs();var R=N.bitLength();if(64>=R)return X(N,[2,3,5,7,11,13,17,19,23,29,31,37]);R=Math.log(2)*R.toJSNumber();v=Math.ceil(!0===
v?2*Math.pow(R,2):R);R=[];for(var S=0;S<v;S++)R.push(f(S+2));return X(N,R)};t.prototype.isPrime=r.prototype.isPrime=q.prototype.isPrime;q.prototype.isProbablePrime=function(v,N){var R=W(this);if(void 0!==R)return R;R=this.abs();v=void 0===v?5:v;for(var S=[],aa=0;aa<v;aa++)S.push(f.randBetween(2,R.minus(2),N));return X(R,S)};t.prototype.isProbablePrime=r.prototype.isProbablePrime=q.prototype.isProbablePrime;q.prototype.modInv=function(v){for(var N,R,S,aa=f.zero,ca=f.one,ka=ba(v),fa=this.abs();!fa.isZero();)N=
ka.divide(fa),R=aa,S=ka,aa=ca,ka=fa,ca=R.subtract(N.multiply(ca)),fa=S.subtract(N.multiply(fa));if(!ka.isUnit())throw Error(this.toString()+" and "+v.toString()+" are not co-prime");return-1===aa.compare(0)&&(aa=aa.add(v)),this.isNegative()?aa.negate():aa};t.prototype.modInv=r.prototype.modInv=q.prototype.modInv;q.prototype.next=function(){var v=this.value;return this.sign?J(v,1,this.sign):new q(x(v,1),this.sign)};r.prototype.next=function(){var v=this.value;return 9007199254740992>v+1?new r(v+1):
new q(da,!1)};t.prototype.next=function(){return new t(this.value+BigInt(1))};q.prototype.prev=function(){var v=this.value;return this.sign?new q(x(v,1),!0):J(v,1,this.sign)};r.prototype.prev=function(){var v=this.value;return-9007199254740992<v-1?new r(v-1):new q(da,!0)};t.prototype.prev=function(){return new t(this.value-BigInt(1))};for(var va=[1];1E7>=2*va[va.length-1];)va.push(2*va[va.length-1]);var oa=va.length,na=va[oa-1];q.prototype.shiftLeft=function(v){v=ba(v).toJSNumber();if(!(1E7>=Math.abs(v)))throw Error(String(v)+
" is too large for shifting.");if(0>v)return this.shiftRight(-v);var N=this;if(N.isZero())return N;for(;v>=oa;)N=N.multiply(na),v-=oa-1;return N.multiply(va[v])};t.prototype.shiftLeft=r.prototype.shiftLeft=q.prototype.shiftLeft;q.prototype.shiftRight=function(v){var N;v=ba(v).toJSNumber();if(!(1E7>=Math.abs(v)))throw Error(String(v)+" is too large for shifting.");if(0>v)return this.shiftLeft(-v);for(var R=this;v>=oa;){if(R.isZero()||R.isNegative()&&R.isUnit())return R;R=(N=M(R,na))[1].isNegative()?
N[0].prev():N[0];v-=oa-1}return(N=M(R,va[v]))[1].isNegative()?N[0].prev():N[0]};t.prototype.shiftRight=r.prototype.shiftRight=q.prototype.shiftRight;q.prototype.not=function(){return this.negate().prev()};t.prototype.not=r.prototype.not=q.prototype.not;q.prototype.and=function(v){return D(this,v,function(N,R){return N&R})};t.prototype.and=r.prototype.and=q.prototype.and;q.prototype.or=function(v){return D(this,v,function(N,R){return N|R})};t.prototype.or=r.prototype.or=q.prototype.or;q.prototype.xor=
function(v){return D(this,v,function(N,R){return N^R})};t.prototype.xor=r.prototype.xor=q.prototype.xor;q.prototype.bitLength=function(){var v=this;return 0>v.compareTo(f(0))&&(v=v.negate().subtract(f(1))),0===v.compareTo(f(0))?f(0):f(function aa(R,S){if(0>=S.compareTo(R)){var ca=aa(R,S.square(S)),ka=ca.p;ca=ca.e;S=ka.multiply(S);return 0>=S.compareTo(R)?{p:S,e:2*ca+1}:{p:ka,e:2*ca}}return{p:f(1),e:0}}(v,f(2)).e).add(f(1))};t.prototype.bitLength=r.prototype.bitLength=q.prototype.bitLength;q.prototype.toArray=
function(v){return ha(this,v)};r.prototype.toArray=function(v){return ha(this,v)};t.prototype.toArray=function(v){return ha(this,v)};q.prototype.toString=function(v,N){if(void 0===v&&(v=10),10!==v)return la(this,v,N);N=this.value;for(var R=N.length,S=String(N[--R]);0<=--R;)v=String(N[R]),S+="0000000".slice(v.length)+v;return(this.sign?"-":"")+S};r.prototype.toString=function(v,N){return void 0===v&&(v=10),10!=v?la(this,v,N):String(this.value)};t.prototype.toString=r.prototype.toString;t.prototype.toJSON=
q.prototype.toJSON=r.prototype.toJSON=function(){return this.toString()};q.prototype.valueOf=function(){return parseInt(this.toString(),10)};q.prototype.toJSNumber=q.prototype.valueOf;r.prototype.valueOf=function(){return this.value};r.prototype.toJSNumber=r.prototype.valueOf;t.prototype.valueOf=t.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(l=0;1E3>l;l++)w[l]=ba(l),0<l&&(w[-l]=ba(-l));return w.one=w[1],w.zero=w[0],w.minusOne=w[-1],w.max=Y,w.min=T,w.gcd=Z,w.lcm=function(v,
N){return v=ba(v).abs(),N=ba(N).abs(),v.divide(Z(v,N)).multiply(N)},w.isInstance=function(v){return v instanceof q||v instanceof r||v instanceof t},w.randBetween=function(v,N,R){v=ba(v);N=ba(N);R=R||Math.random;var S=T(v,N);v=Y(v,N).subtract(S).add(1);if(v.isSmall)return S.add(Math.floor(R()*v));v=ha(v,1E7).value;N=[];for(var aa=!0,ca=0;ca<v.length;ca++){var ka=aa?v[ca]+(ca+1<v.length?v[ca+1]/1E7:0):1E7;ka=y(R()*ka);N.push(ka);ka<v[ca]&&(aa=!1)}return S.add(w.fromArray(N,1E7,!1))},w.fromArray=function(v,
N,R){return ma(v.map(ba),ba(N||10),R)},w}();e.hasOwnProperty("exports")&&(e.exports=f);var m=f;void 0===m||(e.exports=m)}).call(this,d(2)(b))},function(b,c,d){(function(e){function f(w){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(w)}var m,l="object"==f(l)?l:function(){function w(O,x){var H=self.PCL;H=[H?H.parser_error_1:"Unexpected character %token% in position %pos% line %line% (%decorated%). Expected: %expected%.",
H?H.parser_error_2:"Unexpected token %token% in position %pos% line %line% (%decorated%). Expected: %expected%.",H?H.parser_error_3:"Unexpected end of input. Expected: %expected%."];this.code=O;H=H[O];if(x)for(var J in x){var C=x[J];Array.isArray(C)&&(C=C.join(","));H=H.replace(new RegExp("%"+J+"%","g"),C)}console.log("ParserException:"+O+" "+H);this.message=H;this.args=x}function q(O){function x(){return this.value}function H(I,M){return{getValue:x,name:void 0===I?"":I,value:"",pos:-1,index:void 0===
M?0:M,len:0}}function J(I,M,L,W){var X={token:I,len:M,absolutePos:L,expected:[]},D=L,U=/\r?\n/g,Y=0,T=0;do{var Z=Y;Y=U.exec(C)?U.lastIndex:C.length;T++}while(Y<=D&&Y<C.length);X.line=T;X.pos=D-Z+1;!0;D=10>L?L:10;U=C.length-L-M;10<U&&(U=10);if(X.decorated=C.substr(L-D,D)+">>>"+I+"<<<"+C.substr(L+M,U),W.isTerminal())X.expected.push(W.n);else if(W.m.pattern)for(I=0;I<W.m.pattern.length;++I)if(L=W.m.pattern[I])for(var ma in L)X.expected.push(ma);return X}var C=O,E=[],B=0,z=0;this.exclude=function(I,M){E.splice(I,
M);I<z&&(z-=M)};this.reset=function(){z=0};this.print=function(){for(var I="",M=0;M<E.length;++M)I+=E[M].name+"["+E[M].index+"]~",0==(M+1)%20&&(I+="\n");return I};this.get=function(I,M){I=this.peek(I);return z!==E.length&&z++,I};var A=H("<eof>",-1);H("<empty>",0);this.peek=function(I,M){if(void 0===I.m)if(I.m={},I.f)for(var L in I.f){if("0"!==L&&"-1"!==L){var W=M[L];var X=I.m;W.re?(void 0===X.re&&(X.re=[]),X.re.push([W.re,W])):(void 0===X.pattern&&(X.pattern=[]),(W.n.length>X.pattern.length||void 0===
X.pattern[W.n.length-1])&&(X.pattern[W.n.length-1]={}),(X=X.pattern[W.n.length-1])[W.n]=W)}}else I.m.pattern=[],(X={})[I.n]=I,I.m.pattern[I.n.length-1]=X;if(z<E.length)M=E[z];else if(B===C.length)M=A;else{L=I.m.re;M=null;if(void 0!==L)for(W=0;W<L.length;++W){X=L[W];var D=X[0].exec(C.substr(B));D&&(!M||D[0].length>M.len)&&((M=H(X[1].n,X[1].i)).len=D[0].length,M.value=D[0])}if(L=I.m.pattern)for(W=L.length;W&&(!M||W>M.len);){if(W<=C.length-B&&(D=L[W-1],void 0!==D&&(X=C.substr(B,W),D=D[X],void 0!==D))){(M=
E[z]=H(D.n,D.i)).pos=B;M.len=W;M.value=X;break}W--}if(M)M=(E[z]=M,B+=M.len,M);else throw new w(0,J(C.charAt(B),1,B,I));}L=I;if(I.isTerminal()){if(I.i!=M.index)throw-1==M.index?new w(2,J(M.value,M.len,M.pos,I)):new w(1,J(M.value,M.len,M.pos,I));}else if(void 0===(L=I.f[M.index]))throw new w(1,J(M.value,M.len,M.pos,I));return L};this.getBookmark=function(){return new r(this,E,z)};this.revert=function(I,M){E=I;z=M};this.EOF=function(){return z>=E.length};this.peekString=function(I){return C.substr(E[z].pos,
I)};this.getStringAt=function(I,M){return C.substr(I,M)}}function r(O,x,H){this.revert=function(){O.revert(x,H)};this.getIndexPosition=function(){return H};this.getPosition=function(){if(x.length>H)return x[H].pos;var J=x[H-1];return J.pos+J.len};this.getLength=function(J){for(var C=0,E=H;E<x.length&&x[E].pos<J.getPosition();)C+=x[E++].len;return C};this.getSymbol=function(){return x.length<=H?"<eof>":O.getStringAt(this.getPosition(),x[H].len)};this.getToken=function(){return x[H]};this.getValue=
function(){return x.length<=H?"<eof>":x[H].getValue()};this.exclude=function(J){O.exclude(H,J.getIndexPosition()-H)}}function t(O,x,H){if(x.d)for(var J=x.d.length-1;0<=J;--J){var C=x.d[J];0!=C.i&&(C=new F(C,O),H.push(C))}else 0!=x.i&&(C=new F(x,O),H.push(C))}function u(O,x,H,J){J.push(new F(H[-1]));H=new F(O);if(H.start=x.getBookmark(),t(H,O,J),H.exclude={},O.t)for(x=0;x<O.t.length;++x)H.exclude[O.t[x]]=1;return H}function F(O,x){this.rule=O;this.parent=x;this.name=O.name();this.value=[];var H=!1;
this.complete=function(J,C){this.pos=this.start.getPosition();C[this.rule.i]?H||(this.start.exclude(J),H=!0):(this.parent&&(H||(this.parent.value.push(this),this.parent.complete(J,C))),H=!0,this.setLen(J))};this.setLen=function(J){J&&(this.end=J,this.len=this.start.getLength(J))};this.getEnd=function(){this.end||(this.start.getPosition(),this.value.forEach(function(J){(J=J.getEnd())&&(this.end=J)},this));return this.end};this.getLen=function(){if(!this.end){var J=this.getEnd();J&&(this.len=this.start.getLength(J))}return this.len};
this.visit=function(J){var C=[];if(function I(B,z,A){var M=z[B.name];if(M&&(M=M(B),void 0!==M))return void A.push(M);B.value.forEach(function(L){I(L,z,A)})}(this,J,C),C.length)return 1==C.length?C[0]:C};this.reduce=function(J,C){return function I(B,z,A){var M=z[B.name];return M?M(B,A):(B.value.forEach(function(L){A=I(L,z,A)}),A)}(this,J,C)};this.getValue=function(){if(this.value.length){var J="";return this.value.forEach(function(C){J+=C.getValue()}),J}return this.start.getValue()}}function Q(){return this.n}
function p(){return void 0===this.f}function h(){return this.f}function y(O,x){O=O[x];if(void 0===O)throw{code:"DATA",message:x+" rule not found"};return O}function K(O,x){if(O.d)for(var H=O.d,J=0;J<H.length;++J)H[J]=y(x,H[J]);if(O.isTerminal=p,O.name=Q,O.f){for(var C in O.f)O.f[C]=y(x,O.f[C]);O.firstPlus=h}O.c&&(O.c=y(x,O.c))}return{exception:w,parser:function(O){for(var x={},H=0;H<O.length;++H){var J=O[H];if("string"==typeof J)x[H]={n:J};else if(J.re){var C=J.fl?J.fl:"";x[H]={re:new RegExp(("^"!==
J.re.charAt(0)?"^":"")+J.re,C),n:"/"+J.re+"/"+C}}else{if(J.f={},J.s){for(C=0;C<J.s.length;++C)if("number"==typeof(A=J.s[C]))J.f[A]=A;else for(var E=A[0];E<=A[1];++E)J.f[E]=E;delete J.s}if(J.r){for(var B in J.r){var z=J.r[B];for(C=0;C<z.length;++C){var A;if("number"==typeof(A=z[C]))J.f[A]=Number(B);else for(E=A[0];E<=A[1];++E)J.f[E]=Number(B)}}delete J.r}x[H]=J}}var I=x[0];for(B in x[0]={n:"<empty>"},x[-1]={n:"<eof>"},x)K(x[B],x),x[B].i=B;K(I,x);this.parse=function(M){a:{M=new q(M);for(var L,W=I,X=
[],D=u(W,M,x,X);;){L=X[X.length-1];var U=M.getBookmark();if(L.start=U,M.EOF()&&-1==L.rule.i){if(!W.c)break a;M.reset();D=u(W=W.c,M,x,X)}else L.rule.isTerminal()?(M.get(L.rule,x),L.complete(M.getBookmark(),D.exclude),X.pop()):(U=M.peek(L.rule,x),X.pop(),t(L,U,X))}}return D}}}}();e.hasOwnProperty("exports")&&(e.exports=l);void 0===(m=function(){return l}.apply(c,[]))||(e.exports=m)}).call(this,d(2)(b))},function(b,c){b.exports=function(d){return d.webpackPolyfill||(d.deprecate=function(){},d.paths=
[],d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),d.webpackPolyfill=1),d}},function(b,c,d){function e(C,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}});Object.defineProperty(C,"prototype",{writable:!1});E&&f(C,E)}
function f(C,E){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,z){return B.__proto__=z,B})(C,E)}function m(C){var E=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(B){return!1}}();return function(){var B=l(C);if(E){var z=l(this).constructor;B=Reflect.construct(B,arguments,z)}else B=B.apply(this,arguments);
if(!B||"object"!==r(B)&&"function"!=typeof B){if(void 0!==B)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");B=this}return B}}function l(C){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(C)}function w(C,E){if(!(C=function(B){if(Array.isArray(B))return B}(C)||function(B,z){var A=null==B?null:"undefined"!=
typeof Symbol&&B[Symbol.iterator]||B["@@iterator"];if(null!=A){var I,M,L,W=[],X=!0,D=!1;try{if(M=(A=A.call(B)).next,0===z){if(Object(A)!==A)return;X=!1}else for(;!(X=(I=M.call(A)).done)&&(W.push(I.value),W.length!==z);X=!0);}catch(Y){D=!0;var U=Y}finally{try{if(!X&&null!=A.return&&(L=A.return(),Object(L)!==L))return}finally{if(D)throw U;}}return W}}(C,E)||function(B,z){if(B){if("string"==typeof B)return q(B,z);var A=Object.prototype.toString.call(B).slice(8,-1);"Object"===A&&B.constructor&&(A=B.constructor.name);
if("Map"===A||"Set"===A)return Array.from(B);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return q(B,z)}}(C,E)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return C}function q(C,E){(null==E||E>C.length)&&(E=C.length);for(var B=0,z=Array(E);B<E;B++)z[B]=C[B];return z}function r(C){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:
function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(C)}function t(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function");}function u(C,E){for(var B=0;B<E.length;B++){var z=E[B];z.enumerable=z.enumerable||!1;z.configurable=!0;"value"in z&&(z.writable=!0);Object.defineProperty(C,(A=z.key,I=void 0,I=function(M,L){if("object"!==r(M)||null===M)return M;var W=M[Symbol.toPrimitive];if(void 0!==W){M=W.call(M,L||"default");
if("object"!==r(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===L?String:Number)(M)}(A,"string"),"symbol"===r(I)?I:String(I)),z)}var A,I}function F(C,E,B){return E&&u(C.prototype,E),B&&u(C,B),Object.defineProperty(C,"prototype",{writable:!1}),C}d.r(c);b=d(0);var Q=d.n(b);b=d(1);var p=d.n(b),h=null,y=function(){function C(){t(this,C)}return F(C,[{key:"getRing",value:function(E){switch(r(E)){case "string":E=C.integer(E);break;case "number":E=E==Math.round(E)?
C.integer(E):C.real(E);break;default:Q.a.isInstance(E)&&(E=C.integer(E))}var B=[this,E];return this.constructor===E.constructor||(this instanceof O?B[1]=C.complex(E):E instanceof O?B[0]=C.complex(this):this instanceof x?B[1]=C.real(E):E instanceof x?B[0]=C.real(this):this instanceof J?B[1]=new J(E,this.m):this instanceof H?B[1]=C.rational(E):E instanceof H&&(B[0]=C.rational(this))),B}},{key:"sub",value:function(E){E=w(this.getRing(E),2);return E[0]._add(E[1].neg())}},{key:"add",value:function(E){E=
w(this.getRing(E),2);return E[0]._add(E[1])}},{key:"mul",value:function(E){E=w(this.getRing(E),2);return E[0]._mul(E[1])}},{key:"div",value:function(E){var B=w(this.getRing(E),2);E=B[0];B=B[1];if(!B||B.isZero())throw Error("Cannot divide by zero");return E._div(B)}},{key:"compare",value:function(E){E=this.sub(E);return E.isZero()?0:"-"==E.toString().substr(0,1)?-1:1}},{key:"neg",value:function(){return this.mul(-1)}},{key:"lte",value:function(E){return 0>=this.compare(E)}},{key:"gte",value:function(E){return 0<=
this.compare(E)}},{key:"lt",value:function(E){return-1==this.compare(E)}},{key:"gt",value:function(E){return 1==this.compare(E)}},{key:"eq",value:function(E){return 0==this.compare(E)}},{key:"divmod",value:function(E){E=w(this.getRing(E),2);return E[0]._divmod(E[1])}},{key:"mod",value:function(E){return this.divmod(E).r}},{key:"idiv",value:function(E){return this.divmod(E).q}},{key:"one",get:function(){return new K(1)}},{key:"zero",get:function(){return new K(0)}},{key:"gcd",value:function(E){return this.egcd(E).gcd}},
{key:"egcd",value:function(E){var B;E=w(this.getRing(E),2);var z=E[0],A=[z.zero,z.one,z.one,z.zero,E[1],z],I=A[0];E=A[1];var M=A[2];z=A[3];var L=A[4];for(A=A[5];!L.isZero();)L=[L,(B=A._divmod(L)).r],A=L[0],L=L[1],I=[I,E.sub(B.q.mul(I))],E=I[0],I=I[1],M=[M,z.sub(B.q.mul(M))],z=M[0],M=M[1];return{gcd:A,s:E,t:z}}}],[{key:"parse",value:function(E){function B(A){A=A.value;var I=A[0].value;var M=C.integer(I[0].getValue());if(1!=I.length){I=I[1].value[1].getValue();var L=C.integer("1e"+I.length);M=M.mul(L).add(C.integer(I)).div(L)}if(1==
A.length)return M;I=A[1].value[0].value;A=3==I.length&&"-"==I[1].getValue();I=C.integer("1e"+I[I.length-1].getValue());return A?M.div(I):M.mul(I)}function z(A){var I=A.value;A=2==I.length&&"-"==I[0].getValue()?-1:1;I=I[I.length-1].value;if("i"!=I[I.length-1].getValue()||(A=C.complex(0,A),1!=I.length)){I=I[0].value;var M=B(I[0]);A=(1==I.length?M:M.div(B(I[1].value[1]))).mul(A)}return A}E="string"==typeof E?E:E?E.toString():"0";h||(h=new p.a.parser([{n:"complex",r:{41:[[2,11],[24,25],29]}},{n:"digit",
s:[[2,11]]},"1","2","3","4","5","6","7","8","9","0",{n:"dot",s:[[13,14]]},".",",",{n:"real",r:{32:[[2,11]]}},{n:"float",r:{35:[[2,11]]}},{n:"mantissa",r:{34:[[2,11]]}},{n:"integer",r:{33:[[2,11]]}},{n:"digit x",r:{0:[[-1,0],[13,14],[21,22],[24,25],27,29],42:[[2,11]]}},{n:"order",r:{36:[[21,22]]}},"e","E",{n:"sign",s:[[24,25]]},"+","-",{n:"divisor",r:{0:[[-1,0],[24,25],29],37:[27]}},"/",{n:"part",s:[29],r:{38:[[2,11]]}},"i",{n:"second",r:{39:[[24,25]]}},{n:"first",r:{40:[[2,11],[24,25],29]}},{d:[16,
26],n:"real32",r:{32:[[2,11]]}},{d:[1,19],n:"integer33",r:{33:[[2,11]]}},{d:[18,43],n:"mantissa34",r:{34:[[2,11]]}},{d:[17,44],n:"float35",r:{35:[[2,11]]}},{d:[45,46,18],n:"order36",r:{36:[[21,22]]}},{d:[27,16],n:"divisor37",r:{37:[27]}},{d:[15,47],n:"part38",r:{38:[[2,11]]}},{d:[23,28],n:"second39",r:{39:[[24,25]]}},{d:[48,28],n:"first40",r:{40:[[2,11],[24,25],29]}},{d:[31,49],n:"complex41",r:{41:[[2,11],[24,25],29]}},{d:[1,19],n:"digit x42",r:{42:[[2,11]]}},{n:"mantissa3443",r:{0:[[-1,0],[21,22],
[24,25],27,29],50:[[13,14]]}},{n:"float3544",r:{0:[[-1,0],[24,25],27,29],20:[[21,22]]}},{n:"order3645",s:[[21,22]]},{n:"order3646",r:{0:[0,[2,11]],23:[[24,25]]}},{n:"part3847",s:[29],r:{0:[[-1,0],[24,25]]}},{n:"first4048",r:{0:[0,[2,11],29],23:[[24,25]]}},{n:"complex4149",r:{0:[[-1,0]],30:[[24,25]]}},{d:[12,18],n:"mantissa344350",r:{50:[[13,14]]}}]));E=h.parse(E).visit({first:z,second:z});return E.length?E[0].add(E[1]):E}},{key:"rational",value:function(E,B){return E instanceof H&&void 0===B?E:(void 0===
B&&(B=1),E instanceof O?E.div(B):B instanceof O?C.complex(E,0).div(B):E instanceof H?E.div(B):B instanceof H?new H(B.d.mul(E),B.n):new H(C.integer(E),C.integer(B)))}},{key:"complex",value:function(E,B){return E instanceof O?E:(void 0===B&&(B=0),"number"==typeof E&&Math.round(E)!=E?new O(C.real(E),C.real(B)):(E instanceof H||E instanceof x||(E=C.integer(E)),B instanceof H||B instanceof x||(B=C.integer(B)),new O(E,B)))}},{key:"integer",value:function(E){return void 0===E&&(E=0),E instanceof K?E:new K(E)}},
{key:"real",value:function(E){return E instanceof x?E:E instanceof H?(new x(E.n.n.valueOf())).div(E.d):E instanceof O?new O(C.real(E.re),C.real(E.im)):new x(E instanceof K?E.n.valueOf():E)}},{key:"modular",value:function(E,B){return new J(E,B)}}]),C}(),K=function(C){function E(z){var A;return t(this,E),(A=B.call(this)).n=Q()(z),A}e(E,C);var B=m(E);return F(E,[{key:"_add",value:function(z){return new E(this.n.add(z.n))}},{key:"_mul",value:function(z){return new E(this.n.multiply(z.n))}},{key:"_div",
value:function(z){return new H(this,z)}},{key:"_divmod",value:function(z){z=this.n.divmod(z.n);return{q:new E(z.quotient),r:new E(z.remainder)}}},{key:"abs",value:function(){return new E(this.n.abs())}},{key:"isZero",value:function(){return this.n.equals(0)}},{key:"toString",value:function(){return this.n.toString()}},{key:"toFixed",value:function(){return this.toString()}},{key:"toReal",value:function(){return Number(this.toString())}},{key:"toTeX",value:function(){return this.toString()}}],[{key:"one",
get:function(){return new E(1)}},{key:"zero",get:function(){return new E(0)}}]),E}(y),O=function(C){function E(z,A){var I;return t(this,E),(I=B.call(this)).re=z,I.im=A,I}e(E,C);var B=m(E);return F(E,[{key:"_add",value:function(z){return new E(this.re.add(z.re),this.im.add(z.im))}},{key:"_mul",value:function(z){return new E(this.re.mul(z.re).sub(this.im.mul(z.im)),this.re.mul(z.im).add(this.im.mul(z.re)))}},{key:"_div",value:function(z){var A=z.re.mul(z.re).add(z.im.mul(z.im));return new E(this.re.mul(z.re).add(this.im.mul(z.im)).div(A),
this.im.mul(z.re).sub(this.re.mul(z.im)).div(A))}},{key:"_divmod",value:function(z){var A=this._div(z),I=A.re.toFixed(0);A=A.im.toFixed(0);I=y.complex(I,A);return{q:I,r:this._add(z.mul(I).mul(-1))}}},{key:"abs",value:function(){if(this.re.isZero())return this.im.abs();if(this.im.isZero())return this.re.abs();var z=this.re.mul(this.re).add(this.im.mul(this.im));if(z instanceof x)return y.real(Math.sqrt(z.n));if(z instanceof H){var A=Math.sqrt(z.n.n.valueOf()),I=Math.sqrt(z.d.n.valueOf());if(Math.round(A)==
A&&Math.round(I)==I)return y.rational(A,I)}z=Math.sqrt(y.real(z).n);return z==Math.round(z)?y.integer(z):y.real(z)}},{key:"isZero",value:function(){return this.re.isZero()&&this.im.isZero()}},{key:"toReal",value:function(){return{re:this.re.toReal(),im:this.im.toReal()}}},{key:"toString",value:function(){return E.toComplexString(this.re.toString(),this.im.toString())}},{key:"toFixed",value:function(z,A){return E.toComplexString(this.re.toFixed(z,A),this.im.toFixed(z,A))}},{key:"toTeX",value:function(){return E.toComplexString(this.re.toTeX?
this.re.toTeX():this.re.toString(),this.im.toTeX?this.im.toTeX():this.im.toString())}}],[{key:"toComplexString",value:function(z,A){if("0"===A)return z;var I="";return"0"!==z&&(I=z,"-"!==A.substr(0,1)&&(I+="+")),I+("1"===A?"i":"-1"===A?"-i":A+"i")}}]),E}(y),x=function(C){function E(z){var A;return t(this,E),(A=B.call(this)).n=z,A}e(E,C);var B=m(E);return F(E,[{key:"_add",value:function(z){return new E(this.n+z.n)}},{key:"_mul",value:function(z){return new E(this.n*z.n)}},{key:"_div",value:function(z){return new E(this.n/
z.n)}},{key:"_divmod",value:function(z){var A=this.n%z.n;return{q:new K(Math.round((this.n-A)/z.n)),r:new E(A)}}},{key:"abs",value:function(){return Math.abs(this.n)}},{key:"isZero",value:function(){return Math.abs(this.n)<=E.EPSILON}},{key:"toString",value:function(){return this.n.toString()}},{key:"toReal",value:function(){return this.n}},{key:"toFixed",value:function(z){var A=this.toString();if(Math.round(this.n)===this.n)return A;z=this.n.toFixed(z);return z.length<A?z:A}}],[{key:"EPSILON",get:function(){return 1E-16}}]),
E}(y),H=function(C){function E(z,A){var I;if(t(this,E),I=B.call(this),!A||A.isZero())throw Error("Cannot divide by zero");var M=z.gcd(A);return I.n=z.idiv(M),I.d=A.idiv(M),I}e(E,C);var B=m(E);return F(E,[{key:"_add",value:function(z){return new E(this.n.mul(z.d).add(this.d.mul(z.n)),this.d.mul(z.d))}},{key:"_mul",value:function(z){return this.n.isZero()?this:new E(this.n.mul(z.n),this.d.mul(z.d))}},{key:"_div",value:function(z){return this.n.isZero()?this:new E(this.n.mul(z.d),this.d.mul(z.n))}},
{key:"_divmod",value:function(z){var A=this._div(z),I=A.n.divmod(A.d);return{q:I.q,r:I.r.isZero()?I.r:z._mul(new E(I.r,A.d))}}},{key:"abs",value:function(){return this.n.abs().div(this.d.abs())}},{key:"isZero",value:function(){return this.n.isZero()}},{key:"toString",value:function(){return E.toFractionString(this.n.toString(),this.d.toString())}},{key:"toTeX",value:function(){var z=E.toFractionString(this.n.toString(),this.d.toString());if(-1==z.indexOf("/"))return z;var A="";return"-"==z.substr(0,
1)&&(A="-",z=z.substr(1)),A+"\\frac{"+z.replace("/","}{")+"}"}},{key:"toReal",value:function(){return this.n.toReal()/this.d.toReal()}},{key:"toFixed",value:function(z,A){if("Q"===A)return this.toString();0>z&&(z=0);var I=this.n.n,M=this.d.n,L=I.isNegative()!=M.isNegative();A=L?"-":"";if(I.isNegative()&&(I=I.negate()),M.isNegative()&&(M=M.negate()),M.equals(1))return A+I.toString();var W=I.divmod(M);I=W.quotient;W=W.remainder;var X=W.multiply("1e"+(z+1)).divmod(M);M=X.remainder.isZero();W=(X=X.quotient.divmod(10)).remainder.greater(L?
5:4)?X.quotient.add(1):X.quotient;X.remainder.isZero()||(M=!1);L=W.toString();if(L.length>z&&"0"!=L&&(I=I.add(1)),A+=I.toString(),L.length<=z&&z){for(A+=".";L.length<z;)L="0000000000".substr(0,z-L.length)+L;if(M)for(;"0"==L.substr(L.length-1);)L=L.substr(0,L.length-1);A+=L}return A}}],[{key:"toFractionString",value:function(z,A){return"0"==z?"0":"1"==A?z:"-1"==A?"-"==z.substr(0,1)?z.substr(1):"-"+z:"-"==A.substr(0,1)?"-"==z.substr(0,1)?z.substr(1)+"/"+A.substr(1):"-"+z+"/"+A.substr(1):z+"/"+A}}]),
E}(y),J=function(C){function E(z,A){var I;return t(this,E),(I=B.call(this)).m="number"==typeof A?A:y.real(A).toReal(),I.n=("number"==typeof z?z:y.real(z).toReal())%I.m,0>I.n&&(I.n+=I.m),I}e(E,C);var B=m(E);return F(E,[{key:"inverse",value:function(){if(E._inverses||(E._inverses={}),E._inverses[this.m]||(E._inverses[this.m]={}),!E._inverses[this.m][this.n]){var z=y.real(this.n).egcd(this.m);E._inverses[this.m][this.n]=new E(z.s.toReal(),this.m)}return E._inverses[this.m][this.n]}},{key:"_add",value:function(z){return new E(this.n+
z.n,this.m)}},{key:"_mul",value:function(z){return new E(this.n*z.n,this.m)}},{key:"_div",value:function(z){return this._mul(z.inverse())}},{key:"_divmod",value:function(z){z=this.n%z.n;return{q:new E(this.n-z,this.m),r:new E(z,this.m)}}},{key:"isZero",value:function(){return 0===this.n}},{key:"toString",value:function(){return this.n.toString()}},{key:"toFixed",value:function(){return this.toString()}},{key:"toReal",value:function(){return this.n}},{key:"toTeX",value:function(){return this.toString()}},
{key:"one",get:function(){return new E(1,this.m)}},{key:"zero",get:function(){return new E(0,this.m)}}]),E}(y);window.PCR=y;window.bigInt=Q.a;window.PCP=p.a}]);
var PCI="object"==typeof PCI?PCI:function(){function b(){this.match=function(c,d,e){if("object"==typeof e){switch(e.t){case "&":c=this.matchAnd(c,d,e);break;case "!":c=this.matchNot(c,d,e);break;case "|":c=this.matchOneOf(c,d,e);break;case "->":c=this.matchReference(c,d,e);break;case "*":c=this.matchArray(c,d,e);break;case "+":c=this.matchArray1(c,d,e);break;default:throw"Invalid rule type '"+e.t+"'";}return c}return this.matchExactString(c,d,e)};this.matchAnd=function(c,d,e){for(var f=[],m=c.getPos(),
l=0;l<e.v.length;++l){var w=this.match(c,d,e.v[l]);if(!w)return c.setPos(m),null;f[l]=w}return new PCI.resultArray(f,e)};this.matchOneOf=function(c,d,e){for(var f=0;f<e.v.length;++f){var m=this.match(c,d,e.v[f]);if(m)return m}return null};this.matchArray=function(c,d,e){for(var f,m=[];f=this.match(c,d,e.v);)m[m.length]=f;return new PCI.resultArray(m,e)};this.matchArray1=function(c,d,e){for(var f,m=[];f=this.match(c,d,e.v);)m[m.length]=f;return 0==m.length?null:new PCI.resultArray(m,e)};this.matchNot=
function(c,d,e){var f=c.getPos();d=this.match(c,d,e.v);c.setPos(f);return d?null:(c=c.get())?new PCI.resultString(c,e):null};this.matchReference=function(c,d,e){var f=c.getPos();return(c=this.match(c,d,d[e.v]))?new PCI.resultReference(c,e.v,f):null};this.matchExactString=function(c,d,e){d="";for(var f=c.getPos(),m=0;m<e.length;++m){var l=c.get();if(!l||l!=e.charAt(m))return c.setPos(f),null;d+=l}return new PCI.resultString(d,e)}}return{resultString:function(c){this.value=c;this.getValue=function(){return this.value};
this.__enum=function(){return[this.value]};this.__clone=function(d){return new PCI.resultString(d[0])}},resultReference:function(c,d,e){this.value=c;this.pos=e;this.getPos=function(){return e};this.getValue=function(){return this.value.getValue()};this.__enum=function(){return[this.value]};this.__name=d;this.__clone=function(f){return new PCI.resultReference(f[0],this.__name)}},resultArray:function(c){this.length=c.length;for(var d=0;d<c.length;++d)this[d]=c[d];this.getValue=function(){for(var e=
"",f=0;f<this.length;++f){var m=this[f];var l=typeof m;m="number"==l?m.toString():"string"==l||"undefined"==l?m:m.getValue?m.getValue():m;e+=m}return e};this.__enum=function(){for(var e=[],f=0;f<this.length;++f)e[f]=this[f];return e};this.__clone=function(e){return new PCI.resultArray(e)}},checkrules:function(c){for(var d in c)if(!PCI.checkrule(c[d],c))return!1;return!0},checkrule:function(c,d){if("object"!=typeof c)return!0;if(c instanceof Array)for(var e=0;e<c.length;++e){if(!PCI.checkrule(c[e],
d))return!1}else if("->"==c.t&&!d[c.v])return!1;return PCI.checkrule(c.v,d)},match:function(c,d,e){return(new b).match(c,d,e)},parserLine:function(c){var d=0;this.get=function(){for(;d!=c.length;){var e=c.charAt(d++);if("\t"!=e&&"\r"!=e&&" "!=e)return e}return 0};this.remainder=function(){return c.substr(d)};this.setPos=function(e){d=e};this.getPos=function(e){return d}},simpleStream:function(c){var d=0;this.get=function(){for(;d!=c.length;)return c.charAt(d++);return 0};this.remainder=function(){return c.substr(d)};
this.setPos=function(e){d=e};this.getPos=function(e){return d}}}}(),PCM="object"==typeof PCM?PCM:function(){function b(p){return"undefined"!=typeof p}function c(){for(var p=[],h=this.args,y=0;y<h.length;++y)p[y]=h[y];return p}function d(){var p=[];b(this.arg1)&&(p[p.length]=this.arg1);b(this.arg2)&&(p[p.length]=this.arg2);b(this.arg3)&&(p[p.length]=this.arg3);return p}function e(p,h){if(PCM.getValue(p.arg2)==PCM.getValue(h))return p.arg1;if(PCM.isNumber(p.arg1)&&PCM.isNumber(h))return PCM.division(PCM.multiplication([p.arg1,
h]),p.arg2)}function f(p,h){if(PCM.isNumber(p)&&PCM.isNumber(h))return PCM.getNumber(p)*PCM.getNumber(h);var y=PCM.getValue(p),K=PCM.getValue(h);if("0"==y||"0"==K)return 0;if("1"==y)return h;if("1"==K)return p;if(p instanceof PCM.multiplication_fn&&h instanceof PCM.multiplication_fn)return p=p.__enum(),PCM.multiplication(p.concat(h.__enum()));if(p instanceof PCM.division_fn&&h instanceof PCM.division_fn)return PCM.getValue(p.arg1)==PCM.getValue(h.arg2)&&PCM.getValue(h.arg1)==PCM.getValue(p.arg2)?
1:PCM.getValue(p.arg1)==PCM.getValue(h.arg2)?PCM.division(h.arg1,p.arg2):PCM.getValue(p.arg2)==PCM.getValue(h.arg1)?PCM.division(p.arg1,h.arg2):PCM.division(PCM.multiplication([p.arg1,h.arg1]),PCM.multiplication([p.arg2,h.arg2]));if(p instanceof PCM.power_fn&&h instanceof PCM.power_fn&&PCM.getValue(p.arg1)==PCM.getValue(h.arg1))return PCM.power(p.arg1,PCM.sum([p.arg2,h.arg2]));if(p instanceof PCM.division_fn)return e(p,h);if(h instanceof PCM.sqrt_fn&&p instanceof PCM.sqrt_fn)return PCM.sqrt(PCM.multiplication([p.arg1,
h.arg1]));if(h instanceof PCM.division_fn)return e(h,p);if(y==K)return PCM.power(p,2)}function m(p,h){var y=h?"\\right)":"";return(h?"\\left(":"")+PCM.getTeX(p)+y}function l(p,h){var y=h?")":"";return(h?"(":"")+PCM.getMath(p)+y}function w(p){return l(p,p instanceof PCM.sum_fn||p instanceof PCM.minus_fn)}function q(p){return l(p,p instanceof PCM.power_fn||p instanceof PCM.sum_fn||p instanceof PCM.multiplication_fn||p instanceof PCM.division_fn||p instanceof PCM.minus_fn)}function r(p,h){return PCM.getComplexity(p)-
PCM.getComplexity(h)}function t(p,h){return PCM.isConstant(p)?0:"x"==PCM.getValue(p)?h:PCM.multiplication([h,new PCM.derivative_fn(p)])}function u(p,h,y,K){p.arg1=h;p.immediatepowersign=!0;p.name=y;p.__enum=d;p.getValue=function(){return this.name+"("+PCM.getValue(this.arg1)+")"};p.__clone=function(O){return K(O[0])};p.getTeX=function(){return"\\"+this.name+"\\left("+PCM.getTeX(this.arg1)+"\\right)"};p.getMath=function(){return this.name+"("+PCM.getMath(this.arg1)+")"}}function F(p){p.getTeX=function(){return this.name+
"\\left("+PCM.getTeX(this.arg1)+"\\right)"}}function Q(){var p=this;p.__translate=function(h){if(h instanceof PCI.resultString)return h.getValue();if(h instanceof PCI.resultReference){var y=p[h.__name];if(y)return y(h.value)}throw"Could not translate: "+PCM.getValue(h);};p.func=function(h){var y=PCM.getValue(h[0]);h=p.__translate(h[2]);var K={sin:new PCM.sin_fn(h),cos:new PCM.cos_fn(h),tan:new PCM.tan_fn(h),cot:new PCM.cot_fn(h),tg:new PCM.tan_fn(h),ctg:new PCM.cot_fn(h),th:new PCM.tanh_fn(h),cth:new PCM.coth_fn(h),
tanh:new PCM.tanh_fn(h),coth:new PCM.coth_fn(h),ch:new PCM.cosh_fn(h),sh:new PCM.sinh_fn(h),cosh:new PCM.cosh_fn(h),sinh:new PCM.sinh_fn(h),sec:new PCM.sec_fn(h),cosec:new PCM.csc_fn(h),sech:new PCM.sech_fn(h),csch:new PCM.csch_fn(h),sqrt:new PCM.sqrt_fn(h),exp:new PCM.power_fn(PCM.exp(),h),ln:new PCM.ln_fn(h),lg:new PCM.lg_fn(h),lb:new PCM.lb_fn(h),arcsin:new PCM.arcsin_fn(h),arccos:new PCM.arccos_fn(h),arctan:new PCM.arctan_fn(h),arccot:new PCM.arccot_fn(h),arctg:new PCM.arctan_fn(h),arcctg:new PCM.arccot_fn(h),
arcsec:new PCM.arcsec_fn(h),arccosec:new PCM.arccosec_fn(h),abs:new PCM.abs_fn(h),sgn:new PCM.sign_fn(h),sign:new PCM.sign_fn(h),delta:new PCM.delta_fn(h),derivative:new PCM.derivative_fn(h)};return K[y]?K[y]:new PCM.function_fn(h,y)};p.funcnum=function(h){var y=PCM.getValue(h[0]),K=PCM.getNumber(h[1]);h=p.__translate(h[3]);return{root:new PCM.root_fn(h,K),log:new PCM.logn_fn(h,K)}[y]};p.factor=function(h){return 1==("-"==PCM.getValue(h[0])?-1:1)?p.__translate(h[1]):PCM.minus(p.__translate(h[1]))};
p.value=function(h){switch(h.__name){case "func":case "pi":case "exponenta":case "variable":case "funcnum":return p.__translate(h);case "paren expression":return p.__translate(h.value[1])}return PCM.getNumber(h)};p.variable=function(h){return new PCM.variable_fn};p.pi=function(h){return new PCM.pi_fn};p.exponenta=function(h){return PCM.exp()};p.power=function(h){if(0==h[1].length)return p.__translate(h[0]);for(var y=[],K=h[1],O=0;O<K.length;++O)y[y.length]=p.__translate(K[O][1]);O=p.__translate(h[0]);
h=new PCM.power_fn(O,y[0]);for(O=1;O<y.length;++O)h=new PCM.power_fn(h,y[O]);return h};p.product=function(h){if(0==h[1].length)return p.__translate(h[0]);var y=[p.__translate(h[0])],K=[];h=h[1];for(var O=0;O<h.length;++O){var x=h[O];"*"==PCM.getValue(x[0])?y[y.length]=p.__translate(x[1]):"/"==PCM.getValue(x[0])&&(K[K.length]=p.__translate(x[1]))}return K.length?(y=1<y.length?new PCM.multiplication_fn(y):y[0],K=1<K.length?new PCM.multiplication_fn(K):K[0],new PCM.division_fn(y,K)):1==y.length?y[0]:
new PCM.multiplication_fn(y)};p.sum=function(h){if(0==h[1].length)return p.__translate(h[0]);var y=[p.__translate(h[0])];h=h[1];for(var K=0;K<h.length;++K){var O=h[K];y[y.length]=p.__translate(O[1]);"-"==PCM.getValue(O[0])&&(y[y.length-1]=new PCM.minus_fn(y[y.length-1]))}return 1==y.length?y[0]:new PCM.sum_fn(y)};p.expression=function(h){return p.__translate(h)}}return{Complex:function(p,h){void 0===h?(this.im=0,void 0===p?this.re=void 0:"number"===typeof p?this.re=p:"string"===typeof p?(p=p.replace(/\s/g,
""),this.re=parseFloat(p),h=p.substring(1).search(/[\+-]/),-1!==h?(p=p.substring(h+1),this.im="+i"==p?1:"-i"==p?-1:parseFloat(p)):"i"==p.substr(p.length-1)&&(this.im="i"==p?1:"-i"==p?-1:this.re,this.re=0)):void 0!==p.re&&void 0!==p.im?(this.re=p.re,this.im=p.im):this.re=p):(this.re=p,this.im=h)},isNumber:function(p){return"number"==typeof p},isInteger:function(p){return"number"==typeof p&&Math.floor(p)==p},isConstant:function(p){if("string"==typeof p||"number"==typeof p)return!0;if(p instanceof PCM.variable_fn)return!1;
p=p.__enum();for(var h=0;h<p.length;++h)if(!PCM.isConstant(p[h]))return!1;return!0},getNumber:function(p){var h=typeof p;return"number"==h?p:"string"==h?Number(p):Number(p.getValue())},getValue:function(p){var h=typeof p;return"number"==h?new String(p):"string"==h||"undefined"==h?p:p.getValue?p.getValue():p},getTeX:function(p){var h=typeof p;return"number"==h?new String(p):"string"==h||"undefined"==h?p:p.getTeX?p.getTeX():p},getMath:function(p){var h=typeof p;return"number"==h?new String(p):"string"==
h||"undefined"==h?p:p.getMath?p.getMath():p},getComplexity:function(p){var h=1,y=typeof p;if("object"==y||p.__enum)if(p instanceof PCM.variable_fn)h+=3;else for(h+=1,p instanceof PCM.division_fn&&(h+=1),p instanceof PCM.power_fn&&(h=PCM.isConstant(p.arg1)?h+1:h+2,h=PCM.isConstant(p.arg2)?h+1:h+2),p=p.__enum(),y=0;y<p.length;++y)h+=PCM.getComplexity(p[y]);else"number"==y&&(0>p&&(h+=1),p!=Math.round(p)&&(h+=1));return h},getNod:function(p,h){p=0>p?-p:p;for(h=0>h?-h:h;p*h;)p>=h?p%=h:h%=p;return p+h},
getMultipliers:function(p){if(p instanceof PCM.multiplication_fn)return p.__enum();if(p instanceof PCM.minus_fn){var h=PCM.getMultipliers(p.arg1);h[h.length]=-1;return h}if(p instanceof PCM.power_fn){h=PCM.getMultipliers(p.arg1);for(var y=[],K=0;K<h.length;++K)y[y.length]=PCM.power(h[K],p.arg2);return y}return[p]},calculate:function(p,h){return PCM.isNumber(p)?p:p.calculate(h)},division_fn:function(p,h){this.arg1=p;this.arg2=h;this.__enum=d;this.getValue=function(){return"("+PCM.getValue(this.arg1)+
")/("+PCM.getValue(this.arg2)+")"};this.getTeX=function(){return"\\frac{"+PCM.getTeX(this.arg1)+"}{"+PCM.getTeX(this.arg2)+"}"};this.getMath=function(){var y=w(this.arg1)+"/";var K=this.arg2;K=l(K,K instanceof PCM.sum_fn||K instanceof PCM.multiplication_fn||K instanceof PCM.division_fn||K instanceof PCM.minus_fn);return y+K};this.getDerivative=function(){return PCM.division(PCM.sum([PCM.multiplication([PCM.derivative(this.arg1),this.arg2]),PCM.minus(PCM.multiplication([this.arg1,PCM.derivative(this.arg2)]))]),
PCM.power(this.arg2,2))};this.__clone=function(y){return PCM.division(y[0],y[1])};this.calculate=function(y){return PCM.calculate(this.arg1,y)/PCM.calculate(this.arg2,y)}},division:function(p,h){if(p instanceof PCM.division_fn&&h instanceof PCM.division_fn)return PCM.division(PCM.multiplication([p.arg1,h.arg2]),PCM.multiplication([p.arg2,h.arg1]));if(p instanceof PCM.division_fn)return h=PCM.division(p.arg1,PCM.multiplication([p.arg2,h]));if(h instanceof PCM.division_fn)return PCM.division(PCM.multiplication([p,
h.arg2]),h.arg1);for(var y=PCM.getMultipliers(p),K=PCM.getMultipliers(h),O=0;O<y.length;++O)for(var x=0;x<K.length;++x){h=y[O];p=K[x];if(PCM.getValue(h)==PCM.getValue(p))K[x]=1,y[O]=1;else if(PCM.isNumber(h)&&PCM.isNumber(p)&&h==Math.round(h)&&p==Math.round(p)){h=PCM.getNumber(h);p=PCM.getNumber(p);var H=PCM.getNod(h,p);K[x]=p/H;y[O]=h/H}else continue;break}h=PCM.multiplication(y);p=PCM.multiplication(K);y=PCM.isNumber(h);K=PCM.isNumber(p);return h=y&&0==PCM.getNumber(h)?0:K&&1==PCM.getNumber(p)?
h:new PCM.division_fn(h,p)},multiplication:function(p){for(var h=[],y=!1,K=0;K<p.length;++K)for(var O=PCM.getMultipliers(p[K]),x=0;x<O.length;++x){var H=O[x];if(-1==H)y=!y;else{for(var J=!1,C=0;C<h.length;++C){var E=f(h[C],H);if("undefined"!=typeof E){h[C]=E;J=!0;break}}J||(h[h.length]=H)}}E=1==h.length?h[0]:0==h.length?1:new PCM.multiplication_fn(h);return y?PCM.minus(E):E},multiplication_fn:function(p){this.args=p;this.__enum=c;this.sorted=!1;this.sort=function(){this.args.sort(r)};this.getValue=
function(){this.sort();for(var h="",y=0;y<this.args.length;++y)h=h+"*"+PCM.getValue(this.args[y]);return h.substring(1)};this.getTeX=function(){this.sort();for(var h="",y="",K=0;K<this.args.length;++K)h=h+y+" ",y=this.args[K],y=m(y,y instanceof PCM.sum_fn||y instanceof PCM.minus_fn),h+=y,y="\\cdot";return h};this.getMath=function(){this.sort();for(var h="",y="",K=0;K<this.args.length;++K)h=h+y+w(this.args[K]),y="*";return h};this.__clone=function(h){return PCM.multiplication(h)};this.getDerivative=
function(){for(var h=[],y=0;y<this.args.length;++y){for(var K=[],O=0;O<this.args.length;++O)K[K.length]=y==O?PCM.derivative(this.args[O]):this.args[O];h[h.length]=PCM.multiplication(K)}return PCM.sum(h)};this.calculate=function(h){for(var y=1,K=0;K<this.args.length;++K)y*=PCM.calculate(this.args[K],h);return y}},sum:function(p){for(var h=0,y=[],K=0;K<p.length;++K)PCM.isNumber(p[K])?h+=PCM.getNumber(p[K]):y[y.length]=p[K];if(!y.length)return h;h&&(y[y.length]=h);return 1==y.length?y[0]:new PCM.sum_fn(y)},
sum_fn:function(p){this.args=p;this.__enum=c;this.getValue=function(){for(var h="",y=!0,K=0;K<this.args.length;++K){var O=new String(PCM.getValue(this.args[K]));0<O.length&&"-"==O.charAt(0)?h+=O:y?(h=O+h,y=!1):h=h+"+"+O}return"("+h+")"};this.getTeX=function(){for(var h="",y=!0,K=0;K<this.args.length;++K){var O=new String(PCM.getValue(this.args[K]));0<O.length&&"-"==O.charAt(0)?h+=PCM.getTeX(this.args[K]):y?(h=PCM.getTeX(this.args[K])+h,y=!1):h=h+"+"+PCM.getTeX(this.args[K])}return h};this.getMath=
function(){for(var h="",y=0;y<this.args.length;++y){var K=new String(PCM.getValue(this.args[y]));h=0<K.length&&"-"==K.charAt(0)||0==h.length?h+PCM.getMath(this.args[y]):h+"+"+PCM.getMath(this.args[y])}return h};this.getDerivative=function(){for(var h=[],y=0;y<this.args.length;++y)PCM.isConstant(this.args[y])||(h[h.length]=PCM.derivative(this.args[y]));return PCM.sum(h)};this.__clone=function(h){return PCM.sum(h)};this.calculate=function(h){for(var y=0,K=0;K<this.args.length;++K)y+=PCM.calculate(this.args[K],
h);return y}},substraction:function(p,h){return PCM.sum([p,PCM.minus(h)])},power:function(p,h){if(PCM.isNumber(p)&&PCM.isNumber(h)){var y=PCM.getNumber(p);h=PCM.getNumber(h);return 0>h?PCM.division(1,PCM.power(p,-h)):Math.pow(y,h)}if(PCM.isNumber(h)){y=PCM.getNumber(h);if(0==y)return 1;if(1==y)return p}else if(PCM.isNumber(p)){y=PCM.getNumber(p);if(0==y)return 0;if(1==y)return 1}return new PCM.power_fn(p,h)},power_fn:function(p,h){this.arg1=p;this.arg2=h;this.__enum=d;this.getValue=function(){return"("+
PCM.getValue(this.arg1)+")^("+PCM.getValue(this.arg2)+")"};this.getTeX=function(){if("object"==typeof this.arg1&&this.arg1.immediatepowersign)return"{\\"+this.arg1.name+"}^{"+PCM.getTeX(this.arg2)+"}\\left({"+PCM.getTeX(this.arg1.arg1)+"}\\right)";var y=this.arg1;return"{"+m(y,y instanceof PCM.sum_fn||y instanceof PCM.multiplication_fn||y instanceof PCM.division_fn||y instanceof PCM.minus_fn)+"}^{"+PCM.getTeX(this.arg2)+"}"};this.getMath=function(){return q(this.arg1)+"^"+q(this.arg2)};this.__clone=
function(y){return PCM.power(y[0],y[1])};this.getDerivative=function(){var y=PCM.isConstant(this.arg1),K=PCM.isConstant(this.arg2);return y&&K?0:y?(y=[this,PCM.ln(this.arg1)],"x"!=PCM.getValue(this.arg2)&&(y[y.length]=PCM.derivative(this.arg2)),PCM.multiplication(y)):K?(y=[this.arg2,PCM.power(this.arg1,PCM.sum([this.arg2,-1]))],"x"!=PCM.getValue(this.arg1)&&(y[y.length]=PCM.derivative(this.arg1)),PCM.multiplication(y)):PCM.derivative(new PCM.power(PCM.exp(),PCM.multiplication([PCM.ln(this.arg1),this.arg2])))};
this.calculate=function(y){return Math.pow(PCM.calculate(this.arg1,y),PCM.calculate(this.arg2,y))}},minus:function(p){if(PCM.isNumber(p))return-PCM.getNumber(p);if(p instanceof PCM.minus_fn)return p.arg1;if(p instanceof PCM.division_fn)return PCM.division(PCM.minus(p.arg1),p.arg2);if(p instanceof PCM.multiplication_fn){if(p.args[0]instanceof PCM.minus_fn)return p.args[0]=p.args[0].arg1,p;if(PCM.isNumber(p.args[0]))return p.args[0]=-PCM.getNumber(p.args[0]),p}return new PCM.minus_fn(p)},minus_fn:function(p){u(this,
p,"minus",PCM.minus);this.immediatepowersign=!1;this.getValue=function(){var h=this.arg1,y=h instanceof PCM.sum_fn||h instanceof PCM.minus_fn||h instanceof PCM.power_fn,K=y?")":"";return"-"+((y?"(":"")+PCM.getValue(h)+K)};this.getTeX=function(){var h=this.arg1;return"-"+m(h,h instanceof PCM.sum_fn||h instanceof PCM.minus_fn)};this.getMath=function(){var h=this.arg1;return"-"+l(h,h instanceof PCM.sum_fn||h instanceof PCM.minus_fn||h instanceof PCM.power_fn)};this.getDerivative=function(){return PCM.minus(PCM.derivative(p))};
this.calculate=function(h){return-PCM.calculate(this.arg1,h)}},sin:function(p){return new PCM.sin_fn(p)},sin_fn:function(p){u(this,p,"sin",PCM.sin);this.getDerivative=function(){return t(this.arg1,PCM.cos(this.arg1))};this.calculate=function(h){return Math.sin(PCM.calculate(this.arg1,h))}},cos:function(p){return new PCM.cos_fn(p)},cos_fn:function(p){u(this,p,"cos",PCM.cos);this.getDerivative=function(){return t(this.arg1,PCM.minus(PCM.sin(this.arg1)))};this.calculate=function(h){return Math.cos(PCM.calculate(this.arg1,
h))}},ln:function(p){return p instanceof PCM.exp_fn?1:new PCM.ln_fn(p)},ln_fn:function(p){u(this,p,"ln",PCM.ln);this.getDerivative=function(){return t(this.arg1,PCM.division(1,this.arg1))};this.calculate=function(h){return Math.log(PCM.calculate(this.arg1,h))}},lg:function(p){return new PCM.lg_fn(p)},lg_fn:function(p){u(this,p,"lg",PCM.lg);this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,PCM.ln(10)])))};this.calculate=function(h){return Math.log(PCM.calculate(this.arg1,
h))/Math.log(10)}},lb:function(p){return new PCM.lb_fn(p)},lb_fn:function(p){u(this,p,"lb",PCM.lb);F(this);this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,PCM.ln(2)])))};this.calculate=function(h){return Math.log(PCM.calculate(this.arg1,h))/Math.log(2)}},logn:function(p,h){return new PCM.logn_fn(p,h)},logn_fn:function(p,h){u(this,p,"log_"+h,PCM.logn);this.getMath=function(){return"log"+this.arg2+"("+PCM.getMath(this.arg1)+")"};this.getValue=function(){return"log"+
this.arg2+"("+PCM.getMath(this.arg1)+")"};this.arg2=h;this.__clone=function(y){return PCM.logn(y[0],y[1])};this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,PCM.ln(this.arg2)])))};this.calculate=function(y){return Math.log(PCM.calculate(this.arg1,y))/Math.log(this.arg2)}},cosh_fn:function(p){u(this,p,"cosh",PCM.cosh);this.getDerivative=function(){return t(this.arg1,PCM.sinh(this.arg1))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return(Math.exp(h)+
Math.exp(-h))/2}},cosh:function(p){return new PCM.cosh_fn(p)},sinh_fn:function(p){u(this,p,"sinh",PCM.sinh);this.getDerivative=function(){return t(this.arg1,PCM.cosh(this.arg1))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return(Math.exp(h)-Math.exp(-h))/2}},sinh:function(p){return new PCM.sinh_fn(p)},sech_fn:function(p){u(this,p,"sech",PCM.sech);F(this);this.getDerivative=function(){return PCM.division(1,PCM.cosh(this.arg1)).getDerivative()};this.calculate=function(h){h=PCM.calculate(this.arg1,
h);return 2/(Math.exp(h)+Math.exp(-h))}},sech:function(p){return new PCM.sech_fn(p)},csch_fn:function(p){u(this,p,"csch",PCM.csch);F(this);this.getDerivative=function(){return PCM.division(1,PCM.sinh(this.arg1)).getDerivative()};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return 2/(Math.exp(h)-Math.exp(-h))}},csch:function(p){return new PCM.csch_fn(p)},tanh_fn:function(p){u(this,p,"tanh",PCM.tanh);this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.power(PCM.cosh(this.arg1),
2)))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return(Math.exp(2*h)-1)/(Math.exp(2*h)+1)}},tanh:function(p){return new PCM.tanh_fn(p)},coth_fn:function(p){u(this,p,"coth",PCM.coth);this.getDerivative=function(){return t(this.arg1,PCM.division(-1,PCM.power(PCM.sinh(this.arg1),2)))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return(Math.exp(2*h)+1)/(Math.exp(2*h)-1)}},coth:function(p){return new PCM.coth_fn(p)},variable_fn:function(p){this.getValue=function(){return"x"};
this.getTeX=function(){return"{x}"};this.getMath=function(){return"x"};this.__enum=function(){return[]};this.__clone=function(h){return new PCM.variable_fn};this.getDerivative=function(){return 1};this.calculate=function(h){return h.x}},sqrt_fn:function(p){u(this,p,"sqrt",PCM.sqrt);this.immediatepowersign=!1;this.getTeX=function(){return"\\sqrt{"+PCM.getTeX(this.arg1)+"}"};this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.multiplication([2,PCM.sqrt(this.arg1)])))};this.calculate=
function(h){h=PCM.calculate(this.arg1,h);return Math.sqrt(h)}},sqrt:function(p){return new PCM.sqrt_fn(p)},root_fn:function(p,h){this.arg1=p;this.arg2=h;this.immediatepowersign=!1;this.name="root";this.__enum=function(){return[this.arg1,this.arg2]};this.getValue=function(){return this.name+this.arg2+"("+PCM.getValue(this.arg1)+")"};this.__clone=function(y){return PCM.root(y[0],y[1])};this.getTeX=function(){return"{\\small^"+PCM.getTeX(this.arg2)+"}\\sqrt{"+PCM.getTeX(this.arg1)+"}"};this.getMath=
function(){return"root"+this.arg2+"("+PCM.getMath(this.arg1)+")"};this.getDerivative=function(){return(new PCM.power_fn(this.arg1,PCM.division(1,this.arg2))).getDerivative()};this.calculate=function(y){y=PCM.calculate(this.arg1,y);return Math.pow(y,1/this.arg2)}},root:function(p,h){return new PCM.root_fn(p,h)},exp_fn:function(p){this.getValue=function(){return"e"};this.getTeX=function(){return"e"};this.getMath=function(){return"e"};this.__enum=function(){return[]};this.__clone=function(h){return new PCM.exp_fn};
this.getDerivative=function(){return 0};this.calculate=function(h){return Math.exp(1)}},exp:function(){return new PCM.exp_fn},tan_fn:function(p){u(this,p,"tan",PCM.tan);this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.power(PCM.cos(this.arg1),2)))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return Math.tan(h)}},tan:function(p){return new PCM.tan_fn(p)},cot_fn:function(p){u(this,p,"cot",PCM.cot);this.getDerivative=function(){return t(this.arg1,PCM.division(-1,PCM.power(PCM.sin(this.arg1),
2)))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return 1/Math.tan(h)}},cot:function(p){return new PCM.cot_fn(p)},sec_fn:function(p){u(this,p,"sec",PCM.sec);this.getDerivative=function(){return t(this.arg1,PCM.division(PCM.sin(this.arg1),PCM.power(PCM.cos(this.arg1),2)))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return 1/Math.cos(h)}},sec:function(p){return new PCM.sec_fn(p)},csc_fn:function(p){u(this,p,"csc",PCM.csc);this.getDerivative=function(){return t(this.arg1,PCM.division(PCM.cos(this.arg1),
PCM.power(PCM.sin(this.arg1),2)))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return 1/Math.sin(h)}},csc:function(p){return new PCM.csc_fn(p)},arctan_fn:function(p){u(this,p,"arctan",PCM.arctan);this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.sum([1,PCM.power(this.arg1,2)])))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return Math.atan(h)}},arctan:function(p){return new PCM.arctan_fn(p)},arccot_fn:function(p){u(this,p,"arccot",PCM.arccot);F(this);this.getDerivative=
function(){return t(this.arg1,PCM.division(-1,PCM.sum([1,PCM.power(this.arg1,2)])))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return Math.PI/2-Math.atan(h)}},arccot:function(p){return new PCM.arccot_fn(p)},arcsin_fn:function(p){u(this,p,"arcsin",PCM.arcsin);this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.sqrt(PCM.substraction(1,PCM.power(this.arg1,2)))))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return Math.asin(h)}},arcsin:function(p){return new PCM.arcsin_fn(p)},
arccos_fn:function(p){u(this,p,"arccos",PCM.arccos);this.getDerivative=function(){return t(this.arg1,PCM.division(-1,PCM.sqrt(PCM.substraction(1,PCM.power(this.arg1,2)))))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return Math.acos(h)}},arccos:function(p){return new PCM.arccos_fn(p)},arcsec_fn:function(p){u(this,p,"arcsec",PCM.arcsec);F(this);this.getDerivative=function(){return t(this.arg1,PCM.division(1,PCM.multiplication([PCM.power(this.arg1,2),PCM.sqrt(PCM.sum([1,PCM.minus(PCM.power(this.arg1,
2))]))])))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return Math.acos(1/h)}},arcsec:function(p){return new PCM.arcsec_fn(p)},arccosec_fn:function(p){u(this,p,"arccosec",PCM.arccosec);F(this);this.getDerivative=function(){return t(this.arg1,PCM.division(-1,PCM.multiplication([PCM.power(this.arg1,2),PCM.sqrt(PCM.substraction(1,PCM.power(this.arg1,2)))])))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return Math.PI/2-Math.acos(1/h)}},arccosec:function(p){return new PCM.arccosec_fn(p)},
function_fn:function(p,h){u(this,p,h,null);F(this);this.__clone=function(O){return new PCM.function_fn(O[0],this.name)};var y={versin:function(O){return PCM.sin(O)},vercos:function(O){return PCM.minus(PCM.cos(O))},haversin:function(O){return PCM.division(PCM.sin(O),2)},exsec:function(O){return PCM.division(PCM.sin(O),PCM.power(PCM.cos(O),2))},excsc:function(O){return PCM.division(PCM.minus(PCM.cos(O)),PCM.power(PCM.sin(O),2))}},K={versin:function(O){return 1-Math.cos(O)},vercos:function(O){return 1+
Math.cos(O)},haversin:function(O){return(1-Math.cos(O))/2},exsec:function(O){return 1/Math.cos(O)-1},excsc:function(O){return 1/Math.sin(O)-1}};this.getDerivative=function(){if(PCM.isConstant(this.arg1))return 0;var O=y[this.name];if(O)return t(this.arg1,O(this.arg1))};this.calculate=function(O){O=PCM.calculate(this.arg1,O);return(0,K[this.name])(O)}},abs:function(p){return new PCM.abs_fn(p)},abs_fn:function(p){u(this,p,"abs",PCM.abs);this.getDerivative=function(){return t(this.arg1,PCM.division(PCM.abs(this.arg1),
this.arg1))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return Math.abs(h)};this.getTeX=function(){return"\\left|"+PCM.getTeX(this.arg1)+"\\right|"}},sign:function(p){return PCM.isNumber(p)?0>p?-1:0<p?1:0:new PCM.sign_fn(p)},sign_fn:function(p){u(this,p,"sign",PCM.sign);F(this);this.getDerivative=function(){return t(this.arg1,new PCM.multiplication_fn([2,PCM.delta(this.arg1)]))};this.calculate=function(h){h=PCM.calculate(this.arg1,h);return 0>h?-1:0<h?1:0}},delta:function(p){return PCM.isNumber(p)?
0==p?Number.POSITIVE_INFINITY:0:new PCM.delta_fn(p)},delta_fn:function(p){u(this,p,"delta",PCM.delta);this.getTeX=function(){return"\\delta("+PCM.getTeX(this.arg1)+")"};this.getDerivative=function(){};this.calculate=function(h){return 0==PCM.calculate(this.arg1,h)?Number.POSITIVE_INFINITY:0}},pi_fn:function(){this.__enum=function(){return[]};this.__clone=function(p){return new PCM.pi_fn};this.getValue=function(){return"pi"};this.getTeX=function(){return"\\pi"};this.getMath=function(){return"pi"};
this.getDerivative=function(){return 0};this.calculate=function(p){return Math.PI}},derivative_fn:function(p){this.arg1=p;this.__enum=d;this.__clone=function(h){return PCM.derivative(h[0])};this.getValue=function(){return"f'("+PCM.getValue(this.arg1)+")"};this.getTeX=function(){return"{f^\\prime}\\left("+PCM.getTeX(this.arg1)+"\\right)"};this.getMath=function(){return"derivative("+PCM.getMath(this.arg1)+")"};this.getDerivative=function(){return this.arg1.getDerivative()}},derivative:function(p){return PCM.isConstant(p)?
0:new PCM.derivative_fn(p)},translate:function(p){return(new Q).__translate(p)},grammar:function(){this.digit={t:"|",v:"0123456789".split("")};this["plus sign"]="+";this["power sign"]="^";this["minus sign"]="-";this.dot=".";this["left paren"]="(";this["right paren"]=")";this.asterisk="*";this.solidus="/";this.dotorcomma={t:"|",v:[".",","]};this["unsigned integer"]={t:"&",v:[{t:"->",v:"digit"},{t:"*",v:{t:"->",v:"digit"}}]};this["exact numeric literal"]={t:"|",v:[{t:"&",v:[{t:"->",v:"unsigned integer"},
{t:"|",v:[{t:"&",v:[{t:"->",v:"dotorcomma"},{t:"|",v:[{t:"->",v:"unsigned integer"},""]}]},""]}]},{t:"&",v:[{t:"->",v:"dotorcomma"},{t:"->",v:"unsigned integer"}]}]};this.mantissa={t:"->",v:"exact numeric literal"};this["signed integer"]={t:"&",v:[{t:"|",v:[{t:"->",v:"sign"},""]},{t:"->",v:"unsigned integer"}]};this.sign={t:"|",v:[{t:"->",v:"plus sign"},{t:"->",v:"minus sign"}]};this.exponent={t:"->",v:"signed integer"};this["approximate numeric literal"]={t:"&",v:[{t:"->",v:"mantissa"},"E",{t:"->",
v:"exponent"}]};this["unsigned numeric literal"]={t:"|",v:[{t:"->",v:"approximate numeric literal"},{t:"->",v:"exact numeric literal"}]};this.variable="x";this.pi="pi";this.exponenta={t:"|",v:["e","E"]};this["paren expression"]={t:"&",v:[{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this.value={t:"|",v:[{t:"->",v:"unsigned numeric literal"},{t:"->",v:"variable"},{t:"->",v:"func"},{t:"->",v:"funcnum"},{t:"->",v:"pi"},{t:"->",v:"exponenta"},{t:"->",v:"paren expression"}]};
this.factor={t:"&",v:[{t:"|",v:[{t:"->",v:"sign"},""]},{t:"->",v:"value"}]};this.factoroperator={t:"|",v:[{t:"->",v:"asterisk"},{t:"->",v:"solidus"}]};this.power={t:"&",v:[{t:"->",v:"factor"},{t:"*",v:{t:"&",v:[{t:"->",v:"power sign"},{t:"->",v:"factor"}]}}]};this.product={t:"&",v:[{t:"->",v:"power"},{t:"*",v:{t:"&",v:[{t:"->",v:"factoroperator"},{t:"->",v:"power"}]}}]};this.sum={t:"&",v:[{t:"->",v:"product"},{t:"*",v:{t:"&",v:[{t:"->",v:"sign"},{t:"->",v:"product"}]}}]};this.func={t:"&",v:[{t:"->",
v:"func name"},{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this.funcnum={t:"&",v:[{t:"->",v:"funcnum name"},{t:"->",v:"unsigned integer"},{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this["func name"]={t:"|",v:"sinh tanh coth cosh sin cosec cos tg tan ctg cot sech sec arcsin arccosec arccos arctg arctan arcctg arccot arcsec exp lb lg ln versin vercos haversin exsec excsc sqrt sh ch th cth csch abs sgn sign delta derivative".split(" ")};
this["funcnum name"]={t:"|",v:["root","log"]};this.expression={t:"->",v:"sum"};this._getRootRule=function(){return{t:"->",v:"expression"}}}}}();
function ElementAccessorResultset(b,c){var d=this,e=null,f=null;void 0!==b&&PCF.setResultsSet(b);d.init=function(){f=new ElementAccessorRadio;f.id=d.id;e=new ElementAccessorPrecision(c);e.id=d.id+"_pc";e.init();$(f.changeSources()).on("change",function(){var m=f.GetValue();PCF.setResultsSet(m);var l=$("#"+d.id+"_p");"Q"==m?l.hide(500):l.show(500,function(){for(var w=PCF.getPrecisionControls(),q=0;q<w.length;++q)w[q].layout()})})};d.changeSources=function(){var m=f.changeSources();m.push(window.PCF);
return m};d.GetElement=function(){return f.GetElement()};d.ResetValue=function(){f.ResetValue();e.ResetValue()};d.GetValue=function(){return{r:f.GetValue(),p:e.GetValue()}};d.SetValue=function(m){m&&(void 0!==m.p&&e.SetValue(m.p),void 0!==m.r&&f.SetValue(m.r))};d.GetRawValue=function(){return d.GetValue()}}
function ElementAccessorNumericArray(){var b=this;b.inheritFrom=ElementAccessorText;b.inheritFrom();b.GetValue=function(){var d=b.GetElement().value;return b.nullable&&void 0===d?void 0:String2Array(d,Number)};var c=b.SetValue;b.SetValue=function(d){c(Array2String(d))}}function ElementAccessorBigNumberArray(){var b=this;b.inheritFrom=ElementAccessorNumericArray;b.inheritFrom();b.GetValue=function(){var c=b.GetElement().value;return b.nullable&&""==c?void 0:String2Array(c,PCR.parse)}}
function ElementAccessorBigNumber(){var b=this;b.inheritFrom=ElementAccessorText;b.inheritFrom();b.GetValue=function(){var c=b.GetElement().value;return""==c?b.nullable?void 0:PCR.integer(0):PCR.parse(c)}}
function FormatterFormula(){var b=this;b.Reset=function(){b.data={}};b.Format=function(c){c=b.FormatSimple(c);if(!c||""==c)return"";PCF.requestFormulaUpdate();return'<script type="math/tex">'+c+"\x3c/script>"};b.FormatSimple=function(c){c="object"==typeof c?PCM.getTeX(c):c;return""!=c?c:""};b.FormatAsync=function(c,d){if(void 0!==c){c=b.FormatSimple(c);var e=window.MathJax;d.SetValue('<script type="math/tex">\\displaystyle{'+(c+"}\x3c/script>"));e.Hub.Queue(["Typeset",MathJax.Hub,d.GetElement()])}}}
function FormatterComplexNumber(b,c,d,e){var f=new FormatterNumber(b,c,d,e),m="R"==e?null:new FormatterFormula,l=this;l.Format=function(w){w=l.FormatSimple(w);return m?m.Format(w):w};l.FormatSimple=function(w){if(void 0===w)return"";if(void 0===w.im&&void 0===w.re)return f.FormatSimple(w);var q=f.FormatSimple(w.im);w=f.FormatSimple(w.re);if("0"==q||""==q)return w;"0"==w&&(w="");"-1"===q?q="-":"1"==q&&(q="");""!=w&&"-"!==q.substr(0,1)&&(q="+"+q);return w+q+"i"};l.isNumeric=!0}
function FormatterPolynomial(b,c,d,e){var f=this,m=new FormatterNumber(b,c,d,e),l=new FormatterFormula;f.isNumeric=!1;f.Format=function(w){w=f.FormatSimple(w);return l.Format(w)};f.isNumeric=!1;f.FormatSimple=function(w){for(var q="",r=0;r<w.length;++r){var t=w[r];if(t&&(t=m.FormatSimple(t),"0"!=t)){if(r!=w.length-1){if("-1"==t)t="-";else if("1"==t)t="";else{var u=-1!==t.indexOf("+",1)||-1!==t.indexOf("-",1);t=(u?"(":"")+t+(u?")":"")}t+="x";u=w.length-r-1;1<u&&(t+="^{"+u+"}")}q&&"-"!=t.substr(0,1)&&
(q+="+");q+=t}}return q}}function ValidatorRing(b,c,d,e){this.Validate=function(f){if(""==f)return"";try{var m=f.trim();if(!b&&"-"==m.substr(0,1))return getFormattedMessage("err_invalid_positive_number");if(!c&&(-1!=m.indexOf(".")||-1!=m.indexOf(",")))return getFormattedMessage("err_invalid_integer_number");if(!d&&-1!=m.indexOf("i"))return PCL.err_complex_not_allowed;if(!e&&-1!=m.indexOf("/"))return PCL.err_fraction_not_allowed;PCR.parse(f)}catch(l){return l.message}return""}}
function ValidatorArray(b,c,d,e){this.Validate=function(f){f=f.trim();if(""==f)return"";f=f.split(/[\s\n\r\t]+/).filter(function(l){return 0!=l.length});if(c&&(f.length<d||f.length>e))return d==e?getFormattedMessage("err_array_range_error_single",d):getFormattedMessage("err_array_range_error",d,e);for(var m=0;m<f.length;++m)try{PCR.parse(f[m])}catch(l){return PCL.array_error.replace("%1",m+1)+" "+l.message}return""}}
function ElementAccessorNumericMatrix(){var b=this;b.inheritFrom=ElementAccessorText;b.inheritFrom();b.GetValue=function(){return String2Matrix(b.GetElement().value,Number)};var c=b.SetValue;b.SetValue=function(d){c(Matrix2String(d))}}function ElementAccessorBigNumberMatrix(){var b=this;b.inheritFrom=ElementAccessorNumericMatrix;b.inheritFrom();b.GetValue=function(){return String2Matrix(b.GetElement().value,PCR.parse)}}
function BarDiagram(b,c){function d(){var D=L.m_destination.parentNode.getElementsByClassName("o8");return 0<D.length?D[0]:null}function e(D,U){D&&(D.style.display=U?"block":"none")}function f(D){0>D[1]&&(D[1]=0);0<D[0]&&(D[0]=0)}function m(D){var U=0>D[1]?-D[1]:D[1],Y=0>D[0]?-D[0]:D[0];U<Y?U=Y:U==Y&&(U+=1);D[0]=-U;D[1]=U}function l(D,U){D[0]?D[1]?(D[0]-=U/2,D[1]+=U/2):D[0]+=0>D[0]?-U:U:D[1]+=0>D[1]?-U:U}function w(D,U){var Y=D.filter(function(ba){return ba!=U&&0<ba.chartKind&&3!=ba.chartKind&&6!=
ba.chartKind&&16!=ba.chartKind});if(Y.length){var T={},Z=[],ma=[],ha=[],la=[];Y.forEach(function(ba,da){Z.push(ba.name);(da=ba.chart_options.line_color)&&"primary"!=da?"neutral"==da?ha.push(ba):"markup"==da&&(T[ba.name]="#CCCCCC"):ma.push(ba);7==ba.chartKind&&la.push(ba.name)});var pa=10>=ma.length?d3.schemeCategory10:d3.schemeCategory20;ma.forEach(function(ba,da){T[ba.name]=pa[da%pa.length]});pa=["#435560","#6e7c7c","#92967d","#c8c6a7"];ha.forEach(function(ba,da){T[ba.name]=pa[da%pa.length]});Y.forEach(function(ba,
da){(da=ba.chart_options.line_color)&&"bri"==da.substr(0,3)&&(da=Number(da.substr(3)),da=d3.hsl(T[Z[da]]).brighter(.5),T[ba.name]=da.toString())});Y.forEach(function(ba,da){(da=ba.chart_options.line_color)&&"sam"==da.substr(0,3)&&(da=Number(da.substr(3)),T[ba.name]=T[Z[da]])});D.filter(function(ba){return 17==ba.chartKind}).forEach(function(ba,da){T[ba.name]=T[la[da]]});return T}}function q(D,U,Y,T){if(U.length){void 0===Y&&(Y=0);U=[U[0]*T+Y,U[1]*T+Y];if(void 0===D[0]||D[0]>U[0])D[0]=U[0];if(void 0===
D[1]||D[1]<U[1])D[1]=U[1]}}function r(D,U,Y){var T=D.data[U];void 0===T&&(T=Y(),D.data[U]=T,Y=d3.bisectLeft(D.index,U),D.index.splice(Y,0,U));return T}function t(D,U){var Y={key:U.key,index:[],data:{},svg:D.svg,y:D.y};if(!U.length)return Y;for(var T=D.colsA.filter(function(da){return(W(da)||2<da.chartKind&&7>da.chartKind)&&da!=D.Column}),Z=function(){return{index:[],data:{}}},ma=0;ma<U.length;++ma){var ha=U[ma],la=ha[D.xColName];if(void 0!==la){var pa=D.scaleOrdinal?Math.round(D.x.bandwidth()/2):
0;la=Math.round(D.x(la))+pa;var ba=r(Y,la,Z);T.forEach(function(da){da=ha[da.name];void 0!==da&&(da=Math.round(D.y(da)),r(ba,da,function(){return ha}))})}}return Y}function u(D,U){var Y=D.color;U.append("svg").attr("width",24).attr("height",24).append("g").filter(function(T){return T.name!=D.xColName&&(3>T.chartKind||6<T.chartKind)}).append("rect").attr("x",4).attr("width",16).attr("y",function(T){return 1==T.chartKind||7==T.chartKind||8<T.chartKind?4:10}).attr("height",function(T){return 1==T.chartKind||
7==T.chartKind||8<T.chartKind?16:3}).style("fill",function(T){return Y(T.name)}).style("fill-opacity",function(T){T=T.chartKind;return 7==T||17==T?D.areaFillOpacity:1==T||8<T?D.barFillOpacity:1});U.append("span").attr("class","pcg-legend-text").text(function(T){return T.dispname})}function F(D){var U=D.colsA.filter(function(Y){return W(Y)&&Y!=D.xColumn&&!Y.chart_options.line_markup});2>U.length||(U=D.container.append("div").attr("class","w_ sa").selectAll(".x_").data(U).enter().append("div").attr("class",
"x_ _0"),u(D,U))}function Q(D,U,Y,T){if("none"!=U){var Z=D.svg.append("g").attr("class"," ha");"top"!=U&&("zero"==U?Z.attr("transform","translate(0 "+D.y(0)+")"):"center"==U?Z.attr("transform","translate(0 "+D.height/2+")"):Z.attr("transform","translate(0 "+D.height+")"));var ma="top"==U||"zero"==U&&0>(D.domy[1]+D.domy[0])/2?D.d3.axisTop(D.x):D.d3.axisBottom(D.x);if(D.scaleOrdinal){var ha=T.length/10;1<ha&&(ha=Math.round(ha),ma.tickValues(D.x.domain().filter(function(la,pa){return!(pa%ha)})))}Z.call(ma);
Z.selectAll("text").attr("class","qa");"center"==U&&"center"==Y&&Z.selectAll("text").filter(function(la){return 0==la}).attr("x","-1.5em")}if("none"!=Y){T="right"==Y||"zero"==Y&&0>(D.domx[1]+D.domx[0])/2?D.d3.axisRight(D.y):D.d3.axisLeft(D.y);Z=[Math.abs(D.domy[0]),Math.abs(D.domy[1])];Z[0]>Z[1]&&(ma=Z[0],Z[0]=Z[1],Z[0]=ma);if(99999<Z[1]||.001>Z[1])T=T.tickFormat(D.d3.format("s"));5<D.width/D.height&&T.ticks(5);Z=D.svg.append("g").attr("class"," ha");"right"==Y?Z.attr("transform","translate("+D.width+
" 0)"):"zero"==Y?Z.attr("transform","translate("+D.x(0)+" 0)"):"center"==Y&&Z.attr("transform","translate("+D.width/2+" 0)");Z.call(T);Z.selectAll("text").attr("class","qa");"center"==U&&"center"==Y&&Z.selectAll("text").filter(function(la){return 0==la}).style("visibility","hidden")}}function p(D,U,Y,T){var Z=D.y.domain(),ma=0>Z[0]&&0<Z[1];if(U.length){var ha=Y.map(function(da){return{x:da[D.xColumn.name],values:U.map(function(ta){return{name:ta.name,value:da[ta.name]}}).filter(function(ta){return void 0!==
ta.value&&!isNaN(ta.value)})}});Y=D.x.bandwidth?D.x.bandwidth():D.width;var la=0;D.x.domain();if(!D.x.bandwidth){var pa=ha.map(function(da){return da.x});pa.sort(function(da,ta){return da-ta});Y=pa.reduce(function(da,ta,va){return va<ha.length-1?(ta=Math.abs(D.x(pa[va+1])-D.x(ta)),da<ta?da:ta):da},Y);la=Math.round(Y/2)}T=1-T/100;var ba=D.d3.scaleBand().paddingInner(T).paddingOuter(T/2).domain(U.map(function(da){return da.name})).range([0,Y]);D.svg.selectAll(".dbar").data(ha).enter().append("g").attr("class",
"g").attr("transform",function(da){return"translate("+D.x(da.x)+",0)"}).selectAll("rect").data(function(da){return da.values}).enter().append("rect").attr("width",function(){var da=ba.bandwidth();return da?da:1}).attr("x",function(da){return ba(da.name)-la}).attr("y",function(da){return ma?0<=da.value?D.y(da.value):D.y(0):D.y(da.value)}).attr("height",function(da){return ma?Math.abs(D.y(da.value)-D.y(0)):D.height-D.y(da.value)}).style("stroke",function(da){return D.color(da.name)}).style("fill-opacity",
D.barFillOpacity).style("fill",function(da){return D.color(da.name)})}}function h(D,U,Y){U.length&&(Y=Y.map(function(T){return{x:T[D.xColumn.name],color:T[U[0].name]>T[U[3].name]?U[2].name:U[1].name,opacity:T[U[0].name]>T[U[3].name]?.7:.1,values:U.map(function(Z){return T[Z.name]})}}),D.svg.selectAll(".dcandle").data(Y).enter().append("rect").style("stroke",function(T){return D.color(T.color)}).style("fill",function(T){return D.color(T.color)}).style("fill-opacity",function(T){return T.opacity}).attr("width",
5).attr("x",function(T){return D.x(T.x)-2.5}).attr("y",function(T){return D.y(D.d3.max([T.values[0],T.values[3]]))}).attr("height",function(T){return D.y(D.d3.min([T.values[0],T.values[3]]))-D.y(D.d3.max([T.values[0],T.values[3]]))}),D.svg.selectAll("line.stem").data(Y).enter().append("svg:line").attr("class","stem").style("stroke",function(T){return D.color(T.color)}).attr("x1",function(T){return D.x(T.x)}).attr("x2",function(T){return D.x(T.x)}).attr("y1",function(T){return D.y(T.values[1])}).attr("y2",
function(T){return D.y(D.d3.max([T.values[0],T.values[3]]))}),D.svg.selectAll("line.stem1").data(Y).enter().append("svg:line").attr("class","stem1").style("stroke",function(T){return D.color(T.color)}).attr("x1",function(T){return D.x(T.x)}).attr("x2",function(T){return D.x(T.x)}).attr("y1",function(T){return D.y(T.values[2])}).attr("y2",function(T){return D.y(D.d3.min([T.values[0],T.values[3]]))}))}function y(D,U){U=D.d3["curve"+("monotone"==U?"monotone-x":U).split("-").map(function(Y){return Y.substr(0,
1).toUpperCase()+Y.substr(1)}).join("")];U||(U=D.d3.curveBasis);return U}function K(D,U,Y,T){return U.map(function(Z,ma){return{name:Z.name,dispname:Z.dispname,options:Z.chart_options,interpolate:y(D,Z.chart_options.interpolate),values:Y.filter(function(ha){return void 0!==ha[Z.name]}).map(function(ha){var la={x:ha[D.xColumn.name],y:void 0===ha[Z.name]?void 0:0+ha[Z.name],i:ha[Z.name+"_interpolate"]};T&&T(la,ha,ma);return la})}})}function O(D,U,Y){Y.attr("d",function(T){return U.curve(T.interpolate)(T.values)}).style("stroke",
function(T){return D.color(T.name)}).style("stroke-width",function(T){T=T.options.line_width;return void 0===T?"3px":T}).style("stroke-dasharray",function(T){return(T=T.options.line_pattern)?T:""})}function x(D,U,Y){U.length&&(Y=K(D,U,Y),U=D.d3.line().defined(function(T){return void 0!==T.y&&!isNaN(T.y)&&void 0!==T.x}).x(function(T){return D.x(T.x)}).y(function(T){return D.y(T.y)}),Y=D.svg.selectAll(".dline").data(Y).enter().append("g").attr("class","dline"),O(D,U,Y.append("path").attr("class","fa").attr("fill",
"none")))}function H(D,U,Y,T){U.length&&(T=K(D,U,T,function(Z,ma,ha){ha=Y.length>ha?Y[ha].name:0;Z.y0=ha?ma[ha]:0}),U=D.d3.area().defined(function(Z){return void 0!==Z.y&&!isNaN(Z.y)&&void 0!==Z.y0&&!isNaN(Z.y0)}).x(function(Z){return D.x(Z.x)}).y0(function(Z){return D.y(Z.y0)}).y1(function(Z){return D.y(Z.y)}),T=D.svg.selectAll(".darea").data(T).enter().append("g").attr("class","darea"),O(D,U,T.append("path").attr("class","ga").attr("fill",function(Z){return D.color(Z.name)}).style("fill-opacity",
D.areaFillOpacity).style("opacity",D.areaFillOpacity)))}function J(D,U,Y){0>D.y.domain()[0]&&D.y.domain();U.length&&(Y=Y.map(function(T){return{x:T[D.xColumn.name],values:U.map(function(Z){return{name:Z.name,value:T[Z.name]}}).filter(function(Z){return"undefined"!==typeof Z.value})}}).filter(function(T){return T.values.length}),Y=D.svg.selectAll(".ra").data(Y).enter().append("g").attr("class","ra").attr("transform",function(T){return"translate("+D.x(T.x)+",0)"}),Y.selectAll("line").data(function(T){return T.values}).enter().append("line").attr("y1",
function(T){return D.y(D.y.domain()[0])}).style("stroke",function(T){return D.color(T.name)}),Y.selectAll("text").data(function(T){return T.values}).enter().append("text").attr("dy","1em").attr("dx","0.5em").style("fill",function(T){return D.color(T.name)}).attr("y",D.y(D.y.domain()[1])).text(function(T){return T.value}))}function C(D,U,Y){U.length&&(U=U.map(function(T){return{name:T.name,dispname:T.dispname,values:Y.filter(function(Z){return void 0!==Z[T.name]&&null!==Z[T.name]}).map(function(Z){return{x:Z[D.xColumn.name],
y:0+Z[T.name],shape:D.d3.symbols[T.chartKind-9]}})}}),D.svg.selectAll(".dscatter").data(U).enter().append("g").attr("class","g").style("stroke",function(T){return D.color(T.name)}).style("fill-opacity",D.areaFillOpacity).style("fill",function(T){return D.color(T.name)}).selectAll("point").data(function(T){return T.values}).enter().append("path").attr("class","point").attr("d",D.d3.symbol().type(function(T){return T.shape})).attr("transform",function(T){return"translate("+D.x(T.x)+","+D.y(T.y)+")"}))}
function E(D,U,Y){if(U.length){U=U.map(function(Z){return{name:Z.name,dispname:Z.dispname,values:Y.filter(function(ma){return void 0!==ma[Z.name]&&null!==ma[Z.name]}).map(function(ma){return{x:ma[D.xColumn.name],y:void 0===ma[Z.name].y?0:ma[Z.name].y,data:ma[Z.name],name:Z.name}})}});U=D.svg.selectAll(".dgraphics").data(U).enter().append("g").attr("class",function(Z){return"g dgraphics dgraphics-"+Z.name});var T=D.domy;T=T[1]-T[0];0>T&&(T=-T);U.selectAll("gpoint").data(function(Z){return Z.values}).enter().append("g").attr("class",
"gpoint").attr("transform",function(Z){return"translate("+(D.x(Z.x)-D.x(0))+","+(D.y(Z.y)-D.y(0))+")"}).each(function(Z){var ma=D.d3.select(this).selectAll(".ta").data([{children:Z.data}]).enter().append("g").attr("class","ta");PCG.render(D.d3,ma,D.xgscale,D.ygscale,Z.name)})}}function B(D,U){D.colsA.filter(function(ha){return 2<ha.chartKind&&7>ha.chartKind}).sort(function(ha,la){return ha.chartKind-la.chartKind});var Y=D.colsA.filter(function(ha){return!ha.chart_options.line_markup&&(W(ha)||2<ha.chartKind&&
7>ha.chartKind||17==ha.chartKind)}).sort(function(ha,la){var pa=ha==D.xColumn?-100:0;pa+=la==D.xColumn?100:0;return ha.chartKind-la.chartKind+pa}),T=D.container.append("div").attr("class","ia sa").style("display","none"),Z=T.append("table");if(1<U.length){var ma=Z.append("tr");ma.append("th");ma.selectAll("pcg-tt-group-hdr").data(U).enter().append("th").attr("class",function(ha,la){return"pcg-tt-group-hdr pcg-tooltip-group-"+la}).text(function(ha,la){return"#"+(1+la)})}Y=Z.selectAll("pcg-tt-row").data(Y).enter().append("tr").attr("class",
function(ha){return ha==D.xColumn?"ja":"ka"});Z=Y.append("td");u(D,Z);Y.selectAll("pcg-tt-data").data(function(ha){return U.map(function(){return ha})}).enter().append("td").attr("class",function(ha,la){return"la pcg-tooltip-value-"+ha.name+" pcg-tooltip-group-"+la});D.container.selectAll("svg").on("mousemove",function(){var ha=D.d3.mouse(this),la=Math.round(ha[0])-D.margin.left,pa=Math.round(ha[1])-D.margin.top;ha=D.d3.event.pageX;var ba=D.d3.event.pageY;if(!(0>la||la>D.width)){D.container.selectAll(".pcg-hover-line").attr("x1",
la).attr("x2",la).style("opacity",.5);var da=$(this).data("group-index"),ta=D.container.node().getBoundingClientRect();ta=ta.left+ta.width/2;var va=I(D,T,la,pa,U,da);D.container.selectAll(".pcg-hover-line").data(U).style("opacity",function(oa,na){return va[na]?.5:0}).attr("x1",function(oa,na){return va[na]?va[na].x:0}).attr("x2",function(oa,na){return va[na]?va[na].x:0});T.style("display","block");la=T.node().getBoundingClientRect();T.style("left",Math.round(ha-(ha<ta?-20:20+la.width))+"px").style("top",
Math.round(ba-28)+"px")}}).on("mouseout",function(){T.style("display","none");D.container.selectAll(".pcg-hover-line").style("opacity",0);D.container.selectAll(".pcg-hover-marker").style("opacity",0)})}function z(D,U,Y){if(D.index.length)return U=D.index[0>U?D.index.length-1:0],{value:D.data[U],coord:U,delta:U>Y?U-Y:Y-U}}function A(D,U,Y){var T=U.data[Y],Z=Y;void 0===T&&U.index.length&&(D=D.d3.bisectLeft(U.index,Y),(D==U.index.length||0<D&&U.index[D]-Y>Y-U.index[D-1])&&D--,Z=U.index[D],T=U.data[Z]);
return{value:T,coord:Z,delta:Z>Y?Z-Y:Y-Z}}function I(D,U,Y,T,Z,ma){var ha={};U.selectAll(".la").classed("be",!1);for(var la=0;la<Z.length;++la){var pa=Z[la];pa.svg.node();var ba=A(D,pa,Y),da=ba.value?ma==la?A(D,ba.value,T):z(ba.value,la-ma,T):ba,ta=".pcg-tooltip-group-"+la,va=U.selectAll(ta);if(5<Z.length){var oa=ma-2,na=ma+2;0>oa?(na=4,oa=0):na>=Z.length&&(oa=Z.length-5,na=Z.length-1);va.classed("x",la<oa||la>na)}da&&da.value?(ha[la]={index:la,dx:ba.delta,dy:da.delta,x:ba.coord,y:da.coord,value:da.value},
ta=U.selectAll(ta+".la"),ta.classed("be",ma==la),ta.html(function(v){return void 0===da.value[v.name]?"":v.formatter.Format(v.name,da.value)}),pa.svg.selectAll(".pcg-hover-marker-"+la).attr("cx",ba.coord).attr("cy",function(v){v=da.value[v.name];return void 0===v?0:pa.y(v)}).style("opacity",function(v){var N=da.value;return void 0===N[v.name]||4==v.chartKind&&0<=N[v.open]-N[v.close]||5==v.chartKind&&0>N[v.open]-N[v.close]?0:1})):U.selectAll(ta).text("")}return ha}function M(D,U,Y){D.svg.selectAll(".pcg-hover-line").data([U]).enter().append("line").attr("class",
"pcg-hover-line pcg-hover-line-"+Y).attr("stroke-width",1).style("stroke","#000").attr("stroke-dasharray","1,1").attr("y1",0).attr("y2",D.height).attr("x1",0).attr("x2",0).style("opacity",0);var T=D.colsA.filter(function(ma){return 3==ma.chartKind||6==ma.chartKind}).sort(function(ma,ha){return ma.chartKind-ha.chartKind});U=D.colsA.filter(function(ma){return!ma.chart_options.line_markup&&(W(ma)||4==ma.chartKind||5==ma.chartKind||17==ma.chartKind)&&ma!=D.xColumn}).map(function(ma){return{name:ma.name,
chartKind:ma.chartKind,open:2==T.length?T[0].name:0,close:2==T.length?T[1].name:0}});var Z=D.d3;D.svg.selectAll(".pcg-hover-marker.pcg-hover-marker-"+Y).data(U).enter().append("circle").attr("class","pcg-hover-marker pcg-hover-marker-"+Y).attr("cx",0).attr("cy",0).attr("r",3).style("opacity",0).style("fill",function(ma){return Z.rgb(D.color(ma.name)).brighter(.5)}).style("stroke",function(ma){return Z.rgb(D.color(ma.name)).darker(.3)})}var L=this,W=function(D,U){return 2==D.chartKind||1==D.chartKind||
7==D.chartKind||8<D.chartKind&&15>D.chartKind};L.Header=new RecordsetHeader;L.Show=function(){e(d(),!0);e(L.m_destination,!0)};L.Hide=function(){e(d(),!1);e(L.m_destination,!1)};L.GetElementToShow=function(){return L.m_destination.parentNode};L.m_destination=document.getElementById(b);var X=c?c:{y_scale_type:"default"};L.lastData=null;L.Render=function(D){L.m_destination.innerHTML="";if(D.length){var U=window.d3,Y=U.values(L.Header.Columns).filter(function(S){return S.visible}),T=Y.filter(function(S){return 16==
S.chartKind}),Z=T.length?D.reduce(function(S,aa){var ca=T.reduce(function(fa,ua){var ja=19==ua.varType;return fa+(ja?"":ua.dispname+" : ")+ua.formatter.Format(ua.name,aa)+(ja?"":" ")},"");if(S.key!=ca){var ka=[aa];ka.key=ca;S.data.push(ka);S.key=ca}else S.data[S.data.length-1].push(aa);return S},{data:[],key:"-+?("}):{data:[D]},ma=Y.filter(function(S){return 1==S.chartKind});if(ma.length){ma=ma[0];var ha=ma.name,la=D.length?D[0][ha]:0,pa=$(L.m_destination);D="string"==typeof la;la=la instanceof Date;
var ba=!D&&!la,da={top:40,right:50,bottom:40,left:50};pa=pa.width()-da.left-da.right;if(void 0===X.aspect_ratio||""==X.aspect_ratio)X.aspect_ratio="4:3";var ta="find"==X.aspect_ratio&&"linear_x"==X.y_axis_type,va=X.aspect_ratio.split(":");2!=va.length&&(va=[4,3]);va=Number(va[1])/Number(va[0]);var oa=Math.ceil(pa*va);if(0>pa||0>oa)pa=oa=1;var na=U.select(L.m_destination),v=w(Y,ma);if(v){var N={width:pa,height:oa,margin:da,d3:U,barFillOpacity:.9,areaFillOpacity:.3,xColumn:ma,xColName:ha,color:function(S){return v[S]},
colsA:Y,aspectRatio:va,container:na,scaleOrdinal:D,scaleDate:la,scaleLinear:ba,graphicsScale:X.graphics_scale,findAspectRatio:ta};F(N);var R=[];Z.data.forEach(function(S,aa){L.renderImpl(N,S,aa);S=t(N,S);R.push(S);M(N,S,R.length-1)});B(N,R)}}}};L.renderImpl=function(D,U,Y){var T=D.colsA.filter(function(ja,ra){return 1==ja.chartKind&&ja!=D.xColumn}),Z=[8,15,16],ma=D.colsA.filter(function(ja){return ja!=D.xColumn&&ja.chartKind&&-1==Z.indexOf(ja.chartKind)}),ha=function(ja){return ja[D.xColName]},la=
D.d3,pa=D.scaleOrdinal?la.scaleBand().domain(U.map(ha)).rangeRound([0,D.width]):(D.scaleDate?la.scaleTime().domain([la.min(U,ha),la.max(U,ha)]):la.scaleLinear()).range([0,D.width]),ba="log"==X.y_axis_type?la.scaleLog().base(X.scale_log_base).clamp(!0):"power"==X.y_axis_type?la.scalePow().exponent(X.scale_power_exponent):la.scaleLinear();U.key&&D.container.append("div").attr("class","s8 p9").attr("style","margin:4px "+D.margin.right+"px 4px "+D.margin.left+"px;").text(U.key);var da=D.colsA.filter(function(ja){return 7==
ja.chartKind}),ta=D.colsA.filter(function(ja){return 17==ja.chartKind}),va=da.length!=ta.length||0<T.length,oa=[la.min(U,function(ja){return la.min(ma,function(ra){return 0<ja[ra.name]&&va?0:ja[ra.name]})}),la.max(U,function(ja){return la.max(ma,function(ra){return 0>ja[ra.name]&&va?0:ja[ra.name]})})];oa[0]==oa[1]&&(oa[0]=Math.round(oa[0])-1,oa[1]=oa[0]+2);X.y_center_zero?m(oa):"zero"==X.x_axis_position&&f(oa);var na=D.scaleLinear?[la.min(U,ha),la.max(U,ha)]:null;if(na&&T.length&&U.length){var v=
U.map(ha);v.sort(function(ja,ra){return ja-ra});ha=0;ha=v.reduce(function(ja,ra,ya){ra=v[ya+1]-ra;return ya<v.length-1?ja<ra?ja:ra:ja},v[v.length-1]-v[0]);ha/=2;na[0]-=ha;na[1]+=ha}na&&X.x_center_zero?m(na):"zero"==X.y_axis_position&&f(na);D.findAspectRatio&&oa[1]-oa[0]&&na[1]-na[0]&&(D.aspectRatio=(oa[1]-oa[0])/(na[1]-na[0]),D.height=Math.ceil(D.width*D.aspectRatio));ba=ba.range([D.height,0]);if("linear_x"==X.y_axis_type&&D.scaleLinear){var N=Math.abs(na[1]-na[0]),R=Math.abs(oa[1]-oa[0]);ha=N*D.aspectRatio-
R;N=R/D.aspectRatio-N;0<ha?l(oa,ha):0<N&&l(na,N)}if("log"==X.y_axis_type)if(0==oa[0]||0>oa[0]&&0<oa[1])oa[0]=1E-6;else if(0==oa[1]||0<oa[0]&&0>oa[1])oa[1]=1E-6;oa=ba.domain(oa).nice().domain();D.scaleLinear&&pa.domain(na);D.x=pa;D.y=ba;D.xMin=pa(U[0][D.xColName]);D.xMax=pa(U[U.length-1][D.xColName]);D.domy=oa;D.domx=na;var S={};pa=D.colsA.filter(function(ja){return 15==ja.chartKind});if(pa.length){var aa=[],ca=[],ka=Math.abs(oa[1]-oa[0])/Math.abs(na[1]-na[0])/D.aspectRatio;pa.forEach(function(ja){U.filter(function(ra){return void 0!==
ra[ja.name]}).forEach(function(ra){PCG.getDefs(ra[ja.name],S,ja.name);var ya=[],Ea=[];PCG.getDomain(ra[ja.name],0,0,ya,Ea);2==ya.length&&2==Ea.length&&(q(aa,ya,ra[D.xColumn.name],"y"==D.graphicsScale?1/ka:1),q(ca,Ea,ra[ja.name].y,"x"==D.graphicsScale?ka:1))})});if(aa.length&&ca.length){D.y(oa[1]);D.y(ca[1]);var fa=[D.y(oa[1])-D.y(ca[1]),D.x(aa[1])-D.x(na[1]),D.y(ca[0])-D.y(oa[0]),D.x(oa[0])-D.x(aa[0])];for(oa=0;oa<fa.length;++oa)fa[oa]=0>fa[oa]?0:Math.ceil(fa[oa]);D.margin.top+=fa[0];D.margin.right+=
fa[1];D.margin.bottom+=fa[2]}}Y=D.container.append("svg").attr("width",D.width+D.margin.left+D.margin.right).attr("height",D.height+D.margin.top+D.margin.bottom).attr("data-group-index",Y);if(pa.length){oa=pa.reduce(function(ja,ra){var ya=D.color(ra.name);return ja+".dgraphics-"+ra.name+"{ stroke:"+ya+"} .dgraphics text { fill:"+ya+"; } "},"");for(var ua in S)na=S[ua],ba=D.color(na.suffix),oa+=".dgraphics-"+na.suffix+" { stroke:"+ba+"; } .dgraphics-"+na.suffix+" text { fill:"+ba+"; }  .marker-"+na.suffix+
" {fill:"+ba+";} .pattern-"+na.suffix+" {stroke:"+ba+"; width:0.5}";Y.append("style").text(oa);PCG.appendDefs(la,Y,S);D.xgscale="y"==D.graphicsScale?function(ja){return D.x(0)+D.y(0)-D.y(ja)}:D.x;D.ygscale="x"==D.graphicsScale?function(ja){return D.y(0)+D.x(0)-D.x(ja)}:D.y}Y=Y.append("g").attr("transform","translate("+D.margin.left+","+D.margin.top+")");D.svg=Y;Q(D,X.x_axis_position,X.y_axis_position,U);p(D,T,U,X.bar_width?X.bar_width:100);T=D.colsA.filter(function(ja){return 2<ja.chartKind&&7>ja.chartKind}).sort(function(ja,
ra){return ja.chartKind-ra.chartKind});h(D,T,U);T=D.colsA.filter(function(ja){return 2==ja.chartKind});x(D,T,U);H(D,da,ta,U);da=D.colsA.filter(function(ja){return 8<ja.chartKind&&15>ja.chartKind});C(D,da,U);da=D.colsA.filter(function(ja){return 8==ja.chartKind});J(D,da,U);E(D,pa,U);fa&&(D.margin.top-=fa[0],D.margin.right-=fa[1],D.margin.bottom-=fa[2])}}
function ElementAccessorSvg(){function b(d,e){for(var f in e){var m=e[f];switch(Object.prototype.toString.call(m)){case "[object Array]":for(var l=d.find(f),w=0;w<m.length;++w)b($(l.get(w)),m[w]);break;case "[object String]":case "[object Number]":"__text"==f?d.text(m):d.attr(f,m);break;default:b(d.find(f),m)}}}var c=this;c.inheritFrom=ElementAccessorDefault;c.inheritFrom();c.GetParent=function(){return c.GetElement()};c.GetRawValue=function(){return $(c.GetElement())};c.SetValue=function(d){var e=
$(c.GetElement()),f;for(f in d){var m=e.find("#"+f);b(m,d[f])}}}
function ElementAccessorSvgMap(){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.GetParent=function(){return b.GetElement()};b.GetRawValue=function(){var c=$(b.GetElement()).find(".mapitem_selected");return c.length?c[0].id:""};b.ResetValue=function(){$(b.GetElement()).find(".mapitem_selected").attr("class","mapitem")};b.SetValue=function(c){var d=$(b.GetElement());c=d.find("#"+c);c.length&&(d.find(".mapitem_selected").attr("class","mapitem"),$(c[0]).attr("class","mapitem mapitem_selected"))}}
function ElementAccessorSvgKeyboard(){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.value="";var c=null;b.init=function(){var d=$(b.GetElement());d.find("svg").attr("style","width:100%;height:auto;"+(d.find("svg").attr("style")?d.find("svg").attr("style"):""));d.find(".keyboard_key").on("click",function(){var e=$(this).attr("id"),f=b.value;b.value="kbd_backspace"!=e?f+(f.length?";":"")+e:f.substring(0,f.lastIndexOf(";"));c&&c()})};b.addEventListener=function(d,e){"change"==d&&
(c=e)};b.changeSources=function(){return[b]};b.GetParent=function(){return b.GetElement()};b.GetRawValue=function(){return b.value};b.ResetValue=function(){b.value=""};b.SetValue=function(d){b.value=d}}
var PCG=function(){function b(x,H,J,C){x.attr("id",H.type+"_"+H.name+J+"_"+H.suffix).attr("patternUnits","objectBoundingBox").attr("patternContentUnits","objectBoundingBox").attr("width",1/J).attr("height",1/J);C&&x.attr("patternTransform","rotate("+C+")")}function c(x,H,J,C,E,B,z){x=x.append("rect").attr("x",H).attr("y",J).attr("width",C).attr("height",E);B&&x.attr("transform","rotate("+B+",0.5,0.5)");z&&x.attr("fill",z)}function d(x){if(void 0===x.aspect_ratio||""==x.aspect_ratio)x.aspect_ratio=
"4:3";x=x.aspect_ratio.split(":");return Number(x[1])/Number(x[0])}function e(x,H){return void 0===x?void 0===H?"":H:" "+x}function f(x,H,J,C,E,B){void 0!==J&&(H=H[C+"Size"],void 0===H&&(H="pattern"==C?20:10),x.attr(E,"url(#"+(C+"_"+J+H+"_"+B)+")"))}function m(x){switch(x){case "thick":return"va";case "thick-extra":return"wa";case "thin":return"xa";case "thick-dash":return"ya";case "thick-chain":return"za";case "dash":return"_b";case "chain":return"ab";case "chain-double":return"bb"}return"ua"}function l(x,
H,J,C,E){H.each(function(B){var z=x.select(this);void 0!==B.lineType&&z.attr("class",m(B.lineType));var A=B.patternStroke?B.patternStroke:B.stroke;A=A?A:E;B.hatchType&&"fill"!=B.hatchType?f(z,B,B.hatchType,"pattern","fill",A):B.fill&&z.attr("fill",B.fill);f(z,B,B.markerStart,"marker","marker-start",A);f(z,B,B.markerEnd,"marker","marker-end",A);f(z,B,B.markerMid,"marker","marker-mid",A);void 0!==B.transform&&z.attr("transform",B.transform.map(function(I){return I.type+"("+K[I.type](I,J,C)+")"}).join(" "))});
return H}function w(x,H,J,C,E,B,z){var A=z?z:J;H=H.selectAll(J).data(function(I){return I.children.filter(function(M){return M.type==A||M.type==J})}).enter().append(J);l(x,H,C,E,B);return H}function q(x){var H=0>x[1]?-x[1]:x[1],J=0>x[0]?-x[1]:x[1];H<J&&(H=J);x[0]=-H;x[1]=H}function r(x,H){x[0]?x[1]?(x[0]-=H/2,x[1]+=H/2):x[0]+=0>x[0]?-H:H:x[1]+=0>x[1]?-H:H}function t(x,H,J,C){return x(J)-x(0)+" "+(H(C)-H(0))}function u(x,H,J,C){return x(J)+" "+H(C)}function F(x,H,J){return u(x,H,J.x,J.y)}function Q(x,
H,J){return t(x,H,J.dx,J.dy)}function p(x,H,J,C,E,B){if(void 0!==H){var z=x.patternStroke?x.patternStroke:x.stroke;z&&(E=z);z=H+"_"+E;void 0===C[z]&&(C[z]={type:J,sizes:{},name:H,suffix:E});(x=x[J+"Size"])||(x=B);C[z].sizes[x]=1}}function h(x,H,J){x.forEach(function(C){p(C,C.hatchType,"pattern",H,J,20);p(C,C.markerStart,"marker",H,J,10);p(C,C.markerEnd,"marker",H,J,10);p(C,C.markerMid,"marker",H,J,10);"g"!=C.type&&"group"!=C.type||h(C.children,H,J)});return H}function y(x,H,J,C){H=x?x(H):H;x=x?x(J):
J;if(void 0===C[0]||H<C[0])C[0]=H;if(void 0===C[1]||x>C[1])C[1]=x}var K={translate:function(x,H,J){return H(x.x)+e(J(x.y))},scale:function(x){return x.x+e(x.y)},rotate:function(x,H,J){return x.a+e(H(x.x),H(0))+e(J(x.y),J(0))},skewX:function(x){return x.a},matrix:function(x,H,J){return e(x.a," 0")+e(x.b," 0")+e(x.c," 0")+e(x.d," 0")+e(H(x.e)-H(0)," 0")+e(J(0)-J(x.f)," 0")}};K.skewY=K.skewX;var O={M:F,m:Q,V:function(x,H,J){return H(J.y)},v:function(x,H,J){return H(J.dy)-H(0)},H:function(x,H,J){return x(J.x)},
h:function(x,H,J){return x(J.dx)-x(0)},L:F,l:Q,Z:function(){return""},C:function(x,H,J){return u(x,H,J.x1,J.y1)+","+u(x,H,J.x2,J.y2)+","+F(x,H,J)},c:function(x,H,J){return t(x,H,J.dx1,J.dy1)+","+t(x,H,J.dx2,J.dy2)+","+Q(x,H,J)},S:function(x,H,J){return u(x,H,J.x2,J.y2)+","+F(x,H,J)},s:function(x,H,J){return t(x,H,J.dx2,J.dy2)+","+Q(x,H,J)},Q:function(x,H,J){return u(x,H,J.x1,J.y1)+","+F(x,H,J)},q:function(x,H,J){return t(x,H,J.dx1,J.dy1)+","+Q(x,H,J)},T:F,t:Q,A:function(x,H,J){return t(x,H,-J.rx,
-J.ry)+","+J.angle+","+J.fa+","+J.fs+","+F(x,H,J)},a:function(x,H,J){return t(x,H,-J.rx,-J.ry)+","+J.angle+","+J.fa+","+J.fs+","+Q(x,H,J)}};return{svg:function(x,H,J,C){x=x.select(H);x.select("svg").remove();H=$(H).width()-C.left-C.right;J=d(J);J*=H;40>H&&(H=40);40>J&&(J=40);x=x.append("svg").attr("width",H+C.left+C.right).attr("height",J+C.top+C.bottom);C.width=H;C.height=J;return x},adjustDomains:function(x,H,J,C){H[0]==H[1]&&(H[0]=Math.round(H[0])-1,H[1]=H[0]+2);C.y_center_zero&&q(H);J&&C.x_center_zero&&
q(J);var E=d(C);if("linear_x"==C.y_axis_type){var B=Math.abs(J[1]-J[0]),z=Math.abs(H[1]-H[0]),A=B*E-z;E=z/E-B;0<A?(x=x.scaleLinear().domain(J).nice().domain(),J[0]=x[0],J[1]=x[1],r(H,A)):0<E&&(x=x.scaleLinear().domain(H).nice().domain(),H[0]=x[0],H[1]=x[1],r(J,E))}if("log"==C.y_axis_type)if(0==H[0]||0>H[0]&&0<H[1])H[0]=1E-6;else if(0==H[1]||0<H[0]&&0>H[1])H[1]=1E-6},scaleY:function(x,H,J,C){x="log"==C.y_axis_type?x.scaleLog().base(C.scale_log_base).clamp(!0):"power"==C.y_axis_type?x.scalePow().exponent(C.scale_power_exponent):
x.scaleLinear();return x=x.range([J.height,0]).domain(H)},scaleX:function(x,H,J,C,E){C=H[1]instanceof Date;return"string"==typeof H[1]?x.scaleBand().domain(E).rangeRound([0,J.width]):(C?x.scaleTime().domain(H):x.scaleLinear()).range([0,J.width]).domain(H)},axisX:function(x,H,J,C,E){if("none"!=E.x_axis_position){H=H.append("g").attr("class","x ha");"top"!=E.x_axis_position&&("center"==E.x_axis_position?H.attr("transform","translate(0,"+C.height/2+")"):H.attr("transform","translate(0,"+C.height+")"));
x="top"==E.x_axis_position?x.axisTop(J):x.axisBottom(J);J=J.domain();if("string"==typeof J[1]){var B=J.length/10;1<B&&(B=Math.round(B),x.tickValues(J.filter(function(z,A){return!(A%B)})))}H.call(x);H.selectAll("text").attr("class","qa");"center"==E.x_axis_position&&"center"==E.y_axis_position&&H.selectAll("text").filter(function(z){return 0==z}).attr("x","-1.5em")}},axisY:function(x,H,J,C,E){if("none"!=E.y_axis_position){H=H.append("g").attr("class","y ha");"right"==E.y_axis_position?H.attr("transform",
"translate("+C.width+",0)"):"center"==E.y_axis_position&&H.attr("transform","translate("+C.width/2+",0)");C=J.domain();C=[Math.abs(C[0]),Math.abs(C[1])];if(C[0]>C[1]){var B=C[0];C[0]=C[1];C[0]=B}if(99999<C[1]||.001>C[1])z=z.tickFormat(x.format("s"));var z="right"==E.y_axis_position?x.axisRight(J):x.axisLeft(J);H.call(z);H.selectAll("text").attr("class","qa");"center"==E.x_axis_position&&"center"==E.y_axis_position&&H.selectAll("text").filter(function(A){return 0==A}).style("visibility","hidden")}},
render:function(x,H,J,C,E){var B=function(A){return C(0)-C(A)};w(x,H,"rect",J,C,E).attr("stroke",function(A){return A.stroke}).attr("width",function(A){return J(A.width)-J(0)}).attr("x",function(A){return J(A.x)}).attr("y",function(A){return C(A.y+A.height)}).attr("height",function(A){return B(A.height)});w(x,H,"text",J,C,E).attr("stroke",function(A){return A.stroke}).attr("fill",function(A){return A.fill}).attr("text-anchor",function(A){return A.textAnchor}).attr("font-size",function(A){return B(A.fontSize)}).attr("x",
function(A){return J(A.x)}).attr("y",function(A){return C(A.y)}).text(function(A){return A.text});w(x,H,"ellipse",J,C,E,"circle").attr("stroke",function(A){return A.stroke}).attr("ry",function(A){return B(A.ry?A.ry:A.r)}).attr("rx",function(A){return J(A.rx?A.rx:A.r)-J(0)}).attr("cx",function(A){return J(A.cx)}).attr("cy",function(A){return C(A.cy)});w(x,H,"line",J,C,E).attr("stroke",function(A){return A.stroke}).attr("x1",function(A){return J(A.x1)}).attr("x2",function(A){return J(A.x2)}).attr("y1",
function(A){return C(A.y1)}).attr("y2",function(A){return C(A.y2)});w(x,H,"polyline",J,C).attr("stroke",function(A){return A.stroke}).attr("points",function(A){return A.points.map(function(I){return J(I[0])+" "+C(I[1])}).join(",")});w(x,H,"polygon",J,C,E).attr("stroke",function(A){return A.stroke}).attr("points",function(A){return A.points.map(function(I){return J(I[0])+" "+C(I[1])}).join(",")});w(x,H,"path",J,C,E).attr("stroke",function(A){return A.stroke}).attr("d",function(A){return A.d.map(function(I){return I.type+
" "+O[I.type](J,C,I)}).join(" ")});var z=0;H=H.selectAll("g").data(function(A){A=A.children.filter(function(I){return"g"==I.type||"group"==I.type});z=A.length;return A}).enter().append("g");l(x,H,J,C,E);z&&PCG.render(x,H,J,C)},getDefs:function(x,H,J){return h(x,H,J)},appendDefs:function(x,H,J){x=H.append("defs");for(var C in J){H=J[C];for(var E in H.sizes){var B=x.append(H.type),z=Number(E);switch(H.name){case "fill":b(B,H,z,0);c(B,0,0,1,1,void 0,H.suffix);break;case "diagonal":b(B,H,z,45);c(B,0,
0,.005,1,void 0,H.suffix);break;case "cross":b(B,H,z,0);c(B,0,0,.005,1,0,void 0,H.suffix);c(B,0,0,.005,1,90,void 0,H.suffix);break;case "arrow":var A=Math.round(.73*z);0==A%2&&--A;3>A&&(A=3);B.attr("markerUnits","strokeWidth").attr("id",H.type+"_"+H.name+z+"_"+H.suffix).attr("markerWidth",z).attr("markerHeight",A).attr("refX",""+z).attr("refY",(A-1)/2).attr("orient","auto-start-reverse").append("path").attr("stroke",H.suffix).attr("fill",H.suffix).attr("d","M0,0 L0,"+(A-1)+" L"+(z-1)+","+(A-1)/2+
" z")}}}},getDomain:function(x,H,J,C,E){for(var B=[[x,function(X){return X+H},function(X){return J+X}]];B.length;){var z=B.pop();x=z[0];var A=z[1];z=z[2];for(var I=0;I<x.length;++I){var M=x[I];switch(M.type){case "rect":y(A,M.x,M.x+M.width,C);y(z,M.y,M.y+M.height,E);break;case "line":y(A,M.x1,M.x2,C);y(z,M.y1,M.y2,E);break;case "circle":case "ellipse":var L=M.rx?M.rx:M.r,W=M.ry?M.ry:M.r;y(A,M.cx-L,M.cx+L,C);y(z,M.cy-W,M.cy+W,E);break;case "text":y(A,M.x,M.x+M.fontSize*M.text.length,C);y(z,M.y,M.y+
M.fontSize,E);break;case "group":B.push([M.children,A,z])}}}},Render:function(x,H,J){if(void 0!==x){H.innerHTML="";var C=window.d3,E=PCG.svg(C,H,J,{top:0,bottom:0,left:0,right:0});E.attr("class","graphics-default");E.attr("preserveAspectRatio","xMinYMin");E.append("style").text(".graphics-default { stroke:#000; } .graphics-default text { fill:#000; } marker {fill:black;} .graphics-default pattern {stroke:none;fill:#000}");var B={children:x};x=PCG.getDefs(x,{},"black");PCG.appendDefs(C,E,x);x=E.append("g");
x=x.selectAll(".ta").data([B]).enter().append("g").attr("class","ta graphics-default");PCG.render(C,x,function(A){return A},function(A){return-A},"black");C=x.node().getBoundingClientRect();B=H.getBoundingClientRect();H=[C.x-B.x,C.width];C=[C.y-B.y,C.height];B=4/3;J.aspect_ratio&&(J=J.aspect_ratio.split(":"),B=Number(J[0])/Number(J[1]));J=.2*H[1];x=.2*C[1];var z=B/(H[1]/C[1]);1<z?J=(C[1]+x)*B-H[1]:1>z&&(x=(H[1]+J)/B-C[1]);J&&x&&E.attr("viewBox",H[0]-J/2+" "+(C[0]-x/2)+" "+(H[1]+J)+" "+(C[1]+x))}}}}();
function ElementAccessorGraphics(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();var b=[];this.GetRawValue=function(){return b};this.SetValue=function(c){b=c}}
function FormatterGraphics(b){var c;this.Format=function(d){if(!c){c=document.createElement("div");c.style.width="250px";var e=b.aspect_ratio?b.aspect_ratio.split(":"):[4,3];c.style.height=Math.round(100/e[0]*e[1])+"px"}e=c;document.body.appendChild(e);PCG.Render(d,e,b);e.remove();return e.innerHTML};this.FormatAsync=function(d,e){e.SetValue(d);PCG.Render(d,e.GetElement(),b)};this.isNumeric=!1}
function TreeDiagram(b){function c(f){function m(w,q,r){r.children&&0!=r.children.length&&(w[q]=w[q]||[],r.children.forEach(function(t){w[q].push(t);m(w,q+1,t)}))}var l=[[f]];m(l,1,f);return l}var d=this;d.Header=new RecordsetHeader;d.Show=function(){d.m_destination.style.display="block"};d.Hide=function(){d.m_destination.style.display="none"};d.m_destination=document.getElementById(b);var e="circle cross diamond square star triangle wye".split(" ").reduce(function(f,m,l){f[m]=l;return f},{});d.Render=
function(f){function m(K){K.children&&(K.children.forEach(m),q(K))}function l(K){K.attr("class",function(O){return O._children||O.children?"yc zc":"yc _e"})}function w(K,O){var x=t.descendants().reverse();x.forEach(function(C){C.y=150*C.depth});var H=h.selectAll("g.ca").data(x,function(C){return C.id||(C.id=++y)}),J=H.enter().append("svg:g").attr("class","ca").attr("transform",function(C){return"translate("+K.y0+","+K.x0+")"}).on("click",function(C){q(C);w(C,O)});l(J.append("svg:path").attr("d",function(C){C=
e[C.data.shape];void 0===C&&(C=0);return O.symbol().type(O.symbols[C])([50])}));J.append("svg:text").attr("x",function(C){return C.children||C._children?-10:10}).attr("dy",".35em").attr("text-anchor",function(C){return C.children||C._children?"end":"start"}).text(function(C){return C.data.name}).style("fill-opacity",1E-6);J.append("svg:text").attr("x",function(C){return C.parent?-80:0}).attr("dy",function(C){return C.parent?(C.parent.x-C.x)/2+(C.parent.x>=C.x?-5:12):0}).style("fill","#ccc").attr("text-anchor",
"end").attr("class","pcg-link-text").text(function(C){return C.parent&&C.data.link?C.data.link:""}).style("fill-opacity",1E-6);J.transition().duration(1E3).attr("transform",function(C){return"translate("+C.y+","+C.x+")"});J.select("text").transition().duration(1E3).style("fill-opacity",1);J.select(".pcg-link-text").transition().duration(1E3).style("fill-opacity",1);H.exit().transition().duration(1E3).attr("transform",function(C){return"translate("+K.y+","+K.x+")"}).remove();H.exit().select("text").transition().duration(1E3).style("fill-opacity",
1E-6);H.exit().select(".pcg-link-text").transition().duration(1E3).style("fill-opacity",1E-6);H=h.selectAll("path.ea").data(t.links(),function(C){return C.target.id});H.enter().insert("svg:path","g").attr("class","ea").attr("d",function(C){C={x:K.x0,y:K.y0};return Q({source:C,target:C})}).transition().duration(1E3).attr("d",Q);H.transition().duration(1E3).attr("d",Q);H.exit().transition().duration(1E3).attr("d",function(C){C={x:K.x,y:K.y};return Q({source:C,target:C})}).remove();x.forEach(function(C){C.x0=
C.x;C.y0=C.y});x=-K.y0;x=x+u/2+(K.children?-75:K._children?75:0);O.select(d.m_destination).select("g").transition().duration(500).attr("transform","translate("+x+",0)")}function q(K){K.children?(K._children=K.children,K.children=null):(K.children=K._children,K._children=null)}d.m_destination.innerHTML="";var r=window.d3,t=r.hierarchy(f),u=$(d.m_destination).width()-20-20,F=40*t.descendants().reduce(function(K,O){return K+(O.children?0:1)},0);if(0>u||0>F)u=F=1;r.tree().size([F,u])(t).descendants();
t.x0=F/2;t.y0=0;var Q=r.linkHorizontal().x(function(K){return K.y}).y(function(K){return K.x}),p=r.select(d.m_destination);p.select("svg").remove();var h=p.append("svg").attr("width",u).attr("height",F).append("g").attr("transform","translate(40,0)"),y=0;t.children&&!f.expanded&&t.children.forEach(m);w(t,r);f.expanded&&(f=c(t),F=Math.floor(f.length/2),w(f[0<F?F-1:0][0],r))}}
function ElementAccessorTree(){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.value={};b.d=null;b.GetParent=function(){return b.GetElement()};b.GetRawValue=function(){return b.value};b.SetValue=function(c){b.value=c;b.d||(b.d=new TreeDiagram(b.id));b.d.Render(c)}}function FormatterTree(b){this.Format=function(c){c.expanded=b;return c};this.isNumeric=!1}
function ElementAccessorTimezone(b){var c=this;c.initialvalue=void 0===b?"":b;var d=null,e=0,f="";c.filterList=function(){clearTimeout(e);e=setTimeout(function(){if(f!==c.filter.value&&""!=c.filter.value){f=c.filter.value;for(var m=null,l=Number.MAX_VALUE,w=new RegExp(f,"i"),q=0;q<c.options.length;++q){var r=c.options[q],t=JSON.stringify(r),u=t.match(w);if(u){u=u.index;for(var F=0;u-F-1&&'"'!=t.substr(u-F-1,1);)++F;t=F;if(t<l&&(m=r,l=t,!l))break}}m&&c.GetElement().value!=m.id&&(c.GetElement().value=
m.id,d&&d())}},300)};c.init=function(m,l){c.filter=document.getElementById(c.id+"_filter");c.filter.addEventListener("keyup",c.filterList);c.filter.addEventListener("cut",c.filterList);c.filter.addEventListener("paste",c.filterList);$(c.filter).parent().parent().find(".quick-pick").on("click",function(r){c.filter.value=r.currentTarget.innerText;$(c.filter).siblings("label").addClass("i3");c.filterList();return!1});m={};if(c.initialvalue)m.timeZone=c.initialvalue,m.offset=0;else{var w=new Date,q="";
Intl&&Intl.DateTimeFormat&&(q=Intl.DateTimeFormat().resolvedOptions().timeZone);m.timeZone=q;m.offset=w.getTimezoneOffset()}BSMakePOSTRequest("/service/timezones/",{OnResponse:function(r){c.options=r.zones;window.PCL&&!window.PCL.timzeones&&(window.PCL.timezones=r.zones);c.initialvalue=r.selection?r.selection.id:"";c.initOptions(r.zones,c.lastvalue?c.lastvalue:c.initialvalue);$(c.GetElement()).siblings("label").addClass("i3");l()}},m)};c.addEventListener=function(m,l){"change"==m&&(d=l)};c.query=
function(m){alert(m)};c.initOptions=function(m,l){m="";for(var w=0;w<c.options.length;++w){var q=c.options[w],r="";l==q.id&&(r='selected="selected"');m+='<OPTION VALUE="'+q.id+'" '+r+">"+q.territory+" "+q.name+"</OPTION>"}m.length&&(BSReplaceOptions(c.GetElement(),m),c.GetElement().addEventListener("change",function(t){d&&d()}))};c.changeSources=function(){return[c]};c.GetElement=function(){return document.getElementById(c.id)};c.ResetValue=function(){c.SetValue(c.initialvalue)};c.GetValue=function(){return c.GetElement().value};
c.GetRawValue=function(){return c.GetValue()};c.SetValue=function(m){var l=c.GetElement();"undefined"!=typeof l.type&&(l.value=m,c.lastvalue=m)};c.GetParent=function(){return c.GetElement().parentNode.parentNode.parentNode.parentNode}}
function ElementAccessorFiles(b){function c(w){for(var q=[],r=0;r<w.length;++r)q.push({file:w[r]});return q}function d(){var w=e.getFileElement().parent();w.find("button");var q=w.find(".pc-file-actions");w=w.find(".pc-file-list");f.length?(q.removeClass("j0").addClass("_0"),w.html('<div class="n"><table><tr><th class="o9">'+PCL.file+'</th><th class="p9" style="padding-right:5em">'+PCL.size+"</th></tr><tr>"+f.map(function(r,t){return"<td>"+r.file.name+'</td><td class="p9">'+PSS.getHRSize(r.file.size)+
'<button data-index="'+t+'" type="button" class="vb c2 btn-del"><i class="material-icons">&#xE872;</i></button></td>'}).join("</tr><tr>")+"</tr></div>"),w.find(".btn-del").on("click",function(){e.getFileElement()[0].files=m;if("client"==b){var r=$(this).data("index");f.splice(r,1);e.setFiles(f)}else e.setFiles([])})):(w.html(""),q.removeClass("_0").addClass("j0"))}var e=this;e.inheritFrom=ElementAccessorDefault;e.inheritFrom();e.changeSources=function(){return[e]};var f=[],m,l;e.getFileElement=function(){return $(e.GetElement())};
e.init=function(){var w=e.getFileElement();m=w[0].files;var q=w.parent();l=q.parent().find(".e4").first();l.html();q.find("button").on("click",function(r){w.trigger("click");r.preventDefault()});w.on("change",function(r){e.setFiles(c(w[0].files));r.preventDefault()});q.on("dragover",function(r){r.originalEvent.dataTransfer.dropEffect="copy";r.preventDefault()});q.on("drop",function(r){var t=r.originalEvent.dataTransfer.files;if(b||1==t.length)w[0].files=t,e.setFiles(c(t));r.preventDefault()})};e.handler=
function(){};e.addEventListener=function(w,q){"change"==w&&(e.handler=q)};e.GetRawValue=function(){var w=[];f.forEach(function(q){var r={},t;for(t in q)r[t]=q[t];w.push(r)});return w};e.setFiles=function(w){f=w;e.handler();d()};e.SetValue=function(w){f="string"==typeof w?String2Blob(w):w;d()}}
function ElementAccessorBlob(b,c,d,e){function f(){p>=w.length?Q.call(m,r):u.call(l,w[p++].file)}var m=this;m.inheritFrom=ElementAccessorFiles;m.inheritFrom(e);var l=new FileReader,w,q=function(){return{type:this.type,lastModified:this.lastModified,name:this.name,size:this.size}},r=[],t=b,u=b?l.readAsArrayBuffer:l.readAsText,F=m.init,Q=m.setFiles,p=0;m.init=function(h,y){F.call(m,h,y);l.onload=function(K){var O=p-1,x=w[O].file;r[O].data=K.target.result;r[O].chunk={index:0,total:1,size:x.size};f()};
(h=$(m.GetElement()).parent().find("input[type=hidden]").val())&&m.SetValue(h)};m.setFiles=function(h){r=h.map(function(y){y.file.toJSON=q;return{file:y.file,binary:t}});p=0;w=h;0<w.length&&w.reduce(function(y,K){return K.file.size>y?K.file.size:y},0)<=c&&(!d||""==d.Validate(r))?f():Q.call(m,r)};m.setBinaryMode=function(h){t!=h&&(u=(t=h)?l.readAsArrayBuffer:l.readAsText,(h=m.GetValue())&&h.length&&m.setFiles([]))}}
function ElementAccessorRawImage(b,c){var d=this;d.inheritFrom=ElementAccessorFiles;d.inheritFrom(!1);var e=new FileReader,f=new Image(100,100),m=null,l=[];e.onload=function(r){f.src=e.result};f.onload=function(){var r=document.createElement("canvas");r.width=f.naturalWidth;r.height=f.naturalHeight;var t=r.getContext("2d");t.drawImage(f,0,0);r=t.getImageData(0,0,r.width,r.height);l.data=r.data;l.width=r.width;l.height=r.height;q.call(d,l);m&&m()};f.onerror=function(){q.call(d,l);m&&m()};var w=d.init,
q=d.setFiles;d.init=function(r,t){w.call(d,r,t);m=t;if(r=$(d.GetElement()).parent().find("input[type=hidden]").val())l=String2Blob(r),r=JSON.parse(r),Array.isArray(r)&&r.length&&(f.src="data:"+r[0].file.type+";base64,"+r[0].data)};d.setFiles=function(r){l=r;Array.isArray(r)&&r.length&&(0!==r[0].file.type.search(/image\/*/)||b&&r[0].file.size>b?(q.call(d,l),m&&m()):e.readAsDataURL(r[0].file))};d.GetRawValue=function(){return l}}
function ValidatorFileSize(b,c){this.Validate=function(d){var e=d.reduce(function(f,m){m=m.file;m.size>f.fs&&m.size>b&&(f.fs=m.size,f.name=m.name);return f},{fs:0,ts:0});return e.fs?getFormattedMessage("err_file_size",PSS.getHRSize(b),e.name):c&&e.ts>c?getFormattedMessage("err_file_size",e.ts,d.map(function(f){return f.file.name}).join(",")):""}}
function ValidatorFileType(b){this.Validate=function(c){for(var d=c.reduce(function(f,m){f.push(b.reduce(function(l,w){return 0===m.file.type.search(new RegExp(w))?1:0},0));return f},[]),e=0;e<d.length;++e)if(0==d)return getFormattedMessage("err_file_type",c[e].file.name);return""}}
function FormatterFile(){this.Format=function(b){return""};this.FormatAsync=function(b,c){if(b){var d=new FileReader;d.addEventListener("load",function(){c.SetValue('<a download="'+b.filename+'" target="_blank" href="'+d.result+'">'+b.filename+"</a>")});var e={};b.type&&(e.type=b.type);d.readAsDataURL(new Blob(b.data,e))}else c.SetValue("")};this.isNumeric=!1}
function arrayBufferToBase64(b){var c="";b=new Uint8Array(b);for(var d=b.byteLength,e=0;e<d;e++)c+=String.fromCharCode(b[e]);return btoa(c)}function base64ToArrayBuffer(b){b=atob(b);for(var c=b.length,d=new Uint8Array(c),e=0;e<c;e++)d[e]=b.charCodeAt(e);return d.buffer}function Blob2String(b){return JSON.stringify(b.map(function(c){return{file:c.file,chunk:c.chunk,binary:c.binary,data:c.binary?arrayBufferToBase64(c.data):c.data}}))}
function String2Blob(b){if(!b)return[];b=JSON.parse(b);b.forEach(function(c){c.binary&&(c.data=base64ToArrayBuffer(c.data));c.file=new File([c.data],c.file.name,{type:c.file.type,lastModified:c.file.lastModified})});return b}
function ElementAccessorDataSelector(b,c){function d(B){if($(B.currentTarget).is(".pc-data-selector-header")){if(1==y.length)return;y.pop();K=y[y.length-1]}else if($(B.currentTarget).is(".pc-data-selector-folder"))K=$(B.currentTarget).data("value"),y.push(K);else if(!$(B.currentTarget).is("._f")){var z=$(B.currentTarget).data("value");z.selected=!z.selected;B=$(B.currentTarget);z=z.selected;B.find(".y0").html(z?b.checked:b.unchecked);z=e(K.children);f($(h.GetElement().parentNode).find(".pc-data-selector-header"),
z);m(e(y[0].children).items);return}O.toggleClass("xe",1==y.length);l(K)}function e(B){for(var z=[],A={a:B,i:0,selected:[]},I=B=0;A.i<A.a.length||z.length;)if(A.i<A.a.length){var M=A.a[A.i++];M.children?(z.push(A),A={a:M.children,i:0,selected:[],n:M}):(M.selected&&(I++,A.selected.push(M)),B++)}else{if(A.selected.length){M=void 0;var L=A.n;A=A.selected;var W={};for(M in L)W[M]="children"==M?A:L[M];A=W}else A=null;M=A;A=z.pop();M&&A.selected.push(M)}return{total:B,selected:I,items:A.selected}}function f(B,
z){B.find(".pc-meta-text").first().html(z.selected+"/"+z.total)}function m(B,z){B=JSON.stringify(B);var A=h.GetRawValue();B!=A&&(h.GetElement().value=B,H&&!z&&H())}function l(B){var z=B.children;x.html(B.name);B=h.GetElement().parentNode;$(B).find(".pc-data-selector-folder,.pc-data-selector-leaf").not(".x").remove();var A=$(B).find(".pc-data-selector-folder"),I=$(B).find(".pc-data-selector-leaf"),M=A.parent(),L={total:0,selected:0,items:[]},W;z.forEach(function(X){var D=X.children?e(X.children):0;
X.__filtered!=J?(W=(X.children?A:I).clone(!0,!0).removeClass("x"),W.find(".pc-list-text1").html(X.name),W.data("value",X),X.description&&W.find(".pc-list-text2").html(X.description)):W=null;D?(W&&f(W,D),L.total+=D.total,L.selected+=D.selected):(W&&(D=X.selected,W.find(".y0").html(D?b.checked:b.unchecked)),X.selected&&L.selected++,L.total++);W&&W.appendTo(M)});f($(B),L);return L}function w(B){return void 0===B.id?B.name:B.id}function q(B){return B.reduce(function(z,A){var I=w(A);z[I]||(z[I]=[]);z[I].push(A);
return z},{})}function r(B,z){B=q(B);var A=q(z);z=[];for(var I in B)z=A[I]?z.concat(B[I].map(function(M,L){return{first:M,second:L<A[I].length?A[I][L]:null}})):z.concat(B[I].map(function(M){return{first:M}}));return{a:z,i:0}}function t(B,z){B=[r(B,z)];for(B[0].i=0;B.length;)if(z=B[B.length-1],z.a.length>z.i){var A=z.a[z.i];A.second?A.first.children?B.push(r(A.first.children,A.second.children?A.second.children:[])):A.first.selected=!0:A.first.children?B.push({a:A.first.children.map(function(I){return{first:I}}),
i:0}):A.first.selected=!1;z.i++}else B.pop()}function u(B,z,A){B={a:B,i:0,ctx:A};for(var I=[];B.i<B.a.length||I.length;)if(B.i<B.a.length){var M=B.a[B.i++];!z(M,B)&&M.children&&(I.push(B),B={a:M.children,i:0,c:M,ctx:{},p:B})}else B=I.pop();return A}function F(B){var z=B.ctx;z.count?z.count++:z.count=1;z.count==B.a.length&&B.p&&B.c&&(B.c.__filtered=J,F(B.p))}function Q(B){E&&clearTimeout(E);var z=$(h.GetElement().parentNode).find(".m0");z.addClass("t0");E=setTimeout(function(A){E=0;p(A);z.removeClass("t0")},
500,B)}function p(B){J++;""!=B&&u(C.children,function(z,A){a:{for(I in z)if("string"==typeof z[I]&&-1!=z[I].indexOf(B)){var I=!0;break a}I=!1}if(!I)z.children&&z.children.length||(z.__filtered=J,F(A));else if(z.children)return!0},{});l(K)}var h=this,y=[{children:c&&c.length?c:[],name:""}],K=y[0],O,x,H,J=1,C=K,E;h.changeSources=function(){return[h]};h.inheritFrom=ElementAccessorDefault;h.inheritFrom();h.addEventListener=function(B,z){"change"==B&&(H=z)};h.init=function(){var B=$(h.GetElement().parentNode);
O=B.find(".pc-data-selector-header .y0");x=B.find(".pc-data-selector-header .b1");y[0].name=x.html();var z=h.GetValue();t(y[0].children,z);B.find(".a1").on("click",d);var A=B.find("._f");z=B.find(".we button");B.find(".pc-btn-search").on("click",function(){A.toggleClass("x");return!1});A.find("input").on("click",function(){return!1});z.on("click",function(){A.find("input").val("");A.addClass("x");p("")});A.find("input").on("input",function(I){Q(I.currentTarget.value)});l(y[0])};h.GetParent=function(){return h.GetElement().parentNode.parentNode};
h.GetValue=function(){var B=h.GetRawValue();return B&&""!=B?JSON.parse(B):[]};h.SetValue=function(B){B=""!=B&&B?"string"==typeof B?JSON.parse(B):B:[];t(y[0].children,B);l(K);m(B,!0)};h.replaceOptions=function(B,z){z||(z=h.GetValue(),t(B,z));z=y.map(w);y=[{name:y[0].name,children:B}];K=y[0];if(x){for(var A=1;A<z.length;++A)for(var I=K.children,M=0;M<I.length;++M)if(w(I[M])==z[A]){K=I[M];y.push(K);break}l(K)}C=y[0];B=e(B).items;m(B)};h.GetOptions=function(){return y[0].children}};
